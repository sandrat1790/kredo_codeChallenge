{"version":3,"sources":["services/serviceHelper.js","components/categories/CategoryIndex.jsx","components/products/ProductIndex.jsx","components/products/ProductDetailPage.jsx","services/categoryService.js","App.jsx","reportWebVitals.js","index.js"],"names":["axios","defaults","withCredentials","interceptors","request","use","config","onGlobalSuccess","response","data","onGlobalError","err","Promise","reject","process","REACT_APP_API_HOST_PREFIX","REACT_APP_API_NODE_HOST_PREFIX","CategoryIndex","categories","setCategoryId","className","map","category","name","onClick","id","ProductIndex","products","setProductId","navigate","useNavigate","useEffect","product","ProductDetail","console","error","src","height","width","alt","description","price","type","api","App","useState","setProducts","setCategories","categoryId","setProduct","log","method","url","crossdomain","headers","then","catch","categoryService","res","items","Fragment","path","element","to","ProductDetailPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","_logger","debug","extend","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c42044e3.chunk.js","sourcesContent":["import axios from \"axios\";\r\naxios.defaults.withCredentials = true;\r\n// Add a request interceptor\r\naxios.interceptors.request.use(function (config) {\r\n  config.withCredentials = true;\r\n  return config;\r\n});\r\n\r\n/**\r\n * Will unpack the response body from reponse object\r\n * @param {*} response\r\n *\r\n */\r\nconst onGlobalSuccess = (response) => {\r\n  /// Should not use if you need access to anything other than the data\r\n  return response.data;\r\n};\r\n\r\nconst onGlobalError = (err) => {\r\n  return Promise.reject(err);\r\n};\r\n\r\nconst API_HOST_PREFIX = process.env.REACT_APP_API_HOST_PREFIX;\r\nconst API_NODE_HOST_PREFIX = process.env.REACT_APP_API_NODE_HOST_PREFIX;\r\n\r\n//console.log(\"API_HOST_PREFIX\", API_HOST_PREFIX);\r\n\r\nexport {\r\n  onGlobalError,\r\n  onGlobalSuccess,\r\n  API_HOST_PREFIX,\r\n  API_NODE_HOST_PREFIX,\r\n};\r\n","import React from \"react\";\r\nimport \"../../../src/App.css\";\r\n\r\nfunction CategoryIndex({ categories, setCategoryId }) {\r\n  return (\r\n    <div className=\"category-index\">\r\n      {categories.map((category) => {\r\n        return (\r\n          <div className=\"category-container\" key={category.id}>\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">{category.name}</h5>\r\n\r\n                <button\r\n                  className=\"btn btn-primary\"\r\n                  onClick={() => setCategoryId(category.id)}\r\n                >\r\n                  view\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CategoryIndex;\r\n","import React, { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"../../../src/App.css\";\r\n\r\nfunction ProductIndex({ products, setProductId }) {\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (!products) {\r\n      navigate(\"/category\");\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div className=\"product-index\">\r\n      {products.map((product) => {\r\n        return (\r\n          <div className=\"product-container\" key={product.id}>\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">{product.name}</h5>\r\n                <button\r\n                  className=\"btn btn-primary\"\r\n                  onClick={() => setProductId(product)}\r\n                >\r\n                  View Details\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductIndex;\r\n","import React, { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./productdetailpage.css\";\r\n\r\nfunction ProductDetail({ product }) {\r\n  let navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (!product) {\r\n      console.error(\"no product\", product);\r\n      navigate(\"/category\");\r\n    }\r\n  }, [product]);\r\n\r\n  return (\r\n    <div className=\"product-detail\">\r\n      <div className=\"detail-container\">\r\n        <div className=\"wrapper\">\r\n          <div className=\"product-img\">\r\n            <img\r\n              src=\"http://bit.ly/2tMBBTd\"\r\n              height=\"420\"\r\n              width=\"327\"\r\n              alt=\"example\"\r\n            />\r\n          </div>\r\n          <div className=\"product-info\">\r\n            <div className=\"product-text\">\r\n              <h1>{product.name}</h1>\r\n              <p>{product.description}</p>\r\n            </div>\r\n            <div className=\"product-price-btn\">\r\n              <p>{product.price}</p>\r\n              <button type=\"button\">buy now</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductDetail;\r\n","import axios from \"axios\";\r\nimport {\r\n  onGlobalSuccess,\r\n  onGlobalError,\r\n} from \"../services/serviceHelper\";\r\n\r\nconst api = \"https://localhost:50001/api/category\";\r\n\r\nconst getCategories = () => {\r\n  const config = {\r\n    method: \"GET\",\r\n    url: api,\r\n    withCredentials: true,\r\n    crossdomain: true,\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  };\r\n  return axios(config).then(onGlobalSuccess).catch(onGlobalError);\r\n};\r\n\r\nconst getProductByCategory = (categoryId) => {\r\n  const config = {\r\n    method: \"GET\",\r\n    url: `${api}/${categoryId}/products`,\r\n    withCredentials: true,\r\n    crossdomain: true,\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  };\r\n  return axios(config).then(onGlobalSuccess).catch(onGlobalError);\r\n};\r\n\r\nexport { getCategories, getProductByCategory };\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Route,\r\n  Routes,\r\n  useNavigate,\r\n  Navigate,\r\n} from \"react-router-dom\";\r\nimport CategoryIndex from \"./components/categories/CategoryIndex\";\r\nimport ProductIndex from \"./components/products/ProductIndex\";\r\nimport ProductDetailPage from \"./components/products/ProductDetailPage\";\r\nimport * as categoryService from \"./services/categoryService\";\r\n// import * as productService from \"./services/productService\";\r\n\r\nfunction App() {\r\n  const [products, setProducts] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [categoryId, setCategoryId] = useState(null);\r\n  const [product, setProduct] = useState(null);\r\n  let navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    console.log(\"firing useEffect for getCategories\");\r\n    categoryService\r\n      .getCategories()\r\n      .then((res) => setCategories(res.items))\r\n      .catch((err) => console.error(err));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (categoryId) {\r\n      console.log(\"catId\", categoryId);\r\n      categoryService\r\n        .getProductByCategory(categoryId)\r\n        .then((res) => {\r\n          setProducts(res.items);\r\n          navigate(`/category/${categoryId}`);\r\n        })\r\n        .catch((err) => console.error(err));\r\n    }\r\n  }, [categoryId]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"product\", product);\r\n    if (product) {\r\n      navigate(`/product/${product.id}`);\r\n    }\r\n  }, [product]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Routes>\r\n        <Route path=\"/\" element={<Navigate to=\"/category\" />} />\r\n        <Route\r\n          path=\"/category\"\r\n          element={\r\n            <CategoryIndex\r\n              categories={categories}\r\n              setCategoryId={setCategoryId}\r\n            />\r\n          }\r\n        ></Route>\r\n        <Route\r\n          path=\"/category/:id\"\r\n          element={\r\n            <ProductIndex\r\n              products={products}\r\n              setProductId={setProduct}\r\n            />\r\n          }\r\n        ></Route>\r\n        <Route\r\n          path=\"/product/:id\"\r\n          element={<ProductDetailPage product={product} />}\r\n        ></Route>\r\n      </Routes>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport \"./services/serviceHelper\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport \"bootstrap/dist/js/bootstrap\";\r\nimport \"toastr/build/toastr.min.css\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport debug from \"sabio-debug\";\r\nconst _logger = debug.extend(\"root\");\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals(_logger);\r\n"],"sourceRoot":""}