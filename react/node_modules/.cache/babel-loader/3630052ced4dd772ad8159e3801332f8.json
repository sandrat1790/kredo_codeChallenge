{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\nvar _classCallCheck = require(\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar Generator = require(\"../Generator\");\nvar WebAssemblyExportImportedDependency = require(\"../dependencies/WebAssemblyExportImportedDependency\");\nvar WebAssemblyImportDependency = require(\"../dependencies/WebAssemblyImportDependency\");\nvar WebAssemblyInInitialChunkError = require(\"./WebAssemblyInInitialChunkError\");\n\n/** @typedef {import(\"../Compiler\")} Compiler */\n\nvar WebAssemblyGenerator;\nvar WebAssemblyJavascriptGenerator;\nvar WebAssemblyParser;\nvar WebAssemblyModulesPlugin = /*#__PURE__*/function () {\n  function WebAssemblyModulesPlugin(options) {\n    _classCallCheck(this, WebAssemblyModulesPlugin);\n    this.options = options;\n  }\n\n  /**\n   * @param {Compiler} compiler compiler\n   * @returns {void}\n   */\n  _createClass(WebAssemblyModulesPlugin, [{\n    key: \"apply\",\n    value: function apply(compiler) {\n      var _this = this;\n      compiler.hooks.compilation.tap(\"WebAssemblyModulesPlugin\", function (compilation, _ref) {\n        var normalModuleFactory = _ref.normalModuleFactory;\n        compilation.dependencyFactories.set(WebAssemblyImportDependency, normalModuleFactory);\n        compilation.dependencyFactories.set(WebAssemblyExportImportedDependency, normalModuleFactory);\n        normalModuleFactory.hooks.createParser.for(\"webassembly/experimental\").tap(\"WebAssemblyModulesPlugin\", function () {\n          if (WebAssemblyParser === undefined) {\n            WebAssemblyParser = require(\"./WebAssemblyParser\");\n          }\n          return new WebAssemblyParser();\n        });\n        normalModuleFactory.hooks.createGenerator.for(\"webassembly/experimental\").tap(\"WebAssemblyModulesPlugin\", function () {\n          if (WebAssemblyGenerator === undefined) {\n            WebAssemblyGenerator = require(\"./WebAssemblyGenerator\");\n          }\n          if (WebAssemblyJavascriptGenerator === undefined) {\n            WebAssemblyJavascriptGenerator = require(\"./WebAssemblyJavascriptGenerator\");\n          }\n          return Generator.byType({\n            javascript: new WebAssemblyJavascriptGenerator(),\n            webassembly: new WebAssemblyGenerator(_this.options)\n          });\n        });\n        compilation.chunkTemplate.hooks.renderManifest.tap(\"WebAssemblyModulesPlugin\", function (result, options) {\n          var chunk = options.chunk;\n          var outputOptions = options.outputOptions;\n          var moduleTemplates = options.moduleTemplates;\n          var dependencyTemplates = options.dependencyTemplates;\n          var _iterator = _createForOfIteratorHelper(chunk.modulesIterable),\n            _step;\n          try {\n            var _loop = function _loop() {\n              var module = _step.value;\n              if (module.type && module.type.startsWith(\"webassembly\")) {\n                var filenameTemplate = outputOptions.webassemblyModuleFilename;\n                result.push({\n                  render: function render() {\n                    return _this.renderWebAssembly(module, moduleTemplates.webassembly, dependencyTemplates);\n                  },\n                  filenameTemplate: filenameTemplate,\n                  pathOptions: {\n                    module: module\n                  },\n                  identifier: \"webassemblyModule\".concat(module.id),\n                  hash: module.hash\n                });\n              }\n            };\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              _loop();\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n          return result;\n        });\n        compilation.hooks.afterChunks.tap(\"WebAssemblyModulesPlugin\", function () {\n          var initialWasmModules = new Set();\n          var _iterator2 = _createForOfIteratorHelper(compilation.chunks),\n            _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var chunk = _step2.value;\n              if (chunk.canBeInitial()) {\n                var _iterator4 = _createForOfIteratorHelper(chunk.modulesIterable),\n                  _step4;\n                try {\n                  for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n                    var _module = _step4.value;\n                    if (_module.type.startsWith(\"webassembly\")) {\n                      initialWasmModules.add(_module);\n                    }\n                  }\n                } catch (err) {\n                  _iterator4.e(err);\n                } finally {\n                  _iterator4.f();\n                }\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n          var _iterator3 = _createForOfIteratorHelper(initialWasmModules),\n            _step3;\n          try {\n            for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n              var _module2 = _step3.value;\n              compilation.errors.push(new WebAssemblyInInitialChunkError(_module2, compilation.requestShortener));\n            }\n          } catch (err) {\n            _iterator3.e(err);\n          } finally {\n            _iterator3.f();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"renderWebAssembly\",\n    value: function renderWebAssembly(module, moduleTemplate, dependencyTemplates) {\n      return moduleTemplate.render(module, dependencyTemplates, {});\n    }\n  }]);\n  return WebAssemblyModulesPlugin;\n}();\nmodule.exports = WebAssemblyModulesPlugin;","map":{"version":3,"names":["Generator","require","WebAssemblyExportImportedDependency","WebAssemblyImportDependency","WebAssemblyInInitialChunkError","WebAssemblyGenerator","WebAssemblyJavascriptGenerator","WebAssemblyParser","WebAssemblyModulesPlugin","options","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","createParser","for","undefined","createGenerator","byType","javascript","webassembly","chunkTemplate","renderManifest","result","chunk","outputOptions","moduleTemplates","dependencyTemplates","modulesIterable","module","type","startsWith","filenameTemplate","webassemblyModuleFilename","push","render","renderWebAssembly","pathOptions","identifier","id","hash","afterChunks","initialWasmModules","Set","chunks","canBeInitial","add","errors","requestShortener","moduleTemplate","exports"],"sources":["C:/myCodes/KredoCodeChallenge/react/node_modules/webpack/lib/wasm/WebAssemblyModulesPlugin.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst Generator = require(\"../Generator\");\nconst WebAssemblyExportImportedDependency = require(\"../dependencies/WebAssemblyExportImportedDependency\");\nconst WebAssemblyImportDependency = require(\"../dependencies/WebAssemblyImportDependency\");\nconst WebAssemblyInInitialChunkError = require(\"./WebAssemblyInInitialChunkError\");\n\n/** @typedef {import(\"../Compiler\")} Compiler */\n\nlet WebAssemblyGenerator;\nlet WebAssemblyJavascriptGenerator;\nlet WebAssemblyParser;\n\nclass WebAssemblyModulesPlugin {\n\tconstructor(options) {\n\t\tthis.options = options;\n\t}\n\n\t/**\n\t * @param {Compiler} compiler compiler\n\t * @returns {void}\n\t */\n\tapply(compiler) {\n\t\tcompiler.hooks.compilation.tap(\n\t\t\t\"WebAssemblyModulesPlugin\",\n\t\t\t(compilation, { normalModuleFactory }) => {\n\t\t\t\tcompilation.dependencyFactories.set(\n\t\t\t\t\tWebAssemblyImportDependency,\n\t\t\t\t\tnormalModuleFactory\n\t\t\t\t);\n\n\t\t\t\tcompilation.dependencyFactories.set(\n\t\t\t\t\tWebAssemblyExportImportedDependency,\n\t\t\t\t\tnormalModuleFactory\n\t\t\t\t);\n\n\t\t\t\tnormalModuleFactory.hooks.createParser\n\t\t\t\t\t.for(\"webassembly/experimental\")\n\t\t\t\t\t.tap(\"WebAssemblyModulesPlugin\", () => {\n\t\t\t\t\t\tif (WebAssemblyParser === undefined) {\n\t\t\t\t\t\t\tWebAssemblyParser = require(\"./WebAssemblyParser\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn new WebAssemblyParser();\n\t\t\t\t\t});\n\n\t\t\t\tnormalModuleFactory.hooks.createGenerator\n\t\t\t\t\t.for(\"webassembly/experimental\")\n\t\t\t\t\t.tap(\"WebAssemblyModulesPlugin\", () => {\n\t\t\t\t\t\tif (WebAssemblyGenerator === undefined) {\n\t\t\t\t\t\t\tWebAssemblyGenerator = require(\"./WebAssemblyGenerator\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (WebAssemblyJavascriptGenerator === undefined) {\n\t\t\t\t\t\t\tWebAssemblyJavascriptGenerator = require(\"./WebAssemblyJavascriptGenerator\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn Generator.byType({\n\t\t\t\t\t\t\tjavascript: new WebAssemblyJavascriptGenerator(),\n\t\t\t\t\t\t\twebassembly: new WebAssemblyGenerator(this.options)\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\tcompilation.chunkTemplate.hooks.renderManifest.tap(\n\t\t\t\t\t\"WebAssemblyModulesPlugin\",\n\t\t\t\t\t(result, options) => {\n\t\t\t\t\t\tconst chunk = options.chunk;\n\t\t\t\t\t\tconst outputOptions = options.outputOptions;\n\t\t\t\t\t\tconst moduleTemplates = options.moduleTemplates;\n\t\t\t\t\t\tconst dependencyTemplates = options.dependencyTemplates;\n\n\t\t\t\t\t\tfor (const module of chunk.modulesIterable) {\n\t\t\t\t\t\t\tif (module.type && module.type.startsWith(\"webassembly\")) {\n\t\t\t\t\t\t\t\tconst filenameTemplate =\n\t\t\t\t\t\t\t\t\toutputOptions.webassemblyModuleFilename;\n\n\t\t\t\t\t\t\t\tresult.push({\n\t\t\t\t\t\t\t\t\trender: () =>\n\t\t\t\t\t\t\t\t\t\tthis.renderWebAssembly(\n\t\t\t\t\t\t\t\t\t\t\tmodule,\n\t\t\t\t\t\t\t\t\t\t\tmoduleTemplates.webassembly,\n\t\t\t\t\t\t\t\t\t\t\tdependencyTemplates\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tfilenameTemplate,\n\t\t\t\t\t\t\t\t\tpathOptions: {\n\t\t\t\t\t\t\t\t\t\tmodule\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tidentifier: `webassemblyModule${module.id}`,\n\t\t\t\t\t\t\t\t\thash: module.hash\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tcompilation.hooks.afterChunks.tap(\"WebAssemblyModulesPlugin\", () => {\n\t\t\t\t\tconst initialWasmModules = new Set();\n\t\t\t\t\tfor (const chunk of compilation.chunks) {\n\t\t\t\t\t\tif (chunk.canBeInitial()) {\n\t\t\t\t\t\t\tfor (const module of chunk.modulesIterable) {\n\t\t\t\t\t\t\t\tif (module.type.startsWith(\"webassembly\")) {\n\t\t\t\t\t\t\t\t\tinitialWasmModules.add(module);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (const module of initialWasmModules) {\n\t\t\t\t\t\tcompilation.errors.push(\n\t\t\t\t\t\t\tnew WebAssemblyInInitialChunkError(\n\t\t\t\t\t\t\t\tmodule,\n\t\t\t\t\t\t\t\tcompilation.requestShortener\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t}\n\n\trenderWebAssembly(module, moduleTemplate, dependencyTemplates) {\n\t\treturn moduleTemplate.render(module, dependencyTemplates, {});\n\t}\n}\n\nmodule.exports = WebAssemblyModulesPlugin;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}