{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\nvar _classCallCheck = require(\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar HookCodeFactory = /*#__PURE__*/function () {\n  function HookCodeFactory(config) {\n    _classCallCheck(this, HookCodeFactory);\n    this.config = config;\n    this.options = undefined;\n    this._args = undefined;\n  }\n  _createClass(HookCodeFactory, [{\n    key: \"create\",\n    value: function create(options) {\n      this.init(options);\n      var fn;\n      switch (this.options.type) {\n        case \"sync\":\n          fn = new Function(this.args(), '\"use strict\";\\n' + this.header() + this.content({\n            onError: function onError(err) {\n              return \"throw \".concat(err, \";\\n\");\n            },\n            onResult: function onResult(result) {\n              return \"return \".concat(result, \";\\n\");\n            },\n            resultReturns: true,\n            onDone: function onDone() {\n              return \"\";\n            },\n            rethrowIfPossible: true\n          }));\n          break;\n        case \"async\":\n          fn = new Function(this.args({\n            after: \"_callback\"\n          }), '\"use strict\";\\n' + this.header() + this.content({\n            onError: function onError(err) {\n              return \"_callback(\".concat(err, \");\\n\");\n            },\n            onResult: function onResult(result) {\n              return \"_callback(null, \".concat(result, \");\\n\");\n            },\n            onDone: function onDone() {\n              return \"_callback();\\n\";\n            }\n          }));\n          break;\n        case \"promise\":\n          var errorHelperUsed = false;\n          var content = this.content({\n            onError: function onError(err) {\n              errorHelperUsed = true;\n              return \"_error(\".concat(err, \");\\n\");\n            },\n            onResult: function onResult(result) {\n              return \"_resolve(\".concat(result, \");\\n\");\n            },\n            onDone: function onDone() {\n              return \"_resolve();\\n\";\n            }\n          });\n          var code = \"\";\n          code += '\"use strict\";\\n';\n          code += \"return new Promise((_resolve, _reject) => {\\n\";\n          if (errorHelperUsed) {\n            code += \"var _sync = true;\\n\";\n            code += \"function _error(_err) {\\n\";\n            code += \"if(_sync)\\n\";\n            code += \"_resolve(Promise.resolve().then(() => { throw _err; }));\\n\";\n            code += \"else\\n\";\n            code += \"_reject(_err);\\n\";\n            code += \"};\\n\";\n          }\n          code += this.header();\n          code += content;\n          if (errorHelperUsed) {\n            code += \"_sync = false;\\n\";\n          }\n          code += \"});\\n\";\n          fn = new Function(this.args(), code);\n          break;\n      }\n      this.deinit();\n      return fn;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup(instance, options) {\n      instance._x = options.taps.map(function (t) {\n        return t.fn;\n      });\n    }\n\n    /**\n     * @param {{ type: \"sync\" | \"promise\" | \"async\", taps: Array<Tap>, interceptors: Array<Interceptor> }} options\n     */\n  }, {\n    key: \"init\",\n    value: function init(options) {\n      this.options = options;\n      this._args = options.args.slice();\n    }\n  }, {\n    key: \"deinit\",\n    value: function deinit() {\n      this.options = undefined;\n      this._args = undefined;\n    }\n  }, {\n    key: \"header\",\n    value: function header() {\n      var code = \"\";\n      if (this.needContext()) {\n        code += \"var _context = {};\\n\";\n      } else {\n        code += \"var _context;\\n\";\n      }\n      code += \"var _x = this._x;\\n\";\n      if (this.options.interceptors.length > 0) {\n        code += \"var _taps = this.taps;\\n\";\n        code += \"var _interceptors = this.interceptors;\\n\";\n      }\n      for (var i = 0; i < this.options.interceptors.length; i++) {\n        var interceptor = this.options.interceptors[i];\n        if (interceptor.call) {\n          code += \"\".concat(this.getInterceptor(i), \".call(\").concat(this.args({\n            before: interceptor.context ? \"_context\" : undefined\n          }), \");\\n\");\n        }\n      }\n      return code;\n    }\n  }, {\n    key: \"needContext\",\n    value: function needContext() {\n      var _iterator = _createForOfIteratorHelper(this.options.taps),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var tap = _step.value;\n          if (tap.context) return true;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return false;\n    }\n  }, {\n    key: \"callTap\",\n    value: function callTap(tapIndex, _ref) {\n      var onError = _ref.onError,\n        onResult = _ref.onResult,\n        onDone = _ref.onDone,\n        rethrowIfPossible = _ref.rethrowIfPossible;\n      var code = \"\";\n      var hasTapCached = false;\n      for (var i = 0; i < this.options.interceptors.length; i++) {\n        var interceptor = this.options.interceptors[i];\n        if (interceptor.tap) {\n          if (!hasTapCached) {\n            code += \"var _tap\".concat(tapIndex, \" = \").concat(this.getTap(tapIndex), \";\\n\");\n            hasTapCached = true;\n          }\n          code += \"\".concat(this.getInterceptor(i), \".tap(\").concat(interceptor.context ? \"_context, \" : \"\", \"_tap\").concat(tapIndex, \");\\n\");\n        }\n      }\n      code += \"var _fn\".concat(tapIndex, \" = \").concat(this.getTapFn(tapIndex), \";\\n\");\n      var tap = this.options.taps[tapIndex];\n      switch (tap.type) {\n        case \"sync\":\n          if (!rethrowIfPossible) {\n            code += \"var _hasError\".concat(tapIndex, \" = false;\\n\");\n            code += \"try {\\n\";\n          }\n          if (onResult) {\n            code += \"var _result\".concat(tapIndex, \" = _fn\").concat(tapIndex, \"(\").concat(this.args({\n              before: tap.context ? \"_context\" : undefined\n            }), \");\\n\");\n          } else {\n            code += \"_fn\".concat(tapIndex, \"(\").concat(this.args({\n              before: tap.context ? \"_context\" : undefined\n            }), \");\\n\");\n          }\n          if (!rethrowIfPossible) {\n            code += \"} catch(_err) {\\n\";\n            code += \"_hasError\".concat(tapIndex, \" = true;\\n\");\n            code += onError(\"_err\");\n            code += \"}\\n\";\n            code += \"if(!_hasError\".concat(tapIndex, \") {\\n\");\n          }\n          if (onResult) {\n            code += onResult(\"_result\".concat(tapIndex));\n          }\n          if (onDone) {\n            code += onDone();\n          }\n          if (!rethrowIfPossible) {\n            code += \"}\\n\";\n          }\n          break;\n        case \"async\":\n          var cbCode = \"\";\n          if (onResult) cbCode += \"(_err\".concat(tapIndex, \", _result\").concat(tapIndex, \") => {\\n\");else cbCode += \"_err\".concat(tapIndex, \" => {\\n\");\n          cbCode += \"if(_err\".concat(tapIndex, \") {\\n\");\n          cbCode += onError(\"_err\".concat(tapIndex));\n          cbCode += \"} else {\\n\";\n          if (onResult) {\n            cbCode += onResult(\"_result\".concat(tapIndex));\n          }\n          if (onDone) {\n            cbCode += onDone();\n          }\n          cbCode += \"}\\n\";\n          cbCode += \"}\";\n          code += \"_fn\".concat(tapIndex, \"(\").concat(this.args({\n            before: tap.context ? \"_context\" : undefined,\n            after: cbCode\n          }), \");\\n\");\n          break;\n        case \"promise\":\n          code += \"var _hasResult\".concat(tapIndex, \" = false;\\n\");\n          code += \"var _promise\".concat(tapIndex, \" = _fn\").concat(tapIndex, \"(\").concat(this.args({\n            before: tap.context ? \"_context\" : undefined\n          }), \");\\n\");\n          code += \"if (!_promise\".concat(tapIndex, \" || !_promise\").concat(tapIndex, \".then)\\n\");\n          code += \"  throw new Error('Tap function (tapPromise) did not return promise (returned ' + _promise\".concat(tapIndex, \" + ')');\\n\");\n          code += \"_promise\".concat(tapIndex, \".then(_result\").concat(tapIndex, \" => {\\n\");\n          code += \"_hasResult\".concat(tapIndex, \" = true;\\n\");\n          if (onResult) {\n            code += onResult(\"_result\".concat(tapIndex));\n          }\n          if (onDone) {\n            code += onDone();\n          }\n          code += \"}, _err\".concat(tapIndex, \" => {\\n\");\n          code += \"if(_hasResult\".concat(tapIndex, \") throw _err\").concat(tapIndex, \";\\n\");\n          code += onError(\"_err\".concat(tapIndex));\n          code += \"});\\n\";\n          break;\n      }\n      return code;\n    }\n  }, {\n    key: \"callTapsSeries\",\n    value: function callTapsSeries(_ref2) {\n      var _this = this;\n      var _onError = _ref2.onError,\n        onResult = _ref2.onResult,\n        resultReturns = _ref2.resultReturns,\n        onDone = _ref2.onDone,\n        doneReturns = _ref2.doneReturns,\n        rethrowIfPossible = _ref2.rethrowIfPossible;\n      if (this.options.taps.length === 0) return onDone();\n      var firstAsync = this.options.taps.findIndex(function (t) {\n        return t.type !== \"sync\";\n      });\n      var somethingReturns = resultReturns || doneReturns || false;\n      var code = \"\";\n      var current = onDone;\n      var _loop = function _loop(j) {\n        var i = j;\n        var unroll = current !== onDone && _this.options.taps[i].type !== \"sync\";\n        if (unroll) {\n          code += \"function _next\".concat(i, \"() {\\n\");\n          code += current();\n          code += \"}\\n\";\n          current = function current() {\n            return \"\".concat(somethingReturns ? \"return \" : \"\", \"_next\").concat(i, \"();\\n\");\n          };\n        }\n        var done = current;\n        var doneBreak = function doneBreak(skipDone) {\n          if (skipDone) return \"\";\n          return onDone();\n        };\n        var content = _this.callTap(i, {\n          onError: function onError(error) {\n            return _onError(i, error, done, doneBreak);\n          },\n          onResult: onResult && function (result) {\n            return onResult(i, result, done, doneBreak);\n          },\n          onDone: !onResult && done,\n          rethrowIfPossible: rethrowIfPossible && (firstAsync < 0 || i < firstAsync)\n        });\n        current = function current() {\n          return content;\n        };\n      };\n      for (var j = this.options.taps.length - 1; j >= 0; j--) {\n        _loop(j);\n      }\n      code += current();\n      return code;\n    }\n  }, {\n    key: \"callTapsLooping\",\n    value: function callTapsLooping(_ref3) {\n      var onError = _ref3.onError,\n        onDone = _ref3.onDone,\n        rethrowIfPossible = _ref3.rethrowIfPossible;\n      if (this.options.taps.length === 0) return onDone();\n      var syncOnly = this.options.taps.every(function (t) {\n        return t.type === \"sync\";\n      });\n      var code = \"\";\n      if (!syncOnly) {\n        code += \"var _looper = () => {\\n\";\n        code += \"var _loopAsync = false;\\n\";\n      }\n      code += \"var _loop;\\n\";\n      code += \"do {\\n\";\n      code += \"_loop = false;\\n\";\n      for (var i = 0; i < this.options.interceptors.length; i++) {\n        var interceptor = this.options.interceptors[i];\n        if (interceptor.loop) {\n          code += \"\".concat(this.getInterceptor(i), \".loop(\").concat(this.args({\n            before: interceptor.context ? \"_context\" : undefined\n          }), \");\\n\");\n        }\n      }\n      code += this.callTapsSeries({\n        onError: onError,\n        onResult: function onResult(i, result, next, doneBreak) {\n          var code = \"\";\n          code += \"if(\".concat(result, \" !== undefined) {\\n\");\n          code += \"_loop = true;\\n\";\n          if (!syncOnly) code += \"if(_loopAsync) _looper();\\n\";\n          code += doneBreak(true);\n          code += \"} else {\\n\";\n          code += next();\n          code += \"}\\n\";\n          return code;\n        },\n        onDone: onDone && function () {\n          var code = \"\";\n          code += \"if(!_loop) {\\n\";\n          code += onDone();\n          code += \"}\\n\";\n          return code;\n        },\n        rethrowIfPossible: rethrowIfPossible && syncOnly\n      });\n      code += \"} while(_loop);\\n\";\n      if (!syncOnly) {\n        code += \"_loopAsync = true;\\n\";\n        code += \"};\\n\";\n        code += \"_looper();\\n\";\n      }\n      return code;\n    }\n  }, {\n    key: \"callTapsParallel\",\n    value: function callTapsParallel(_ref4) {\n      var _this2 = this;\n      var _onError2 = _ref4.onError,\n        onResult = _ref4.onResult,\n        onDone = _ref4.onDone,\n        rethrowIfPossible = _ref4.rethrowIfPossible,\n        _ref4$onTap = _ref4.onTap,\n        onTap = _ref4$onTap === void 0 ? function (i, run) {\n          return run();\n        } : _ref4$onTap;\n      if (this.options.taps.length <= 1) {\n        return this.callTapsSeries({\n          onError: _onError2,\n          onResult: onResult,\n          onDone: onDone,\n          rethrowIfPossible: rethrowIfPossible\n        });\n      }\n      var code = \"\";\n      code += \"do {\\n\";\n      code += \"var _counter = \".concat(this.options.taps.length, \";\\n\");\n      if (onDone) {\n        code += \"var _done = () => {\\n\";\n        code += onDone();\n        code += \"};\\n\";\n      }\n      var _loop2 = function _loop2(i) {\n        var done = function done() {\n          if (onDone) return \"if(--_counter === 0) _done();\\n\";else return \"--_counter;\";\n        };\n        var doneBreak = function doneBreak(skipDone) {\n          if (skipDone || !onDone) return \"_counter = 0;\\n\";else return \"_counter = 0;\\n_done();\\n\";\n        };\n        code += \"if(_counter <= 0) break;\\n\";\n        code += onTap(i, function () {\n          return _this2.callTap(i, {\n            onError: function onError(error) {\n              var code = \"\";\n              code += \"if(_counter > 0) {\\n\";\n              code += _onError2(i, error, done, doneBreak);\n              code += \"}\\n\";\n              return code;\n            },\n            onResult: onResult && function (result) {\n              var code = \"\";\n              code += \"if(_counter > 0) {\\n\";\n              code += onResult(i, result, done, doneBreak);\n              code += \"}\\n\";\n              return code;\n            },\n            onDone: !onResult && function () {\n              return done();\n            },\n            rethrowIfPossible: rethrowIfPossible\n          });\n        }, done, doneBreak);\n      };\n      for (var i = 0; i < this.options.taps.length; i++) {\n        _loop2(i);\n      }\n      code += \"} while(false);\\n\";\n      return code;\n    }\n  }, {\n    key: \"args\",\n    value: function args() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        before = _ref5.before,\n        after = _ref5.after;\n      var allArgs = this._args;\n      if (before) allArgs = [before].concat(allArgs);\n      if (after) allArgs = allArgs.concat(after);\n      if (allArgs.length === 0) {\n        return \"\";\n      } else {\n        return allArgs.join(\", \");\n      }\n    }\n  }, {\n    key: \"getTapFn\",\n    value: function getTapFn(idx) {\n      return \"_x[\".concat(idx, \"]\");\n    }\n  }, {\n    key: \"getTap\",\n    value: function getTap(idx) {\n      return \"_taps[\".concat(idx, \"]\");\n    }\n  }, {\n    key: \"getInterceptor\",\n    value: function getInterceptor(idx) {\n      return \"_interceptors[\".concat(idx, \"]\");\n    }\n  }]);\n  return HookCodeFactory;\n}();\nmodule.exports = HookCodeFactory;","map":{"version":3,"names":["HookCodeFactory","config","options","undefined","_args","init","fn","type","Function","args","header","content","onError","err","onResult","result","resultReturns","onDone","rethrowIfPossible","after","errorHelperUsed","code","deinit","instance","_x","taps","map","t","slice","needContext","interceptors","length","i","interceptor","call","getInterceptor","before","context","tap","tapIndex","hasTapCached","getTap","getTapFn","cbCode","doneReturns","firstAsync","findIndex","somethingReturns","current","j","unroll","done","doneBreak","skipDone","callTap","error","syncOnly","every","loop","callTapsSeries","next","onTap","run","allArgs","concat","join","idx","module","exports"],"sources":["C:/myCodes/KredoCodeChallenge/react/node_modules/tapable/lib/HookCodeFactory.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nclass HookCodeFactory {\n\tconstructor(config) {\n\t\tthis.config = config;\n\t\tthis.options = undefined;\n\t\tthis._args = undefined;\n\t}\n\n\tcreate(options) {\n\t\tthis.init(options);\n\t\tlet fn;\n\t\tswitch (this.options.type) {\n\t\t\tcase \"sync\":\n\t\t\t\tfn = new Function(\n\t\t\t\t\tthis.args(),\n\t\t\t\t\t'\"use strict\";\\n' +\n\t\t\t\t\t\tthis.header() +\n\t\t\t\t\t\tthis.content({\n\t\t\t\t\t\t\tonError: err => `throw ${err};\\n`,\n\t\t\t\t\t\t\tonResult: result => `return ${result};\\n`,\n\t\t\t\t\t\t\tresultReturns: true,\n\t\t\t\t\t\t\tonDone: () => \"\",\n\t\t\t\t\t\t\trethrowIfPossible: true\n\t\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase \"async\":\n\t\t\t\tfn = new Function(\n\t\t\t\t\tthis.args({\n\t\t\t\t\t\tafter: \"_callback\"\n\t\t\t\t\t}),\n\t\t\t\t\t'\"use strict\";\\n' +\n\t\t\t\t\t\tthis.header() +\n\t\t\t\t\t\tthis.content({\n\t\t\t\t\t\t\tonError: err => `_callback(${err});\\n`,\n\t\t\t\t\t\t\tonResult: result => `_callback(null, ${result});\\n`,\n\t\t\t\t\t\t\tonDone: () => \"_callback();\\n\"\n\t\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase \"promise\":\n\t\t\t\tlet errorHelperUsed = false;\n\t\t\t\tconst content = this.content({\n\t\t\t\t\tonError: err => {\n\t\t\t\t\t\terrorHelperUsed = true;\n\t\t\t\t\t\treturn `_error(${err});\\n`;\n\t\t\t\t\t},\n\t\t\t\t\tonResult: result => `_resolve(${result});\\n`,\n\t\t\t\t\tonDone: () => \"_resolve();\\n\"\n\t\t\t\t});\n\t\t\t\tlet code = \"\";\n\t\t\t\tcode += '\"use strict\";\\n';\n\t\t\t\tcode += \"return new Promise((_resolve, _reject) => {\\n\";\n\t\t\t\tif (errorHelperUsed) {\n\t\t\t\t\tcode += \"var _sync = true;\\n\";\n\t\t\t\t\tcode += \"function _error(_err) {\\n\";\n\t\t\t\t\tcode += \"if(_sync)\\n\";\n\t\t\t\t\tcode += \"_resolve(Promise.resolve().then(() => { throw _err; }));\\n\";\n\t\t\t\t\tcode += \"else\\n\";\n\t\t\t\t\tcode += \"_reject(_err);\\n\";\n\t\t\t\t\tcode += \"};\\n\";\n\t\t\t\t}\n\t\t\t\tcode += this.header();\n\t\t\t\tcode += content;\n\t\t\t\tif (errorHelperUsed) {\n\t\t\t\t\tcode += \"_sync = false;\\n\";\n\t\t\t\t}\n\t\t\t\tcode += \"});\\n\";\n\t\t\t\tfn = new Function(this.args(), code);\n\t\t\t\tbreak;\n\t\t}\n\t\tthis.deinit();\n\t\treturn fn;\n\t}\n\n\tsetup(instance, options) {\n\t\tinstance._x = options.taps.map(t => t.fn);\n\t}\n\n\t/**\n\t * @param {{ type: \"sync\" | \"promise\" | \"async\", taps: Array<Tap>, interceptors: Array<Interceptor> }} options\n\t */\n\tinit(options) {\n\t\tthis.options = options;\n\t\tthis._args = options.args.slice();\n\t}\n\n\tdeinit() {\n\t\tthis.options = undefined;\n\t\tthis._args = undefined;\n\t}\n\n\theader() {\n\t\tlet code = \"\";\n\t\tif (this.needContext()) {\n\t\t\tcode += \"var _context = {};\\n\";\n\t\t} else {\n\t\t\tcode += \"var _context;\\n\";\n\t\t}\n\t\tcode += \"var _x = this._x;\\n\";\n\t\tif (this.options.interceptors.length > 0) {\n\t\t\tcode += \"var _taps = this.taps;\\n\";\n\t\t\tcode += \"var _interceptors = this.interceptors;\\n\";\n\t\t}\n\t\tfor (let i = 0; i < this.options.interceptors.length; i++) {\n\t\t\tconst interceptor = this.options.interceptors[i];\n\t\t\tif (interceptor.call) {\n\t\t\t\tcode += `${this.getInterceptor(i)}.call(${this.args({\n\t\t\t\t\tbefore: interceptor.context ? \"_context\" : undefined\n\t\t\t\t})});\\n`;\n\t\t\t}\n\t\t}\n\t\treturn code;\n\t}\n\n\tneedContext() {\n\t\tfor (const tap of this.options.taps) if (tap.context) return true;\n\t\treturn false;\n\t}\n\n\tcallTap(tapIndex, { onError, onResult, onDone, rethrowIfPossible }) {\n\t\tlet code = \"\";\n\t\tlet hasTapCached = false;\n\t\tfor (let i = 0; i < this.options.interceptors.length; i++) {\n\t\t\tconst interceptor = this.options.interceptors[i];\n\t\t\tif (interceptor.tap) {\n\t\t\t\tif (!hasTapCached) {\n\t\t\t\t\tcode += `var _tap${tapIndex} = ${this.getTap(tapIndex)};\\n`;\n\t\t\t\t\thasTapCached = true;\n\t\t\t\t}\n\t\t\t\tcode += `${this.getInterceptor(i)}.tap(${\n\t\t\t\t\tinterceptor.context ? \"_context, \" : \"\"\n\t\t\t\t}_tap${tapIndex});\\n`;\n\t\t\t}\n\t\t}\n\t\tcode += `var _fn${tapIndex} = ${this.getTapFn(tapIndex)};\\n`;\n\t\tconst tap = this.options.taps[tapIndex];\n\t\tswitch (tap.type) {\n\t\t\tcase \"sync\":\n\t\t\t\tif (!rethrowIfPossible) {\n\t\t\t\t\tcode += `var _hasError${tapIndex} = false;\\n`;\n\t\t\t\t\tcode += \"try {\\n\";\n\t\t\t\t}\n\t\t\t\tif (onResult) {\n\t\t\t\t\tcode += `var _result${tapIndex} = _fn${tapIndex}(${this.args({\n\t\t\t\t\t\tbefore: tap.context ? \"_context\" : undefined\n\t\t\t\t\t})});\\n`;\n\t\t\t\t} else {\n\t\t\t\t\tcode += `_fn${tapIndex}(${this.args({\n\t\t\t\t\t\tbefore: tap.context ? \"_context\" : undefined\n\t\t\t\t\t})});\\n`;\n\t\t\t\t}\n\t\t\t\tif (!rethrowIfPossible) {\n\t\t\t\t\tcode += \"} catch(_err) {\\n\";\n\t\t\t\t\tcode += `_hasError${tapIndex} = true;\\n`;\n\t\t\t\t\tcode += onError(\"_err\");\n\t\t\t\t\tcode += \"}\\n\";\n\t\t\t\t\tcode += `if(!_hasError${tapIndex}) {\\n`;\n\t\t\t\t}\n\t\t\t\tif (onResult) {\n\t\t\t\t\tcode += onResult(`_result${tapIndex}`);\n\t\t\t\t}\n\t\t\t\tif (onDone) {\n\t\t\t\t\tcode += onDone();\n\t\t\t\t}\n\t\t\t\tif (!rethrowIfPossible) {\n\t\t\t\t\tcode += \"}\\n\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"async\":\n\t\t\t\tlet cbCode = \"\";\n\t\t\t\tif (onResult) cbCode += `(_err${tapIndex}, _result${tapIndex}) => {\\n`;\n\t\t\t\telse cbCode += `_err${tapIndex} => {\\n`;\n\t\t\t\tcbCode += `if(_err${tapIndex}) {\\n`;\n\t\t\t\tcbCode += onError(`_err${tapIndex}`);\n\t\t\t\tcbCode += \"} else {\\n\";\n\t\t\t\tif (onResult) {\n\t\t\t\t\tcbCode += onResult(`_result${tapIndex}`);\n\t\t\t\t}\n\t\t\t\tif (onDone) {\n\t\t\t\t\tcbCode += onDone();\n\t\t\t\t}\n\t\t\t\tcbCode += \"}\\n\";\n\t\t\t\tcbCode += \"}\";\n\t\t\t\tcode += `_fn${tapIndex}(${this.args({\n\t\t\t\t\tbefore: tap.context ? \"_context\" : undefined,\n\t\t\t\t\tafter: cbCode\n\t\t\t\t})});\\n`;\n\t\t\t\tbreak;\n\t\t\tcase \"promise\":\n\t\t\t\tcode += `var _hasResult${tapIndex} = false;\\n`;\n\t\t\t\tcode += `var _promise${tapIndex} = _fn${tapIndex}(${this.args({\n\t\t\t\t\tbefore: tap.context ? \"_context\" : undefined\n\t\t\t\t})});\\n`;\n\t\t\t\tcode += `if (!_promise${tapIndex} || !_promise${tapIndex}.then)\\n`;\n\t\t\t\tcode += `  throw new Error('Tap function (tapPromise) did not return promise (returned ' + _promise${tapIndex} + ')');\\n`;\n\t\t\t\tcode += `_promise${tapIndex}.then(_result${tapIndex} => {\\n`;\n\t\t\t\tcode += `_hasResult${tapIndex} = true;\\n`;\n\t\t\t\tif (onResult) {\n\t\t\t\t\tcode += onResult(`_result${tapIndex}`);\n\t\t\t\t}\n\t\t\t\tif (onDone) {\n\t\t\t\t\tcode += onDone();\n\t\t\t\t}\n\t\t\t\tcode += `}, _err${tapIndex} => {\\n`;\n\t\t\t\tcode += `if(_hasResult${tapIndex}) throw _err${tapIndex};\\n`;\n\t\t\t\tcode += onError(`_err${tapIndex}`);\n\t\t\t\tcode += \"});\\n\";\n\t\t\t\tbreak;\n\t\t}\n\t\treturn code;\n\t}\n\n\tcallTapsSeries({\n\t\tonError,\n\t\tonResult,\n\t\tresultReturns,\n\t\tonDone,\n\t\tdoneReturns,\n\t\trethrowIfPossible\n\t}) {\n\t\tif (this.options.taps.length === 0) return onDone();\n\t\tconst firstAsync = this.options.taps.findIndex(t => t.type !== \"sync\");\n\t\tconst somethingReturns = resultReturns || doneReturns || false;\n\t\tlet code = \"\";\n\t\tlet current = onDone;\n\t\tfor (let j = this.options.taps.length - 1; j >= 0; j--) {\n\t\t\tconst i = j;\n\t\t\tconst unroll = current !== onDone && this.options.taps[i].type !== \"sync\";\n\t\t\tif (unroll) {\n\t\t\t\tcode += `function _next${i}() {\\n`;\n\t\t\t\tcode += current();\n\t\t\t\tcode += `}\\n`;\n\t\t\t\tcurrent = () => `${somethingReturns ? \"return \" : \"\"}_next${i}();\\n`;\n\t\t\t}\n\t\t\tconst done = current;\n\t\t\tconst doneBreak = skipDone => {\n\t\t\t\tif (skipDone) return \"\";\n\t\t\t\treturn onDone();\n\t\t\t};\n\t\t\tconst content = this.callTap(i, {\n\t\t\t\tonError: error => onError(i, error, done, doneBreak),\n\t\t\t\tonResult:\n\t\t\t\t\tonResult &&\n\t\t\t\t\t(result => {\n\t\t\t\t\t\treturn onResult(i, result, done, doneBreak);\n\t\t\t\t\t}),\n\t\t\t\tonDone: !onResult && done,\n\t\t\t\trethrowIfPossible:\n\t\t\t\t\trethrowIfPossible && (firstAsync < 0 || i < firstAsync)\n\t\t\t});\n\t\t\tcurrent = () => content;\n\t\t}\n\t\tcode += current();\n\t\treturn code;\n\t}\n\n\tcallTapsLooping({ onError, onDone, rethrowIfPossible }) {\n\t\tif (this.options.taps.length === 0) return onDone();\n\t\tconst syncOnly = this.options.taps.every(t => t.type === \"sync\");\n\t\tlet code = \"\";\n\t\tif (!syncOnly) {\n\t\t\tcode += \"var _looper = () => {\\n\";\n\t\t\tcode += \"var _loopAsync = false;\\n\";\n\t\t}\n\t\tcode += \"var _loop;\\n\";\n\t\tcode += \"do {\\n\";\n\t\tcode += \"_loop = false;\\n\";\n\t\tfor (let i = 0; i < this.options.interceptors.length; i++) {\n\t\t\tconst interceptor = this.options.interceptors[i];\n\t\t\tif (interceptor.loop) {\n\t\t\t\tcode += `${this.getInterceptor(i)}.loop(${this.args({\n\t\t\t\t\tbefore: interceptor.context ? \"_context\" : undefined\n\t\t\t\t})});\\n`;\n\t\t\t}\n\t\t}\n\t\tcode += this.callTapsSeries({\n\t\t\tonError,\n\t\t\tonResult: (i, result, next, doneBreak) => {\n\t\t\t\tlet code = \"\";\n\t\t\t\tcode += `if(${result} !== undefined) {\\n`;\n\t\t\t\tcode += \"_loop = true;\\n\";\n\t\t\t\tif (!syncOnly) code += \"if(_loopAsync) _looper();\\n\";\n\t\t\t\tcode += doneBreak(true);\n\t\t\t\tcode += `} else {\\n`;\n\t\t\t\tcode += next();\n\t\t\t\tcode += `}\\n`;\n\t\t\t\treturn code;\n\t\t\t},\n\t\t\tonDone:\n\t\t\t\tonDone &&\n\t\t\t\t(() => {\n\t\t\t\t\tlet code = \"\";\n\t\t\t\t\tcode += \"if(!_loop) {\\n\";\n\t\t\t\t\tcode += onDone();\n\t\t\t\t\tcode += \"}\\n\";\n\t\t\t\t\treturn code;\n\t\t\t\t}),\n\t\t\trethrowIfPossible: rethrowIfPossible && syncOnly\n\t\t});\n\t\tcode += \"} while(_loop);\\n\";\n\t\tif (!syncOnly) {\n\t\t\tcode += \"_loopAsync = true;\\n\";\n\t\t\tcode += \"};\\n\";\n\t\t\tcode += \"_looper();\\n\";\n\t\t}\n\t\treturn code;\n\t}\n\n\tcallTapsParallel({\n\t\tonError,\n\t\tonResult,\n\t\tonDone,\n\t\trethrowIfPossible,\n\t\tonTap = (i, run) => run()\n\t}) {\n\t\tif (this.options.taps.length <= 1) {\n\t\t\treturn this.callTapsSeries({\n\t\t\t\tonError,\n\t\t\t\tonResult,\n\t\t\t\tonDone,\n\t\t\t\trethrowIfPossible\n\t\t\t});\n\t\t}\n\t\tlet code = \"\";\n\t\tcode += \"do {\\n\";\n\t\tcode += `var _counter = ${this.options.taps.length};\\n`;\n\t\tif (onDone) {\n\t\t\tcode += \"var _done = () => {\\n\";\n\t\t\tcode += onDone();\n\t\t\tcode += \"};\\n\";\n\t\t}\n\t\tfor (let i = 0; i < this.options.taps.length; i++) {\n\t\t\tconst done = () => {\n\t\t\t\tif (onDone) return \"if(--_counter === 0) _done();\\n\";\n\t\t\t\telse return \"--_counter;\";\n\t\t\t};\n\t\t\tconst doneBreak = skipDone => {\n\t\t\t\tif (skipDone || !onDone) return \"_counter = 0;\\n\";\n\t\t\t\telse return \"_counter = 0;\\n_done();\\n\";\n\t\t\t};\n\t\t\tcode += \"if(_counter <= 0) break;\\n\";\n\t\t\tcode += onTap(\n\t\t\t\ti,\n\t\t\t\t() =>\n\t\t\t\t\tthis.callTap(i, {\n\t\t\t\t\t\tonError: error => {\n\t\t\t\t\t\t\tlet code = \"\";\n\t\t\t\t\t\t\tcode += \"if(_counter > 0) {\\n\";\n\t\t\t\t\t\t\tcode += onError(i, error, done, doneBreak);\n\t\t\t\t\t\t\tcode += \"}\\n\";\n\t\t\t\t\t\t\treturn code;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonResult:\n\t\t\t\t\t\t\tonResult &&\n\t\t\t\t\t\t\t(result => {\n\t\t\t\t\t\t\t\tlet code = \"\";\n\t\t\t\t\t\t\t\tcode += \"if(_counter > 0) {\\n\";\n\t\t\t\t\t\t\t\tcode += onResult(i, result, done, doneBreak);\n\t\t\t\t\t\t\t\tcode += \"}\\n\";\n\t\t\t\t\t\t\t\treturn code;\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\tonDone:\n\t\t\t\t\t\t\t!onResult &&\n\t\t\t\t\t\t\t(() => {\n\t\t\t\t\t\t\t\treturn done();\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\trethrowIfPossible\n\t\t\t\t\t}),\n\t\t\t\tdone,\n\t\t\t\tdoneBreak\n\t\t\t);\n\t\t}\n\t\tcode += \"} while(false);\\n\";\n\t\treturn code;\n\t}\n\n\targs({ before, after } = {}) {\n\t\tlet allArgs = this._args;\n\t\tif (before) allArgs = [before].concat(allArgs);\n\t\tif (after) allArgs = allArgs.concat(after);\n\t\tif (allArgs.length === 0) {\n\t\t\treturn \"\";\n\t\t} else {\n\t\t\treturn allArgs.join(\", \");\n\t\t}\n\t}\n\n\tgetTapFn(idx) {\n\t\treturn `_x[${idx}]`;\n\t}\n\n\tgetTap(idx) {\n\t\treturn `_taps[${idx}]`;\n\t}\n\n\tgetInterceptor(idx) {\n\t\treturn `_interceptors[${idx}]`;\n\t}\n}\n\nmodule.exports = HookCodeFactory;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}