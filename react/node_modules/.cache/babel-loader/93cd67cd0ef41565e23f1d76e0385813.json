{"ast":null,"code":"import _objectSpread from \"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\myCodes\\\\KredoCodeChallenge\\\\react\\\\src\\\\components\\\\products\\\\ProductIndex.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport Product from \"./ProductTemplate\";\n//import * as productService from '../../services/productService'\nimport * as categoryService from \"../../services/categoryService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ProductIndex() {\n  _s();\n  var _this = this;\n  var _useState = useState({\n      arrayOfProducts: [],\n      productComponents: []\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    pageData = _useState2[0],\n    setPageData = _useState2[1];\n  var mapProduct = function mapProduct(aProduct) {\n    return /*#__PURE__*/_jsxDEV(Product, {\n      product: aProduct,\n      onNavToProducts: onGetProducts\n    }, \"ListA-\" + aProduct.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, _this);\n  };\n  var onGetProducts = function onGetProducts() {\n    categoryService.getProductsByCategory().then(onGetProductsSuccess).catch(onGetProductsError);\n  };\n  var onGetProductsSuccess = function onGetProductsSuccess(data) {\n    var arrayOfItems = data.items;\n    setPageData(function (prevState) {\n      var pd = _objectSpread({}, prevState);\n      pd.arrayOfProducts = arrayOfItems;\n      pd.productComponents = arrayOfItems.map(mapProduct);\n      return pd;\n    });\n  };\n  var onGetProductsError = function onGetProductsError(error) {\n    console.error(error);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: pageData.productComponents\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 10\n  }, this);\n}\n_s(ProductIndex, \"jbLRXNz+r5ab73gMlHhhcMCvKLo=\");\n_c = ProductIndex;\nexport default ProductIndex;\nvar _c;\n$RefreshReg$(_c, \"ProductIndex\");","map":{"version":3,"names":["React","useState","Product","categoryService","ProductIndex","arrayOfProducts","productComponents","pageData","setPageData","mapProduct","aProduct","onGetProducts","id","getProductsByCategory","then","onGetProductsSuccess","catch","onGetProductsError","data","arrayOfItems","items","prevState","pd","map","error","console"],"sources":["C:/myCodes/KredoCodeChallenge/react/src/components/products/ProductIndex.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Product from \"./ProductTemplate\";\r\n//import * as productService from '../../services/productService'\r\nimport * as categoryService from \"../../services/categoryService\";\r\n\r\nfunction ProductIndex() {\r\n  const [pageData, setPageData] = useState({\r\n    arrayOfProducts: [],\r\n    productComponents: [],\r\n  });\r\n\r\n  const mapProduct = (aProduct) => {\r\n    return (\r\n      <Product\r\n        product={aProduct}\r\n        key={\"ListA-\" + aProduct.id}\r\n        onNavToProducts={onGetProducts}\r\n      />\r\n    );\r\n  };\r\n\r\n  const onGetProducts = () => {\r\n    categoryService\r\n      .getProductsByCategory()\r\n      .then(onGetProductsSuccess)\r\n      .catch(onGetProductsError);\r\n  };\r\n\r\n  const onGetProductsSuccess = (data) => {\r\n    let arrayOfItems = data.items;\r\n\r\n    setPageData((prevState) => {\r\n      const pd = { ...prevState };\r\n      pd.arrayOfProducts = arrayOfItems;\r\n      pd.productComponents = arrayOfItems.map(mapProduct);\r\n      return pd;\r\n    });\r\n  };\r\n\r\n  const onGetProductsError = (error) => {\r\n    console.error(error);\r\n  };\r\n\r\n  return <div className=\"row\">{pageData.productComponents}</div>;\r\n}\r\n\r\nexport default ProductIndex;\r\n"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,OAAO,MAAM,mBAAmB;AACvC;AACA,OAAO,KAAKC,eAAe,MAAM,gCAAgC;AAAC;AAElE,SAASC,YAAY,GAAG;EAAA;EAAA;EACtB,gBAAgCH,QAAQ,CAAC;MACvCI,eAAe,EAAE,EAAE;MACnBC,iBAAiB,EAAE;IACrB,CAAC,CAAC;IAAA;IAHKC,QAAQ;IAAEC,WAAW;EAK5B,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAIC,QAAQ,EAAK;IAC/B,oBACE,QAAC,OAAO;MACN,OAAO,EAAEA,QAAS;MAElB,eAAe,EAAEC;IAAc,GAD1B,QAAQ,GAAGD,QAAQ,CAACE,EAAE;MAAA;MAAA;MAAA;IAAA,SAE3B;EAEN,CAAC;EAED,IAAMD,aAAa,GAAG,SAAhBA,aAAa,GAAS;IAC1BR,eAAe,CACZU,qBAAqB,EAAE,CACvBC,IAAI,CAACC,oBAAoB,CAAC,CAC1BC,KAAK,CAACC,kBAAkB,CAAC;EAC9B,CAAC;EAED,IAAMF,oBAAoB,GAAG,SAAvBA,oBAAoB,CAAIG,IAAI,EAAK;IACrC,IAAIC,YAAY,GAAGD,IAAI,CAACE,KAAK;IAE7BZ,WAAW,CAAC,UAACa,SAAS,EAAK;MACzB,IAAMC,EAAE,qBAAQD,SAAS,CAAE;MAC3BC,EAAE,CAACjB,eAAe,GAAGc,YAAY;MACjCG,EAAE,CAAChB,iBAAiB,GAAGa,YAAY,CAACI,GAAG,CAACd,UAAU,CAAC;MACnD,OAAOa,EAAE;IACX,CAAC,CAAC;EACJ,CAAC;EAED,IAAML,kBAAkB,GAAG,SAArBA,kBAAkB,CAAIO,KAAK,EAAK;IACpCC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;EACtB,CAAC;EAED,oBAAO;IAAK,SAAS,EAAC,KAAK;IAAA,UAAEjB,QAAQ,CAACD;EAAiB;IAAA;IAAA;IAAA;EAAA,QAAO;AAChE;AAAC,GAvCQF,YAAY;AAAA,KAAZA,YAAY;AAyCrB,eAAeA,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module"}