{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Gajus Kuizinas @gajus\n*/\n\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\nvar Ajv = require(\"ajv\");\nvar ajv = new Ajv({\n  errorDataPath: \"configuration\",\n  allErrors: true,\n  verbose: true\n});\nrequire(\"ajv-keywords\")(ajv, [\"instanceof\"]);\nrequire(\"../schemas/ajv.absolutePath\")(ajv);\nvar validateSchema = function validateSchema(schema, options) {\n  if (Array.isArray(options)) {\n    var errors = options.map(function (options) {\n      return validateObject(schema, options);\n    });\n    errors.forEach(function (list, idx) {\n      var applyPrefix = function applyPrefix(err) {\n        err.dataPath = \"[\".concat(idx, \"]\").concat(err.dataPath);\n        if (err.children) {\n          err.children.forEach(applyPrefix);\n        }\n      };\n      list.forEach(applyPrefix);\n    });\n    return errors.reduce(function (arr, items) {\n      return arr.concat(items);\n    }, []);\n  } else {\n    return validateObject(schema, options);\n  }\n};\nvar validateObject = function validateObject(schema, options) {\n  var validate = ajv.compile(schema);\n  var valid = validate(options);\n  return valid ? [] : filterErrors(validate.errors);\n};\nvar filterErrors = function filterErrors(errors) {\n  var newErrors = [];\n  var _iterator = _createForOfIteratorHelper(errors),\n    _step;\n  try {\n    var _loop = function _loop() {\n      var err = _step.value;\n      var dataPath = err.dataPath;\n      var children = [];\n      newErrors = newErrors.filter(function (oldError) {\n        if (oldError.dataPath.includes(dataPath)) {\n          if (oldError.children) {\n            children = children.concat(oldError.children.slice(0));\n          }\n          oldError.children = undefined;\n          children.push(oldError);\n          return false;\n        }\n        return true;\n      });\n      if (children.length) {\n        err.children = children;\n      }\n      newErrors.push(err);\n    };\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      _loop();\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return newErrors;\n};\nmodule.exports = validateSchema;","map":{"version":3,"names":["Ajv","require","ajv","errorDataPath","allErrors","verbose","validateSchema","schema","options","Array","isArray","errors","map","validateObject","forEach","list","idx","applyPrefix","err","dataPath","children","reduce","arr","items","concat","validate","compile","valid","filterErrors","newErrors","filter","oldError","includes","slice","undefined","push","length","module","exports"],"sources":["C:/myCodes/KredoCodeChallenge/react/node_modules/webpack/lib/validateSchema.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Gajus Kuizinas @gajus\n*/\n\"use strict\";\n\nconst Ajv = require(\"ajv\");\nconst ajv = new Ajv({\n\terrorDataPath: \"configuration\",\n\tallErrors: true,\n\tverbose: true\n});\nrequire(\"ajv-keywords\")(ajv, [\"instanceof\"]);\nrequire(\"../schemas/ajv.absolutePath\")(ajv);\n\nconst validateSchema = (schema, options) => {\n\tif (Array.isArray(options)) {\n\t\tconst errors = options.map(options => validateObject(schema, options));\n\t\terrors.forEach((list, idx) => {\n\t\t\tconst applyPrefix = err => {\n\t\t\t\terr.dataPath = `[${idx}]${err.dataPath}`;\n\t\t\t\tif (err.children) {\n\t\t\t\t\terr.children.forEach(applyPrefix);\n\t\t\t\t}\n\t\t\t};\n\t\t\tlist.forEach(applyPrefix);\n\t\t});\n\t\treturn errors.reduce((arr, items) => {\n\t\t\treturn arr.concat(items);\n\t\t}, []);\n\t} else {\n\t\treturn validateObject(schema, options);\n\t}\n};\n\nconst validateObject = (schema, options) => {\n\tconst validate = ajv.compile(schema);\n\tconst valid = validate(options);\n\treturn valid ? [] : filterErrors(validate.errors);\n};\n\nconst filterErrors = errors => {\n\tlet newErrors = [];\n\tfor (const err of errors) {\n\t\tconst dataPath = err.dataPath;\n\t\tlet children = [];\n\t\tnewErrors = newErrors.filter(oldError => {\n\t\t\tif (oldError.dataPath.includes(dataPath)) {\n\t\t\t\tif (oldError.children) {\n\t\t\t\t\tchildren = children.concat(oldError.children.slice(0));\n\t\t\t\t}\n\t\t\t\toldError.children = undefined;\n\t\t\t\tchildren.push(oldError);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t\tif (children.length) {\n\t\t\terr.children = children;\n\t\t}\n\t\tnewErrors.push(err);\n\t}\n\n\treturn newErrors;\n};\n\nmodule.exports = validateSchema;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}