{"ast":null,"code":"import _slicedToArray from\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Route,Routes,useNavigate,Navigate}from\"react-router-dom\";import CategoryIndex from\"./components/categories/CategoryIndex\";import ProductIndex from\"./components/products/ProductIndex\";import ProductDetailPage from\"./components/products/ProductDetailPage\";import*as categoryService from\"./services/categoryService\";// import * as productService from \"./services/productService\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),categories=_useState4[0],setCategories=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),categoryId=_useState6[0],setCategoryId=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),product=_useState8[0],setProduct=_useState8[1];var navigate=useNavigate();useEffect(function(){console.log(\"firing useEffect for getCategories\");categoryService.getCategories().then(function(res){return setCategories(res.items);}).catch(function(err){return console.error(err);});},[]);useEffect(function(){if(categoryId){console.log(\"catId\",categoryId);categoryService.getProductByCategory(categoryId).then(function(res){setProducts(res.items);navigate(\"/category/\".concat(categoryId));}).catch(function(err){return console.error(err);});}},[categoryId]);useEffect(function(){console.log(\"product\",product);if(product){navigate(\"/product/\".concat(product.id));}},[product]);return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/category\"})}),/*#__PURE__*/_jsx(Route,{path:\"/category\",element:/*#__PURE__*/_jsx(CategoryIndex,{categories:categories,setCategoryId:setCategoryId})}),/*#__PURE__*/_jsx(Route,{path:\"/category/:id\",element:/*#__PURE__*/_jsx(ProductIndex,{products:products,setProductId:setProduct})}),/*#__PURE__*/_jsx(Route,{path:\"/product/:id\",element:/*#__PURE__*/_jsx(ProductDetailPage,{product:product})})]})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","Route","Routes","useNavigate","Navigate","CategoryIndex","ProductIndex","ProductDetailPage","categoryService","App","products","setProducts","categories","setCategories","categoryId","setCategoryId","product","setProduct","navigate","console","log","getCategories","then","res","items","catch","err","error","getProductByCategory","id"],"sources":["C:/myCodes/KredoCodeChallenge/react/src/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Route,\r\n  Routes,\r\n  useNavigate,\r\n  Navigate,\r\n} from \"react-router-dom\";\r\nimport CategoryIndex from \"./components/categories/CategoryIndex\";\r\nimport ProductIndex from \"./components/products/ProductIndex\";\r\nimport ProductDetailPage from \"./components/products/ProductDetailPage\";\r\nimport * as categoryService from \"./services/categoryService\";\r\n// import * as productService from \"./services/productService\";\r\n\r\nfunction App() {\r\n  const [products, setProducts] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [categoryId, setCategoryId] = useState(null);\r\n  const [product, setProduct] = useState(null);\r\n  let navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    console.log(\"firing useEffect for getCategories\");\r\n    categoryService\r\n      .getCategories()\r\n      .then((res) => setCategories(res.items))\r\n      .catch((err) => console.error(err));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (categoryId) {\r\n      console.log(\"catId\", categoryId);\r\n      categoryService\r\n        .getProductByCategory(categoryId)\r\n        .then((res) => {\r\n          setProducts(res.items);\r\n          navigate(`/category/${categoryId}`);\r\n        })\r\n        .catch((err) => console.error(err));\r\n    }\r\n  }, [categoryId]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"product\", product);\r\n    if (product) {\r\n      navigate(`/product/${product.id}`);\r\n    }\r\n  }, [product]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Routes>\r\n        <Route path=\"/\" element={<Navigate to=\"/category\" />} />\r\n        <Route\r\n          path=\"/category\"\r\n          element={\r\n            <CategoryIndex\r\n              categories={categories}\r\n              setCategoryId={setCategoryId}\r\n            />\r\n          }\r\n        ></Route>\r\n        <Route\r\n          path=\"/category/:id\"\r\n          element={\r\n            <ProductIndex\r\n              products={products}\r\n              setProductId={setProduct}\r\n            />\r\n          }\r\n        ></Route>\r\n        <Route\r\n          path=\"/product/:id\"\r\n          element={<ProductDetailPage product={product} />}\r\n        ></Route>\r\n      </Routes>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"yHAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OACEC,KAAK,CACLC,MAAM,CACNC,WAAW,CACXC,QAAQ,KACH,kBAAkB,CACzB,MAAOC,cAAa,KAAM,uCAAuC,CACjE,MAAOC,aAAY,KAAM,oCAAoC,CAC7D,MAAOC,kBAAiB,KAAM,yCAAyC,CACvE,MAAO,GAAKC,gBAAe,KAAM,4BAA4B,CAC7D;AAAA,wFAEA,QAASC,IAAG,EAAG,CACb,cAAgCT,QAAQ,CAAC,EAAE,CAAC,wCAArCU,QAAQ,eAAEC,WAAW,eAC5B,eAAoCX,QAAQ,CAAC,EAAE,CAAC,yCAAzCY,UAAU,eAAEC,aAAa,eAChC,eAAoCb,QAAQ,CAAC,IAAI,CAAC,yCAA3Cc,UAAU,eAAEC,aAAa,eAChC,eAA8Bf,QAAQ,CAAC,IAAI,CAAC,yCAArCgB,OAAO,eAAEC,UAAU,eAC1B,GAAIC,SAAQ,CAAGf,WAAW,EAAE,CAE5BJ,SAAS,CAAC,UAAM,CACdoB,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC,CACjDZ,eAAe,CACZa,aAAa,EAAE,CACfC,IAAI,CAAC,SAACC,GAAG,QAAKV,cAAa,CAACU,GAAG,CAACC,KAAK,CAAC,GAAC,CACvCC,KAAK,CAAC,SAACC,GAAG,QAAKP,QAAO,CAACQ,KAAK,CAACD,GAAG,CAAC,GAAC,CACvC,CAAC,CAAE,EAAE,CAAC,CAEN3B,SAAS,CAAC,UAAM,CACd,GAAIe,UAAU,CAAE,CACdK,OAAO,CAACC,GAAG,CAAC,OAAO,CAAEN,UAAU,CAAC,CAChCN,eAAe,CACZoB,oBAAoB,CAACd,UAAU,CAAC,CAChCQ,IAAI,CAAC,SAACC,GAAG,CAAK,CACbZ,WAAW,CAACY,GAAG,CAACC,KAAK,CAAC,CACtBN,QAAQ,qBAAcJ,UAAU,EAAG,CACrC,CAAC,CAAC,CACDW,KAAK,CAAC,SAACC,GAAG,QAAKP,QAAO,CAACQ,KAAK,CAACD,GAAG,CAAC,GAAC,CACvC,CACF,CAAC,CAAE,CAACZ,UAAU,CAAC,CAAC,CAEhBf,SAAS,CAAC,UAAM,CACdoB,OAAO,CAACC,GAAG,CAAC,SAAS,CAAEJ,OAAO,CAAC,CAC/B,GAAIA,OAAO,CAAE,CACXE,QAAQ,oBAAaF,OAAO,CAACa,EAAE,EAAG,CACpC,CACF,CAAC,CAAE,CAACb,OAAO,CAAC,CAAC,CAEb,mBACE,KAAC,KAAK,CAAC,QAAQ,wBACb,MAAC,MAAM,yBACL,KAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,OAAO,cAAE,KAAC,QAAQ,EAAC,EAAE,CAAC,WAAW,EAAI,EAAG,cACxD,KAAC,KAAK,EACJ,IAAI,CAAC,WAAW,CAChB,OAAO,cACL,KAAC,aAAa,EACZ,UAAU,CAAEJ,UAAW,CACvB,aAAa,CAAEG,aAAc,EAEhC,EACM,cACT,KAAC,KAAK,EACJ,IAAI,CAAC,eAAe,CACpB,OAAO,cACL,KAAC,YAAY,EACX,QAAQ,CAAEL,QAAS,CACnB,YAAY,CAAEO,UAAW,EAE5B,EACM,cACT,KAAC,KAAK,EACJ,IAAI,CAAC,cAAc,CACnB,OAAO,cAAE,KAAC,iBAAiB,EAAC,OAAO,CAAED,OAAQ,EAAI,EAC1C,GACF,EACM,CAErB,CAEA,cAAeP,IAAG"},"metadata":{},"sourceType":"module"}