{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\nvar _classCallCheck = require(\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _inherits = require(\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nvar parseJson = require(\"json-parse-better-errors\");\nvar asyncLib = require(\"neo-async\");\nvar path = require(\"path\");\nvar _require = require(\"webpack-sources\"),\n  Source = _require.Source;\nvar util = require(\"util\");\nvar _require2 = require(\"tapable\"),\n  Tapable = _require2.Tapable,\n  SyncHook = _require2.SyncHook,\n  SyncBailHook = _require2.SyncBailHook,\n  AsyncParallelHook = _require2.AsyncParallelHook,\n  AsyncSeriesHook = _require2.AsyncSeriesHook;\nvar Compilation = require(\"./Compilation\");\nvar Stats = require(\"./Stats\");\nvar Watching = require(\"./Watching\");\nvar NormalModuleFactory = require(\"./NormalModuleFactory\");\nvar ContextModuleFactory = require(\"./ContextModuleFactory\");\nvar ResolverFactory = require(\"./ResolverFactory\");\nvar RequestShortener = require(\"./RequestShortener\");\nvar _require3 = require(\"./util/identifier\"),\n  makePathsRelative = _require3.makePathsRelative;\nvar ConcurrentCompilationError = require(\"./ConcurrentCompilationError\");\nvar _require4 = require(\"./logging/Logger\"),\n  Logger = _require4.Logger;\n\n/** @typedef {import(\"../declarations/WebpackOptions\").Entry} Entry */\n/** @typedef {import(\"../declarations/WebpackOptions\").WebpackOptions} WebpackOptions */\n\n/**\n * @typedef {Object} CompilationParams\n * @property {NormalModuleFactory} normalModuleFactory\n * @property {ContextModuleFactory} contextModuleFactory\n * @property {Set<string>} compilationDependencies\n */\nvar Compiler = /*#__PURE__*/function (_Tapable) {\n  _inherits(Compiler, _Tapable);\n  var _super = _createSuper(Compiler);\n  function Compiler(context) {\n    var _this;\n    _classCallCheck(this, Compiler);\n    _this = _super.call(this);\n    _this.hooks = {\n      /** @type {SyncBailHook<Compilation>} */\n      shouldEmit: new SyncBailHook([\"compilation\"]),\n      /** @type {AsyncSeriesHook<Stats>} */\n      done: new AsyncSeriesHook([\"stats\"]),\n      /** @type {AsyncSeriesHook<>} */\n      additionalPass: new AsyncSeriesHook([]),\n      /** @type {AsyncSeriesHook<Compiler>} */\n      beforeRun: new AsyncSeriesHook([\"compiler\"]),\n      /** @type {AsyncSeriesHook<Compiler>} */\n      run: new AsyncSeriesHook([\"compiler\"]),\n      /** @type {AsyncSeriesHook<Compilation>} */\n      emit: new AsyncSeriesHook([\"compilation\"]),\n      /** @type {AsyncSeriesHook<string, Buffer>} */\n      assetEmitted: new AsyncSeriesHook([\"file\", \"content\"]),\n      /** @type {AsyncSeriesHook<Compilation>} */\n      afterEmit: new AsyncSeriesHook([\"compilation\"]),\n      /** @type {SyncHook<Compilation, CompilationParams>} */\n      thisCompilation: new SyncHook([\"compilation\", \"params\"]),\n      /** @type {SyncHook<Compilation, CompilationParams>} */\n      compilation: new SyncHook([\"compilation\", \"params\"]),\n      /** @type {SyncHook<NormalModuleFactory>} */\n      normalModuleFactory: new SyncHook([\"normalModuleFactory\"]),\n      /** @type {SyncHook<ContextModuleFactory>}  */\n      contextModuleFactory: new SyncHook([\"contextModulefactory\"]),\n      /** @type {AsyncSeriesHook<CompilationParams>} */\n      beforeCompile: new AsyncSeriesHook([\"params\"]),\n      /** @type {SyncHook<CompilationParams>} */\n      compile: new SyncHook([\"params\"]),\n      /** @type {AsyncParallelHook<Compilation>} */\n      make: new AsyncParallelHook([\"compilation\"]),\n      /** @type {AsyncSeriesHook<Compilation>} */\n      afterCompile: new AsyncSeriesHook([\"compilation\"]),\n      /** @type {AsyncSeriesHook<Compiler>} */\n      watchRun: new AsyncSeriesHook([\"compiler\"]),\n      /** @type {SyncHook<Error>} */\n      failed: new SyncHook([\"error\"]),\n      /** @type {SyncHook<string, string>} */\n      invalid: new SyncHook([\"filename\", \"changeTime\"]),\n      /** @type {SyncHook} */\n      watchClose: new SyncHook([]),\n      /** @type {SyncBailHook<string, string, any[]>} */\n      infrastructureLog: new SyncBailHook([\"origin\", \"type\", \"args\"]),\n      // TODO the following hooks are weirdly located here\n      // TODO move them for webpack 5\n      /** @type {SyncHook} */\n      environment: new SyncHook([]),\n      /** @type {SyncHook} */\n      afterEnvironment: new SyncHook([]),\n      /** @type {SyncHook<Compiler>} */\n      afterPlugins: new SyncHook([\"compiler\"]),\n      /** @type {SyncHook<Compiler>} */\n      afterResolvers: new SyncHook([\"compiler\"]),\n      /** @type {SyncBailHook<string, Entry>} */\n      entryOption: new SyncBailHook([\"context\", \"entry\"])\n    };\n    // TODO webpack 5 remove this\n    _this.hooks.infrastructurelog = _this.hooks.infrastructureLog;\n    _this._pluginCompat.tap(\"Compiler\", function (options) {\n      switch (options.name) {\n        case \"additional-pass\":\n        case \"before-run\":\n        case \"run\":\n        case \"emit\":\n        case \"after-emit\":\n        case \"before-compile\":\n        case \"make\":\n        case \"after-compile\":\n        case \"watch-run\":\n          options.async = true;\n          break;\n      }\n    });\n\n    /** @type {string=} */\n    _this.name = undefined;\n    /** @type {Compilation=} */\n    _this.parentCompilation = undefined;\n    /** @type {string} */\n    _this.outputPath = \"\";\n    _this.outputFileSystem = null;\n    _this.inputFileSystem = null;\n\n    /** @type {string|null} */\n    _this.recordsInputPath = null;\n    /** @type {string|null} */\n    _this.recordsOutputPath = null;\n    _this.records = {};\n    _this.removedFiles = new Set();\n    /** @type {Map<string, number>} */\n    _this.fileTimestamps = new Map();\n    /** @type {Map<string, number>} */\n    _this.contextTimestamps = new Map();\n    /** @type {ResolverFactory} */\n    _this.resolverFactory = new ResolverFactory();\n    _this.infrastructureLogger = undefined;\n\n    // TODO remove in webpack 5\n    _this.resolvers = {\n      normal: {\n        plugins: util.deprecate(function (hook, fn) {\n          _this.resolverFactory.plugin(\"resolver normal\", function (resolver) {\n            resolver.plugin(hook, fn);\n          });\n        }, \"webpack: Using compiler.resolvers.normal is deprecated.\\n\" + 'Use compiler.resolverFactory.plugin(\"resolver normal\", resolver => {\\n  resolver.plugin(/* … */);\\n}); instead.'),\n        apply: util.deprecate(function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          _this.resolverFactory.plugin(\"resolver normal\", function (resolver) {\n            resolver.apply.apply(resolver, args);\n          });\n        }, \"webpack: Using compiler.resolvers.normal is deprecated.\\n\" + 'Use compiler.resolverFactory.plugin(\"resolver normal\", resolver => {\\n  resolver.apply(/* … */);\\n}); instead.')\n      },\n      loader: {\n        plugins: util.deprecate(function (hook, fn) {\n          _this.resolverFactory.plugin(\"resolver loader\", function (resolver) {\n            resolver.plugin(hook, fn);\n          });\n        }, \"webpack: Using compiler.resolvers.loader is deprecated.\\n\" + 'Use compiler.resolverFactory.plugin(\"resolver loader\", resolver => {\\n  resolver.plugin(/* … */);\\n}); instead.'),\n        apply: util.deprecate(function () {\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          _this.resolverFactory.plugin(\"resolver loader\", function (resolver) {\n            resolver.apply.apply(resolver, args);\n          });\n        }, \"webpack: Using compiler.resolvers.loader is deprecated.\\n\" + 'Use compiler.resolverFactory.plugin(\"resolver loader\", resolver => {\\n  resolver.apply(/* … */);\\n}); instead.')\n      },\n      context: {\n        plugins: util.deprecate(function (hook, fn) {\n          _this.resolverFactory.plugin(\"resolver context\", function (resolver) {\n            resolver.plugin(hook, fn);\n          });\n        }, \"webpack: Using compiler.resolvers.context is deprecated.\\n\" + 'Use compiler.resolverFactory.plugin(\"resolver context\", resolver => {\\n  resolver.plugin(/* … */);\\n}); instead.'),\n        apply: util.deprecate(function () {\n          for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n          }\n          _this.resolverFactory.plugin(\"resolver context\", function (resolver) {\n            resolver.apply.apply(resolver, args);\n          });\n        }, \"webpack: Using compiler.resolvers.context is deprecated.\\n\" + 'Use compiler.resolverFactory.plugin(\"resolver context\", resolver => {\\n  resolver.apply(/* … */);\\n}); instead.')\n      }\n    };\n\n    /** @type {WebpackOptions} */\n    _this.options = /** @type {WebpackOptions} */{};\n    _this.context = context;\n    _this.requestShortener = new RequestShortener(context);\n\n    /** @type {boolean} */\n    _this.running = false;\n\n    /** @type {boolean} */\n    _this.watchMode = false;\n\n    /** @private @type {WeakMap<Source, { sizeOnlySource: SizeOnlySource, writtenTo: Map<string, number> }>} */\n    _this._assetEmittingSourceCache = new WeakMap();\n    /** @private @type {Map<string, number>} */\n    _this._assetEmittingWrittenFiles = new Map();\n    return _this;\n  }\n\n  /**\n   * @param {string | (function(): string)} name name of the logger, or function called once to get the logger name\n   * @returns {Logger} a logger with that name\n   */\n  _createClass(Compiler, [{\n    key: \"getInfrastructureLogger\",\n    value: function getInfrastructureLogger(name) {\n      var _this2 = this;\n      if (!name) {\n        throw new TypeError(\"Compiler.getInfrastructureLogger(name) called without a name\");\n      }\n      return new Logger(function (type, args) {\n        if (typeof name === \"function\") {\n          name = name();\n          if (!name) {\n            throw new TypeError(\"Compiler.getInfrastructureLogger(name) called with a function not returning a name\");\n          }\n        }\n        if (_this2.hooks.infrastructureLog.call(name, type, args) === undefined) {\n          if (_this2.infrastructureLogger !== undefined) {\n            _this2.infrastructureLogger(name, type, args);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"watch\",\n    value: function watch(watchOptions, handler) {\n      if (this.running) return handler(new ConcurrentCompilationError());\n      this.running = true;\n      this.watchMode = true;\n      this.fileTimestamps = new Map();\n      this.contextTimestamps = new Map();\n      this.removedFiles = new Set();\n      return new Watching(this, watchOptions, handler);\n    }\n  }, {\n    key: \"run\",\n    value: function run(callback) {\n      var _this3 = this;\n      if (this.running) return callback(new ConcurrentCompilationError());\n      var finalCallback = function finalCallback(err, stats) {\n        _this3.running = false;\n        if (err) {\n          _this3.hooks.failed.call(err);\n        }\n        if (callback !== undefined) return callback(err, stats);\n      };\n      var startTime = Date.now();\n      this.running = true;\n      var onCompiled = function onCompiled(err, compilation) {\n        if (err) return finalCallback(err);\n        if (_this3.hooks.shouldEmit.call(compilation) === false) {\n          var stats = new Stats(compilation);\n          stats.startTime = startTime;\n          stats.endTime = Date.now();\n          _this3.hooks.done.callAsync(stats, function (err) {\n            if (err) return finalCallback(err);\n            return finalCallback(null, stats);\n          });\n          return;\n        }\n        _this3.emitAssets(compilation, function (err) {\n          if (err) return finalCallback(err);\n          if (compilation.hooks.needAdditionalPass.call()) {\n            compilation.needAdditionalPass = true;\n            var _stats = new Stats(compilation);\n            _stats.startTime = startTime;\n            _stats.endTime = Date.now();\n            _this3.hooks.done.callAsync(_stats, function (err) {\n              if (err) return finalCallback(err);\n              _this3.hooks.additionalPass.callAsync(function (err) {\n                if (err) return finalCallback(err);\n                _this3.compile(onCompiled);\n              });\n            });\n            return;\n          }\n          _this3.emitRecords(function (err) {\n            if (err) return finalCallback(err);\n            var stats = new Stats(compilation);\n            stats.startTime = startTime;\n            stats.endTime = Date.now();\n            _this3.hooks.done.callAsync(stats, function (err) {\n              if (err) return finalCallback(err);\n              return finalCallback(null, stats);\n            });\n          });\n        });\n      };\n      this.hooks.beforeRun.callAsync(this, function (err) {\n        if (err) return finalCallback(err);\n        _this3.hooks.run.callAsync(_this3, function (err) {\n          if (err) return finalCallback(err);\n          _this3.readRecords(function (err) {\n            if (err) return finalCallback(err);\n            _this3.compile(onCompiled);\n          });\n        });\n      });\n    }\n  }, {\n    key: \"runAsChild\",\n    value: function runAsChild(callback) {\n      var _this4 = this;\n      this.compile(function (err, compilation) {\n        if (err) return callback(err);\n        _this4.parentCompilation.children.push(compilation);\n        var _iterator = _createForOfIteratorHelper(compilation.getAssets()),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _step$value = _step.value,\n              name = _step$value.name,\n              source = _step$value.source,\n              info = _step$value.info;\n            _this4.parentCompilation.emitAsset(name, source, info);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        var entries = Array.from(compilation.entrypoints.values(), function (ep) {\n          return ep.chunks;\n        }).reduce(function (array, chunks) {\n          return array.concat(chunks);\n        }, []);\n        return callback(null, entries, compilation);\n      });\n    }\n  }, {\n    key: \"purgeInputFileSystem\",\n    value: function purgeInputFileSystem() {\n      if (this.inputFileSystem && this.inputFileSystem.purge) {\n        this.inputFileSystem.purge();\n      }\n    }\n  }, {\n    key: \"emitAssets\",\n    value: function emitAssets(compilation, callback) {\n      var _this5 = this;\n      var outputPath;\n      var emitFiles = function emitFiles(err) {\n        if (err) return callback(err);\n        asyncLib.forEachLimit(compilation.getAssets(), 15, function (_ref, callback) {\n          var file = _ref.name,\n            source = _ref.source;\n          var targetFile = file;\n          var queryStringIdx = targetFile.indexOf(\"?\");\n          if (queryStringIdx >= 0) {\n            targetFile = targetFile.substr(0, queryStringIdx);\n          }\n          var writeOut = function writeOut(err) {\n            if (err) return callback(err);\n            var targetPath = _this5.outputFileSystem.join(outputPath, targetFile);\n            // TODO webpack 5 remove futureEmitAssets option and make it on by default\n            if (_this5.options.output.futureEmitAssets) {\n              // check if the target file has already been written by this Compiler\n              var targetFileGeneration = _this5._assetEmittingWrittenFiles.get(targetPath);\n\n              // create an cache entry for this Source if not already existing\n              var cacheEntry = _this5._assetEmittingSourceCache.get(source);\n              if (cacheEntry === undefined) {\n                cacheEntry = {\n                  sizeOnlySource: undefined,\n                  writtenTo: new Map()\n                };\n                _this5._assetEmittingSourceCache.set(source, cacheEntry);\n              }\n\n              // if the target file has already been written\n              if (targetFileGeneration !== undefined) {\n                // check if the Source has been written to this target file\n                var writtenGeneration = cacheEntry.writtenTo.get(targetPath);\n                if (writtenGeneration === targetFileGeneration) {\n                  // if yes, we skip writing the file\n                  // as it's already there\n                  // (we assume one doesn't remove files while the Compiler is running)\n\n                  compilation.updateAsset(file, cacheEntry.sizeOnlySource, {\n                    size: cacheEntry.sizeOnlySource.size()\n                  });\n                  return callback();\n                }\n              }\n\n              // TODO webpack 5: if info.immutable check if file already exists in output\n              // skip emitting if it's already there\n\n              // get the binary (Buffer) content from the Source\n              /** @type {Buffer} */\n              var content;\n              if (typeof source.buffer === \"function\") {\n                content = source.buffer();\n              } else {\n                var bufferOrString = source.source();\n                if (Buffer.isBuffer(bufferOrString)) {\n                  content = bufferOrString;\n                } else {\n                  content = Buffer.from(bufferOrString, \"utf8\");\n                }\n              }\n\n              // Create a replacement resource which only allows to ask for size\n              // This allows to GC all memory allocated by the Source\n              // (expect when the Source is stored in any other cache)\n              cacheEntry.sizeOnlySource = new SizeOnlySource(content.length);\n              compilation.updateAsset(file, cacheEntry.sizeOnlySource, {\n                size: content.length\n              });\n\n              // Write the file to output file system\n              _this5.outputFileSystem.writeFile(targetPath, content, function (err) {\n                if (err) return callback(err);\n\n                // information marker that the asset has been emitted\n                compilation.emittedAssets.add(file);\n\n                // cache the information that the Source has been written to that location\n                var newGeneration = targetFileGeneration === undefined ? 1 : targetFileGeneration + 1;\n                cacheEntry.writtenTo.set(targetPath, newGeneration);\n                _this5._assetEmittingWrittenFiles.set(targetPath, newGeneration);\n                _this5.hooks.assetEmitted.callAsync(file, content, callback);\n              });\n            } else {\n              if (source.existsAt === targetPath) {\n                source.emitted = false;\n                return callback();\n              }\n              var _content = source.source();\n              if (!Buffer.isBuffer(_content)) {\n                _content = Buffer.from(_content, \"utf8\");\n              }\n              source.existsAt = targetPath;\n              source.emitted = true;\n              _this5.outputFileSystem.writeFile(targetPath, _content, function (err) {\n                if (err) return callback(err);\n                _this5.hooks.assetEmitted.callAsync(file, _content, callback);\n              });\n            }\n          };\n          if (targetFile.match(/\\/|\\\\/)) {\n            var dir = path.dirname(targetFile);\n            _this5.outputFileSystem.mkdirp(_this5.outputFileSystem.join(outputPath, dir), writeOut);\n          } else {\n            writeOut();\n          }\n        }, function (err) {\n          if (err) return callback(err);\n          _this5.hooks.afterEmit.callAsync(compilation, function (err) {\n            if (err) return callback(err);\n            return callback();\n          });\n        });\n      };\n      this.hooks.emit.callAsync(compilation, function (err) {\n        if (err) return callback(err);\n        outputPath = compilation.getPath(_this5.outputPath);\n        _this5.outputFileSystem.mkdirp(outputPath, emitFiles);\n      });\n    }\n  }, {\n    key: \"emitRecords\",\n    value: function emitRecords(callback) {\n      var _this6 = this;\n      if (!this.recordsOutputPath) return callback();\n      var idx1 = this.recordsOutputPath.lastIndexOf(\"/\");\n      var idx2 = this.recordsOutputPath.lastIndexOf(\"\\\\\");\n      var recordsOutputPathDirectory = null;\n      if (idx1 > idx2) {\n        recordsOutputPathDirectory = this.recordsOutputPath.substr(0, idx1);\n      } else if (idx1 < idx2) {\n        recordsOutputPathDirectory = this.recordsOutputPath.substr(0, idx2);\n      }\n      var writeFile = function writeFile() {\n        _this6.outputFileSystem.writeFile(_this6.recordsOutputPath, JSON.stringify(_this6.records, undefined, 2), callback);\n      };\n      if (!recordsOutputPathDirectory) {\n        return writeFile();\n      }\n      this.outputFileSystem.mkdirp(recordsOutputPathDirectory, function (err) {\n        if (err) return callback(err);\n        writeFile();\n      });\n    }\n  }, {\n    key: \"readRecords\",\n    value: function readRecords(callback) {\n      var _this7 = this;\n      if (!this.recordsInputPath) {\n        this.records = {};\n        return callback();\n      }\n      this.inputFileSystem.stat(this.recordsInputPath, function (err) {\n        // It doesn't exist\n        // We can ignore this.\n        if (err) return callback();\n        _this7.inputFileSystem.readFile(_this7.recordsInputPath, function (err, content) {\n          if (err) return callback(err);\n          try {\n            _this7.records = parseJson(content.toString(\"utf-8\"));\n          } catch (e) {\n            e.message = \"Cannot parse records: \" + e.message;\n            return callback(e);\n          }\n          return callback();\n        });\n      });\n    }\n  }, {\n    key: \"createChildCompiler\",\n    value: function createChildCompiler(compilation, compilerName, compilerIndex, outputOptions, plugins) {\n      var childCompiler = new Compiler(this.context);\n      if (Array.isArray(plugins)) {\n        var _iterator2 = _createForOfIteratorHelper(plugins),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var plugin = _step2.value;\n            plugin.apply(childCompiler);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n      for (var name in this.hooks) {\n        if (![\"make\", \"compile\", \"emit\", \"afterEmit\", \"invalid\", \"done\", \"thisCompilation\"].includes(name)) {\n          if (childCompiler.hooks[name]) {\n            childCompiler.hooks[name].taps = this.hooks[name].taps.slice();\n          }\n        }\n      }\n      childCompiler.name = compilerName;\n      childCompiler.outputPath = this.outputPath;\n      childCompiler.inputFileSystem = this.inputFileSystem;\n      childCompiler.outputFileSystem = null;\n      childCompiler.resolverFactory = this.resolverFactory;\n      childCompiler.fileTimestamps = this.fileTimestamps;\n      childCompiler.contextTimestamps = this.contextTimestamps;\n      var relativeCompilerName = makePathsRelative(this.context, compilerName);\n      if (!this.records[relativeCompilerName]) {\n        this.records[relativeCompilerName] = [];\n      }\n      if (this.records[relativeCompilerName][compilerIndex]) {\n        childCompiler.records = this.records[relativeCompilerName][compilerIndex];\n      } else {\n        this.records[relativeCompilerName].push(childCompiler.records = {});\n      }\n      childCompiler.options = Object.create(this.options);\n      childCompiler.options.output = Object.create(childCompiler.options.output);\n      for (var _name in outputOptions) {\n        childCompiler.options.output[_name] = outputOptions[_name];\n      }\n      childCompiler.parentCompilation = compilation;\n      compilation.hooks.childCompiler.call(childCompiler, compilerName, compilerIndex);\n      return childCompiler;\n    }\n  }, {\n    key: \"isChild\",\n    value: function isChild() {\n      return !!this.parentCompilation;\n    }\n  }, {\n    key: \"createCompilation\",\n    value: function createCompilation() {\n      return new Compilation(this);\n    }\n  }, {\n    key: \"newCompilation\",\n    value: function newCompilation(params) {\n      var compilation = this.createCompilation();\n      compilation.fileTimestamps = this.fileTimestamps;\n      compilation.contextTimestamps = this.contextTimestamps;\n      compilation.name = this.name;\n      compilation.records = this.records;\n      compilation.compilationDependencies = params.compilationDependencies;\n      this.hooks.thisCompilation.call(compilation, params);\n      this.hooks.compilation.call(compilation, params);\n      return compilation;\n    }\n  }, {\n    key: \"createNormalModuleFactory\",\n    value: function createNormalModuleFactory() {\n      var normalModuleFactory = new NormalModuleFactory(this.options.context, this.resolverFactory, this.options.module || {});\n      this.hooks.normalModuleFactory.call(normalModuleFactory);\n      return normalModuleFactory;\n    }\n  }, {\n    key: \"createContextModuleFactory\",\n    value: function createContextModuleFactory() {\n      var contextModuleFactory = new ContextModuleFactory(this.resolverFactory);\n      this.hooks.contextModuleFactory.call(contextModuleFactory);\n      return contextModuleFactory;\n    }\n  }, {\n    key: \"newCompilationParams\",\n    value: function newCompilationParams() {\n      var params = {\n        normalModuleFactory: this.createNormalModuleFactory(),\n        contextModuleFactory: this.createContextModuleFactory(),\n        compilationDependencies: new Set()\n      };\n      return params;\n    }\n  }, {\n    key: \"compile\",\n    value: function compile(callback) {\n      var _this8 = this;\n      var params = this.newCompilationParams();\n      this.hooks.beforeCompile.callAsync(params, function (err) {\n        if (err) return callback(err);\n        _this8.hooks.compile.call(params);\n        var compilation = _this8.newCompilation(params);\n        _this8.hooks.make.callAsync(compilation, function (err) {\n          if (err) return callback(err);\n          compilation.finish(function (err) {\n            if (err) return callback(err);\n            compilation.seal(function (err) {\n              if (err) return callback(err);\n              _this8.hooks.afterCompile.callAsync(compilation, function (err) {\n                if (err) return callback(err);\n                return callback(null, compilation);\n              });\n            });\n          });\n        });\n      });\n    }\n  }]);\n  return Compiler;\n}(Tapable);\nmodule.exports = Compiler;\nvar SizeOnlySource = /*#__PURE__*/function (_Source) {\n  _inherits(SizeOnlySource, _Source);\n  var _super2 = _createSuper(SizeOnlySource);\n  function SizeOnlySource(size) {\n    var _this9;\n    _classCallCheck(this, SizeOnlySource);\n    _this9 = _super2.call(this);\n    _this9._size = size;\n    return _this9;\n  }\n  _createClass(SizeOnlySource, [{\n    key: \"_error\",\n    value: function _error() {\n      return new Error(\"Content and Map of this Source is no longer available (only size() is supported)\");\n    }\n  }, {\n    key: \"size\",\n    value: function size() {\n      return this._size;\n    }\n\n    /**\n     * @param {any} options options\n     * @returns {string} the source\n     */\n  }, {\n    key: \"source\",\n    value: function source(options) {\n      throw this._error();\n    }\n  }, {\n    key: \"node\",\n    value: function node() {\n      throw this._error();\n    }\n  }, {\n    key: \"listMap\",\n    value: function listMap() {\n      throw this._error();\n    }\n  }, {\n    key: \"map\",\n    value: function map() {\n      throw this._error();\n    }\n  }, {\n    key: \"listNode\",\n    value: function listNode() {\n      throw this._error();\n    }\n  }, {\n    key: \"updateHash\",\n    value: function updateHash() {\n      throw this._error();\n    }\n  }]);\n  return SizeOnlySource;\n}(Source);","map":{"version":3,"names":["parseJson","require","asyncLib","path","Source","util","Tapable","SyncHook","SyncBailHook","AsyncParallelHook","AsyncSeriesHook","Compilation","Stats","Watching","NormalModuleFactory","ContextModuleFactory","ResolverFactory","RequestShortener","makePathsRelative","ConcurrentCompilationError","Logger","Compiler","context","hooks","shouldEmit","done","additionalPass","beforeRun","run","emit","assetEmitted","afterEmit","thisCompilation","compilation","normalModuleFactory","contextModuleFactory","beforeCompile","compile","make","afterCompile","watchRun","failed","invalid","watchClose","infrastructureLog","environment","afterEnvironment","afterPlugins","afterResolvers","entryOption","infrastructurelog","_pluginCompat","tap","options","name","async","undefined","parentCompilation","outputPath","outputFileSystem","inputFileSystem","recordsInputPath","recordsOutputPath","records","removedFiles","Set","fileTimestamps","Map","contextTimestamps","resolverFactory","infrastructureLogger","resolvers","normal","plugins","deprecate","hook","fn","plugin","resolver","apply","args","loader","requestShortener","running","watchMode","_assetEmittingSourceCache","WeakMap","_assetEmittingWrittenFiles","TypeError","type","call","watchOptions","handler","callback","finalCallback","err","stats","startTime","Date","now","onCompiled","endTime","callAsync","emitAssets","needAdditionalPass","emitRecords","readRecords","children","push","getAssets","source","info","emitAsset","entries","Array","from","entrypoints","values","ep","chunks","reduce","array","concat","purge","emitFiles","forEachLimit","file","targetFile","queryStringIdx","indexOf","substr","writeOut","targetPath","join","output","futureEmitAssets","targetFileGeneration","get","cacheEntry","sizeOnlySource","writtenTo","set","writtenGeneration","updateAsset","size","content","buffer","bufferOrString","Buffer","isBuffer","SizeOnlySource","length","writeFile","emittedAssets","add","newGeneration","existsAt","emitted","match","dir","dirname","mkdirp","getPath","idx1","lastIndexOf","idx2","recordsOutputPathDirectory","JSON","stringify","stat","readFile","toString","e","message","compilerName","compilerIndex","outputOptions","childCompiler","isArray","includes","taps","slice","relativeCompilerName","Object","create","params","createCompilation","compilationDependencies","module","createNormalModuleFactory","createContextModuleFactory","newCompilationParams","newCompilation","finish","seal","exports","_size","Error","_error"],"sources":["C:/myCodes/KredoCodeChallenge/react/node_modules/webpack/lib/Compiler.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst parseJson = require(\"json-parse-better-errors\");\nconst asyncLib = require(\"neo-async\");\nconst path = require(\"path\");\nconst { Source } = require(\"webpack-sources\");\nconst util = require(\"util\");\nconst {\n\tTapable,\n\tSyncHook,\n\tSyncBailHook,\n\tAsyncParallelHook,\n\tAsyncSeriesHook\n} = require(\"tapable\");\n\nconst Compilation = require(\"./Compilation\");\nconst Stats = require(\"./Stats\");\nconst Watching = require(\"./Watching\");\nconst NormalModuleFactory = require(\"./NormalModuleFactory\");\nconst ContextModuleFactory = require(\"./ContextModuleFactory\");\nconst ResolverFactory = require(\"./ResolverFactory\");\n\nconst RequestShortener = require(\"./RequestShortener\");\nconst { makePathsRelative } = require(\"./util/identifier\");\nconst ConcurrentCompilationError = require(\"./ConcurrentCompilationError\");\nconst { Logger } = require(\"./logging/Logger\");\n\n/** @typedef {import(\"../declarations/WebpackOptions\").Entry} Entry */\n/** @typedef {import(\"../declarations/WebpackOptions\").WebpackOptions} WebpackOptions */\n\n/**\n * @typedef {Object} CompilationParams\n * @property {NormalModuleFactory} normalModuleFactory\n * @property {ContextModuleFactory} contextModuleFactory\n * @property {Set<string>} compilationDependencies\n */\n\nclass Compiler extends Tapable {\n\tconstructor(context) {\n\t\tsuper();\n\t\tthis.hooks = {\n\t\t\t/** @type {SyncBailHook<Compilation>} */\n\t\t\tshouldEmit: new SyncBailHook([\"compilation\"]),\n\t\t\t/** @type {AsyncSeriesHook<Stats>} */\n\t\t\tdone: new AsyncSeriesHook([\"stats\"]),\n\t\t\t/** @type {AsyncSeriesHook<>} */\n\t\t\tadditionalPass: new AsyncSeriesHook([]),\n\t\t\t/** @type {AsyncSeriesHook<Compiler>} */\n\t\t\tbeforeRun: new AsyncSeriesHook([\"compiler\"]),\n\t\t\t/** @type {AsyncSeriesHook<Compiler>} */\n\t\t\trun: new AsyncSeriesHook([\"compiler\"]),\n\t\t\t/** @type {AsyncSeriesHook<Compilation>} */\n\t\t\temit: new AsyncSeriesHook([\"compilation\"]),\n\t\t\t/** @type {AsyncSeriesHook<string, Buffer>} */\n\t\t\tassetEmitted: new AsyncSeriesHook([\"file\", \"content\"]),\n\t\t\t/** @type {AsyncSeriesHook<Compilation>} */\n\t\t\tafterEmit: new AsyncSeriesHook([\"compilation\"]),\n\n\t\t\t/** @type {SyncHook<Compilation, CompilationParams>} */\n\t\t\tthisCompilation: new SyncHook([\"compilation\", \"params\"]),\n\t\t\t/** @type {SyncHook<Compilation, CompilationParams>} */\n\t\t\tcompilation: new SyncHook([\"compilation\", \"params\"]),\n\t\t\t/** @type {SyncHook<NormalModuleFactory>} */\n\t\t\tnormalModuleFactory: new SyncHook([\"normalModuleFactory\"]),\n\t\t\t/** @type {SyncHook<ContextModuleFactory>}  */\n\t\t\tcontextModuleFactory: new SyncHook([\"contextModulefactory\"]),\n\n\t\t\t/** @type {AsyncSeriesHook<CompilationParams>} */\n\t\t\tbeforeCompile: new AsyncSeriesHook([\"params\"]),\n\t\t\t/** @type {SyncHook<CompilationParams>} */\n\t\t\tcompile: new SyncHook([\"params\"]),\n\t\t\t/** @type {AsyncParallelHook<Compilation>} */\n\t\t\tmake: new AsyncParallelHook([\"compilation\"]),\n\t\t\t/** @type {AsyncSeriesHook<Compilation>} */\n\t\t\tafterCompile: new AsyncSeriesHook([\"compilation\"]),\n\n\t\t\t/** @type {AsyncSeriesHook<Compiler>} */\n\t\t\twatchRun: new AsyncSeriesHook([\"compiler\"]),\n\t\t\t/** @type {SyncHook<Error>} */\n\t\t\tfailed: new SyncHook([\"error\"]),\n\t\t\t/** @type {SyncHook<string, string>} */\n\t\t\tinvalid: new SyncHook([\"filename\", \"changeTime\"]),\n\t\t\t/** @type {SyncHook} */\n\t\t\twatchClose: new SyncHook([]),\n\n\t\t\t/** @type {SyncBailHook<string, string, any[]>} */\n\t\t\tinfrastructureLog: new SyncBailHook([\"origin\", \"type\", \"args\"]),\n\n\t\t\t// TODO the following hooks are weirdly located here\n\t\t\t// TODO move them for webpack 5\n\t\t\t/** @type {SyncHook} */\n\t\t\tenvironment: new SyncHook([]),\n\t\t\t/** @type {SyncHook} */\n\t\t\tafterEnvironment: new SyncHook([]),\n\t\t\t/** @type {SyncHook<Compiler>} */\n\t\t\tafterPlugins: new SyncHook([\"compiler\"]),\n\t\t\t/** @type {SyncHook<Compiler>} */\n\t\t\tafterResolvers: new SyncHook([\"compiler\"]),\n\t\t\t/** @type {SyncBailHook<string, Entry>} */\n\t\t\tentryOption: new SyncBailHook([\"context\", \"entry\"])\n\t\t};\n\t\t// TODO webpack 5 remove this\n\t\tthis.hooks.infrastructurelog = this.hooks.infrastructureLog;\n\n\t\tthis._pluginCompat.tap(\"Compiler\", options => {\n\t\t\tswitch (options.name) {\n\t\t\t\tcase \"additional-pass\":\n\t\t\t\tcase \"before-run\":\n\t\t\t\tcase \"run\":\n\t\t\t\tcase \"emit\":\n\t\t\t\tcase \"after-emit\":\n\t\t\t\tcase \"before-compile\":\n\t\t\t\tcase \"make\":\n\t\t\t\tcase \"after-compile\":\n\t\t\t\tcase \"watch-run\":\n\t\t\t\t\toptions.async = true;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\t/** @type {string=} */\n\t\tthis.name = undefined;\n\t\t/** @type {Compilation=} */\n\t\tthis.parentCompilation = undefined;\n\t\t/** @type {string} */\n\t\tthis.outputPath = \"\";\n\n\t\tthis.outputFileSystem = null;\n\t\tthis.inputFileSystem = null;\n\n\t\t/** @type {string|null} */\n\t\tthis.recordsInputPath = null;\n\t\t/** @type {string|null} */\n\t\tthis.recordsOutputPath = null;\n\t\tthis.records = {};\n\t\tthis.removedFiles = new Set();\n\t\t/** @type {Map<string, number>} */\n\t\tthis.fileTimestamps = new Map();\n\t\t/** @type {Map<string, number>} */\n\t\tthis.contextTimestamps = new Map();\n\t\t/** @type {ResolverFactory} */\n\t\tthis.resolverFactory = new ResolverFactory();\n\n\t\tthis.infrastructureLogger = undefined;\n\n\t\t// TODO remove in webpack 5\n\t\tthis.resolvers = {\n\t\t\tnormal: {\n\t\t\t\tplugins: util.deprecate((hook, fn) => {\n\t\t\t\t\tthis.resolverFactory.plugin(\"resolver normal\", resolver => {\n\t\t\t\t\t\tresolver.plugin(hook, fn);\n\t\t\t\t\t});\n\t\t\t\t}, \"webpack: Using compiler.resolvers.normal is deprecated.\\n\" + 'Use compiler.resolverFactory.plugin(\"resolver normal\", resolver => {\\n  resolver.plugin(/* … */);\\n}); instead.'),\n\t\t\t\tapply: util.deprecate((...args) => {\n\t\t\t\t\tthis.resolverFactory.plugin(\"resolver normal\", resolver => {\n\t\t\t\t\t\tresolver.apply(...args);\n\t\t\t\t\t});\n\t\t\t\t}, \"webpack: Using compiler.resolvers.normal is deprecated.\\n\" + 'Use compiler.resolverFactory.plugin(\"resolver normal\", resolver => {\\n  resolver.apply(/* … */);\\n}); instead.')\n\t\t\t},\n\t\t\tloader: {\n\t\t\t\tplugins: util.deprecate((hook, fn) => {\n\t\t\t\t\tthis.resolverFactory.plugin(\"resolver loader\", resolver => {\n\t\t\t\t\t\tresolver.plugin(hook, fn);\n\t\t\t\t\t});\n\t\t\t\t}, \"webpack: Using compiler.resolvers.loader is deprecated.\\n\" + 'Use compiler.resolverFactory.plugin(\"resolver loader\", resolver => {\\n  resolver.plugin(/* … */);\\n}); instead.'),\n\t\t\t\tapply: util.deprecate((...args) => {\n\t\t\t\t\tthis.resolverFactory.plugin(\"resolver loader\", resolver => {\n\t\t\t\t\t\tresolver.apply(...args);\n\t\t\t\t\t});\n\t\t\t\t}, \"webpack: Using compiler.resolvers.loader is deprecated.\\n\" + 'Use compiler.resolverFactory.plugin(\"resolver loader\", resolver => {\\n  resolver.apply(/* … */);\\n}); instead.')\n\t\t\t},\n\t\t\tcontext: {\n\t\t\t\tplugins: util.deprecate((hook, fn) => {\n\t\t\t\t\tthis.resolverFactory.plugin(\"resolver context\", resolver => {\n\t\t\t\t\t\tresolver.plugin(hook, fn);\n\t\t\t\t\t});\n\t\t\t\t}, \"webpack: Using compiler.resolvers.context is deprecated.\\n\" + 'Use compiler.resolverFactory.plugin(\"resolver context\", resolver => {\\n  resolver.plugin(/* … */);\\n}); instead.'),\n\t\t\t\tapply: util.deprecate((...args) => {\n\t\t\t\t\tthis.resolverFactory.plugin(\"resolver context\", resolver => {\n\t\t\t\t\t\tresolver.apply(...args);\n\t\t\t\t\t});\n\t\t\t\t}, \"webpack: Using compiler.resolvers.context is deprecated.\\n\" + 'Use compiler.resolverFactory.plugin(\"resolver context\", resolver => {\\n  resolver.apply(/* … */);\\n}); instead.')\n\t\t\t}\n\t\t};\n\n\t\t/** @type {WebpackOptions} */\n\t\tthis.options = /** @type {WebpackOptions} */ ({});\n\n\t\tthis.context = context;\n\n\t\tthis.requestShortener = new RequestShortener(context);\n\n\t\t/** @type {boolean} */\n\t\tthis.running = false;\n\n\t\t/** @type {boolean} */\n\t\tthis.watchMode = false;\n\n\t\t/** @private @type {WeakMap<Source, { sizeOnlySource: SizeOnlySource, writtenTo: Map<string, number> }>} */\n\t\tthis._assetEmittingSourceCache = new WeakMap();\n\t\t/** @private @type {Map<string, number>} */\n\t\tthis._assetEmittingWrittenFiles = new Map();\n\t}\n\n\t/**\n\t * @param {string | (function(): string)} name name of the logger, or function called once to get the logger name\n\t * @returns {Logger} a logger with that name\n\t */\n\tgetInfrastructureLogger(name) {\n\t\tif (!name) {\n\t\t\tthrow new TypeError(\n\t\t\t\t\"Compiler.getInfrastructureLogger(name) called without a name\"\n\t\t\t);\n\t\t}\n\t\treturn new Logger((type, args) => {\n\t\t\tif (typeof name === \"function\") {\n\t\t\t\tname = name();\n\t\t\t\tif (!name) {\n\t\t\t\t\tthrow new TypeError(\n\t\t\t\t\t\t\"Compiler.getInfrastructureLogger(name) called with a function not returning a name\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.hooks.infrastructureLog.call(name, type, args) === undefined) {\n\t\t\t\tif (this.infrastructureLogger !== undefined) {\n\t\t\t\t\tthis.infrastructureLogger(name, type, args);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\twatch(watchOptions, handler) {\n\t\tif (this.running) return handler(new ConcurrentCompilationError());\n\n\t\tthis.running = true;\n\t\tthis.watchMode = true;\n\t\tthis.fileTimestamps = new Map();\n\t\tthis.contextTimestamps = new Map();\n\t\tthis.removedFiles = new Set();\n\t\treturn new Watching(this, watchOptions, handler);\n\t}\n\n\trun(callback) {\n\t\tif (this.running) return callback(new ConcurrentCompilationError());\n\n\t\tconst finalCallback = (err, stats) => {\n\t\t\tthis.running = false;\n\n\t\t\tif (err) {\n\t\t\t\tthis.hooks.failed.call(err);\n\t\t\t}\n\n\t\t\tif (callback !== undefined) return callback(err, stats);\n\t\t};\n\n\t\tconst startTime = Date.now();\n\n\t\tthis.running = true;\n\n\t\tconst onCompiled = (err, compilation) => {\n\t\t\tif (err) return finalCallback(err);\n\n\t\t\tif (this.hooks.shouldEmit.call(compilation) === false) {\n\t\t\t\tconst stats = new Stats(compilation);\n\t\t\t\tstats.startTime = startTime;\n\t\t\t\tstats.endTime = Date.now();\n\t\t\t\tthis.hooks.done.callAsync(stats, err => {\n\t\t\t\t\tif (err) return finalCallback(err);\n\t\t\t\t\treturn finalCallback(null, stats);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.emitAssets(compilation, err => {\n\t\t\t\tif (err) return finalCallback(err);\n\n\t\t\t\tif (compilation.hooks.needAdditionalPass.call()) {\n\t\t\t\t\tcompilation.needAdditionalPass = true;\n\n\t\t\t\t\tconst stats = new Stats(compilation);\n\t\t\t\t\tstats.startTime = startTime;\n\t\t\t\t\tstats.endTime = Date.now();\n\t\t\t\t\tthis.hooks.done.callAsync(stats, err => {\n\t\t\t\t\t\tif (err) return finalCallback(err);\n\n\t\t\t\t\t\tthis.hooks.additionalPass.callAsync(err => {\n\t\t\t\t\t\t\tif (err) return finalCallback(err);\n\t\t\t\t\t\t\tthis.compile(onCompiled);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.emitRecords(err => {\n\t\t\t\t\tif (err) return finalCallback(err);\n\n\t\t\t\t\tconst stats = new Stats(compilation);\n\t\t\t\t\tstats.startTime = startTime;\n\t\t\t\t\tstats.endTime = Date.now();\n\t\t\t\t\tthis.hooks.done.callAsync(stats, err => {\n\t\t\t\t\t\tif (err) return finalCallback(err);\n\t\t\t\t\t\treturn finalCallback(null, stats);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tthis.hooks.beforeRun.callAsync(this, err => {\n\t\t\tif (err) return finalCallback(err);\n\n\t\t\tthis.hooks.run.callAsync(this, err => {\n\t\t\t\tif (err) return finalCallback(err);\n\n\t\t\t\tthis.readRecords(err => {\n\t\t\t\t\tif (err) return finalCallback(err);\n\n\t\t\t\t\tthis.compile(onCompiled);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\trunAsChild(callback) {\n\t\tthis.compile((err, compilation) => {\n\t\t\tif (err) return callback(err);\n\n\t\t\tthis.parentCompilation.children.push(compilation);\n\t\t\tfor (const { name, source, info } of compilation.getAssets()) {\n\t\t\t\tthis.parentCompilation.emitAsset(name, source, info);\n\t\t\t}\n\n\t\t\tconst entries = Array.from(\n\t\t\t\tcompilation.entrypoints.values(),\n\t\t\t\tep => ep.chunks\n\t\t\t).reduce((array, chunks) => {\n\t\t\t\treturn array.concat(chunks);\n\t\t\t}, []);\n\n\t\t\treturn callback(null, entries, compilation);\n\t\t});\n\t}\n\n\tpurgeInputFileSystem() {\n\t\tif (this.inputFileSystem && this.inputFileSystem.purge) {\n\t\t\tthis.inputFileSystem.purge();\n\t\t}\n\t}\n\n\temitAssets(compilation, callback) {\n\t\tlet outputPath;\n\t\tconst emitFiles = err => {\n\t\t\tif (err) return callback(err);\n\n\t\t\tasyncLib.forEachLimit(\n\t\t\t\tcompilation.getAssets(),\n\t\t\t\t15,\n\t\t\t\t({ name: file, source }, callback) => {\n\t\t\t\t\tlet targetFile = file;\n\t\t\t\t\tconst queryStringIdx = targetFile.indexOf(\"?\");\n\t\t\t\t\tif (queryStringIdx >= 0) {\n\t\t\t\t\t\ttargetFile = targetFile.substr(0, queryStringIdx);\n\t\t\t\t\t}\n\n\t\t\t\t\tconst writeOut = err => {\n\t\t\t\t\t\tif (err) return callback(err);\n\t\t\t\t\t\tconst targetPath = this.outputFileSystem.join(\n\t\t\t\t\t\t\toutputPath,\n\t\t\t\t\t\t\ttargetFile\n\t\t\t\t\t\t);\n\t\t\t\t\t\t// TODO webpack 5 remove futureEmitAssets option and make it on by default\n\t\t\t\t\t\tif (this.options.output.futureEmitAssets) {\n\t\t\t\t\t\t\t// check if the target file has already been written by this Compiler\n\t\t\t\t\t\t\tconst targetFileGeneration = this._assetEmittingWrittenFiles.get(\n\t\t\t\t\t\t\t\ttargetPath\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// create an cache entry for this Source if not already existing\n\t\t\t\t\t\t\tlet cacheEntry = this._assetEmittingSourceCache.get(source);\n\t\t\t\t\t\t\tif (cacheEntry === undefined) {\n\t\t\t\t\t\t\t\tcacheEntry = {\n\t\t\t\t\t\t\t\t\tsizeOnlySource: undefined,\n\t\t\t\t\t\t\t\t\twrittenTo: new Map()\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tthis._assetEmittingSourceCache.set(source, cacheEntry);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// if the target file has already been written\n\t\t\t\t\t\t\tif (targetFileGeneration !== undefined) {\n\t\t\t\t\t\t\t\t// check if the Source has been written to this target file\n\t\t\t\t\t\t\t\tconst writtenGeneration = cacheEntry.writtenTo.get(targetPath);\n\t\t\t\t\t\t\t\tif (writtenGeneration === targetFileGeneration) {\n\t\t\t\t\t\t\t\t\t// if yes, we skip writing the file\n\t\t\t\t\t\t\t\t\t// as it's already there\n\t\t\t\t\t\t\t\t\t// (we assume one doesn't remove files while the Compiler is running)\n\n\t\t\t\t\t\t\t\t\tcompilation.updateAsset(file, cacheEntry.sizeOnlySource, {\n\t\t\t\t\t\t\t\t\t\tsize: cacheEntry.sizeOnlySource.size()\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\treturn callback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// TODO webpack 5: if info.immutable check if file already exists in output\n\t\t\t\t\t\t\t// skip emitting if it's already there\n\n\t\t\t\t\t\t\t// get the binary (Buffer) content from the Source\n\t\t\t\t\t\t\t/** @type {Buffer} */\n\t\t\t\t\t\t\tlet content;\n\t\t\t\t\t\t\tif (typeof source.buffer === \"function\") {\n\t\t\t\t\t\t\t\tcontent = source.buffer();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst bufferOrString = source.source();\n\t\t\t\t\t\t\t\tif (Buffer.isBuffer(bufferOrString)) {\n\t\t\t\t\t\t\t\t\tcontent = bufferOrString;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcontent = Buffer.from(bufferOrString, \"utf8\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Create a replacement resource which only allows to ask for size\n\t\t\t\t\t\t\t// This allows to GC all memory allocated by the Source\n\t\t\t\t\t\t\t// (expect when the Source is stored in any other cache)\n\t\t\t\t\t\t\tcacheEntry.sizeOnlySource = new SizeOnlySource(content.length);\n\t\t\t\t\t\t\tcompilation.updateAsset(file, cacheEntry.sizeOnlySource, {\n\t\t\t\t\t\t\t\tsize: content.length\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t// Write the file to output file system\n\t\t\t\t\t\t\tthis.outputFileSystem.writeFile(targetPath, content, err => {\n\t\t\t\t\t\t\t\tif (err) return callback(err);\n\n\t\t\t\t\t\t\t\t// information marker that the asset has been emitted\n\t\t\t\t\t\t\t\tcompilation.emittedAssets.add(file);\n\n\t\t\t\t\t\t\t\t// cache the information that the Source has been written to that location\n\t\t\t\t\t\t\t\tconst newGeneration =\n\t\t\t\t\t\t\t\t\ttargetFileGeneration === undefined\n\t\t\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t\t\t: targetFileGeneration + 1;\n\t\t\t\t\t\t\t\tcacheEntry.writtenTo.set(targetPath, newGeneration);\n\t\t\t\t\t\t\t\tthis._assetEmittingWrittenFiles.set(targetPath, newGeneration);\n\t\t\t\t\t\t\t\tthis.hooks.assetEmitted.callAsync(file, content, callback);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (source.existsAt === targetPath) {\n\t\t\t\t\t\t\t\tsource.emitted = false;\n\t\t\t\t\t\t\t\treturn callback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet content = source.source();\n\n\t\t\t\t\t\t\tif (!Buffer.isBuffer(content)) {\n\t\t\t\t\t\t\t\tcontent = Buffer.from(content, \"utf8\");\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsource.existsAt = targetPath;\n\t\t\t\t\t\t\tsource.emitted = true;\n\t\t\t\t\t\t\tthis.outputFileSystem.writeFile(targetPath, content, err => {\n\t\t\t\t\t\t\t\tif (err) return callback(err);\n\t\t\t\t\t\t\t\tthis.hooks.assetEmitted.callAsync(file, content, callback);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tif (targetFile.match(/\\/|\\\\/)) {\n\t\t\t\t\t\tconst dir = path.dirname(targetFile);\n\t\t\t\t\t\tthis.outputFileSystem.mkdirp(\n\t\t\t\t\t\t\tthis.outputFileSystem.join(outputPath, dir),\n\t\t\t\t\t\t\twriteOut\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\twriteOut();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terr => {\n\t\t\t\t\tif (err) return callback(err);\n\n\t\t\t\t\tthis.hooks.afterEmit.callAsync(compilation, err => {\n\t\t\t\t\t\tif (err) return callback(err);\n\n\t\t\t\t\t\treturn callback();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\t\t};\n\n\t\tthis.hooks.emit.callAsync(compilation, err => {\n\t\t\tif (err) return callback(err);\n\t\t\toutputPath = compilation.getPath(this.outputPath);\n\t\t\tthis.outputFileSystem.mkdirp(outputPath, emitFiles);\n\t\t});\n\t}\n\n\temitRecords(callback) {\n\t\tif (!this.recordsOutputPath) return callback();\n\t\tconst idx1 = this.recordsOutputPath.lastIndexOf(\"/\");\n\t\tconst idx2 = this.recordsOutputPath.lastIndexOf(\"\\\\\");\n\t\tlet recordsOutputPathDirectory = null;\n\t\tif (idx1 > idx2) {\n\t\t\trecordsOutputPathDirectory = this.recordsOutputPath.substr(0, idx1);\n\t\t} else if (idx1 < idx2) {\n\t\t\trecordsOutputPathDirectory = this.recordsOutputPath.substr(0, idx2);\n\t\t}\n\n\t\tconst writeFile = () => {\n\t\t\tthis.outputFileSystem.writeFile(\n\t\t\t\tthis.recordsOutputPath,\n\t\t\t\tJSON.stringify(this.records, undefined, 2),\n\t\t\t\tcallback\n\t\t\t);\n\t\t};\n\n\t\tif (!recordsOutputPathDirectory) {\n\t\t\treturn writeFile();\n\t\t}\n\t\tthis.outputFileSystem.mkdirp(recordsOutputPathDirectory, err => {\n\t\t\tif (err) return callback(err);\n\t\t\twriteFile();\n\t\t});\n\t}\n\n\treadRecords(callback) {\n\t\tif (!this.recordsInputPath) {\n\t\t\tthis.records = {};\n\t\t\treturn callback();\n\t\t}\n\t\tthis.inputFileSystem.stat(this.recordsInputPath, err => {\n\t\t\t// It doesn't exist\n\t\t\t// We can ignore this.\n\t\t\tif (err) return callback();\n\n\t\t\tthis.inputFileSystem.readFile(this.recordsInputPath, (err, content) => {\n\t\t\t\tif (err) return callback(err);\n\n\t\t\t\ttry {\n\t\t\t\t\tthis.records = parseJson(content.toString(\"utf-8\"));\n\t\t\t\t} catch (e) {\n\t\t\t\t\te.message = \"Cannot parse records: \" + e.message;\n\t\t\t\t\treturn callback(e);\n\t\t\t\t}\n\n\t\t\t\treturn callback();\n\t\t\t});\n\t\t});\n\t}\n\n\tcreateChildCompiler(\n\t\tcompilation,\n\t\tcompilerName,\n\t\tcompilerIndex,\n\t\toutputOptions,\n\t\tplugins\n\t) {\n\t\tconst childCompiler = new Compiler(this.context);\n\t\tif (Array.isArray(plugins)) {\n\t\t\tfor (const plugin of plugins) {\n\t\t\t\tplugin.apply(childCompiler);\n\t\t\t}\n\t\t}\n\t\tfor (const name in this.hooks) {\n\t\t\tif (\n\t\t\t\t![\n\t\t\t\t\t\"make\",\n\t\t\t\t\t\"compile\",\n\t\t\t\t\t\"emit\",\n\t\t\t\t\t\"afterEmit\",\n\t\t\t\t\t\"invalid\",\n\t\t\t\t\t\"done\",\n\t\t\t\t\t\"thisCompilation\"\n\t\t\t\t].includes(name)\n\t\t\t) {\n\t\t\t\tif (childCompiler.hooks[name]) {\n\t\t\t\t\tchildCompiler.hooks[name].taps = this.hooks[name].taps.slice();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tchildCompiler.name = compilerName;\n\t\tchildCompiler.outputPath = this.outputPath;\n\t\tchildCompiler.inputFileSystem = this.inputFileSystem;\n\t\tchildCompiler.outputFileSystem = null;\n\t\tchildCompiler.resolverFactory = this.resolverFactory;\n\t\tchildCompiler.fileTimestamps = this.fileTimestamps;\n\t\tchildCompiler.contextTimestamps = this.contextTimestamps;\n\n\t\tconst relativeCompilerName = makePathsRelative(this.context, compilerName);\n\t\tif (!this.records[relativeCompilerName]) {\n\t\t\tthis.records[relativeCompilerName] = [];\n\t\t}\n\t\tif (this.records[relativeCompilerName][compilerIndex]) {\n\t\t\tchildCompiler.records = this.records[relativeCompilerName][compilerIndex];\n\t\t} else {\n\t\t\tthis.records[relativeCompilerName].push((childCompiler.records = {}));\n\t\t}\n\n\t\tchildCompiler.options = Object.create(this.options);\n\t\tchildCompiler.options.output = Object.create(childCompiler.options.output);\n\t\tfor (const name in outputOptions) {\n\t\t\tchildCompiler.options.output[name] = outputOptions[name];\n\t\t}\n\t\tchildCompiler.parentCompilation = compilation;\n\n\t\tcompilation.hooks.childCompiler.call(\n\t\t\tchildCompiler,\n\t\t\tcompilerName,\n\t\t\tcompilerIndex\n\t\t);\n\n\t\treturn childCompiler;\n\t}\n\n\tisChild() {\n\t\treturn !!this.parentCompilation;\n\t}\n\n\tcreateCompilation() {\n\t\treturn new Compilation(this);\n\t}\n\n\tnewCompilation(params) {\n\t\tconst compilation = this.createCompilation();\n\t\tcompilation.fileTimestamps = this.fileTimestamps;\n\t\tcompilation.contextTimestamps = this.contextTimestamps;\n\t\tcompilation.name = this.name;\n\t\tcompilation.records = this.records;\n\t\tcompilation.compilationDependencies = params.compilationDependencies;\n\t\tthis.hooks.thisCompilation.call(compilation, params);\n\t\tthis.hooks.compilation.call(compilation, params);\n\t\treturn compilation;\n\t}\n\n\tcreateNormalModuleFactory() {\n\t\tconst normalModuleFactory = new NormalModuleFactory(\n\t\t\tthis.options.context,\n\t\t\tthis.resolverFactory,\n\t\t\tthis.options.module || {}\n\t\t);\n\t\tthis.hooks.normalModuleFactory.call(normalModuleFactory);\n\t\treturn normalModuleFactory;\n\t}\n\n\tcreateContextModuleFactory() {\n\t\tconst contextModuleFactory = new ContextModuleFactory(this.resolverFactory);\n\t\tthis.hooks.contextModuleFactory.call(contextModuleFactory);\n\t\treturn contextModuleFactory;\n\t}\n\n\tnewCompilationParams() {\n\t\tconst params = {\n\t\t\tnormalModuleFactory: this.createNormalModuleFactory(),\n\t\t\tcontextModuleFactory: this.createContextModuleFactory(),\n\t\t\tcompilationDependencies: new Set()\n\t\t};\n\t\treturn params;\n\t}\n\n\tcompile(callback) {\n\t\tconst params = this.newCompilationParams();\n\t\tthis.hooks.beforeCompile.callAsync(params, err => {\n\t\t\tif (err) return callback(err);\n\n\t\t\tthis.hooks.compile.call(params);\n\n\t\t\tconst compilation = this.newCompilation(params);\n\n\t\t\tthis.hooks.make.callAsync(compilation, err => {\n\t\t\t\tif (err) return callback(err);\n\n\t\t\t\tcompilation.finish(err => {\n\t\t\t\t\tif (err) return callback(err);\n\n\t\t\t\t\tcompilation.seal(err => {\n\t\t\t\t\t\tif (err) return callback(err);\n\n\t\t\t\t\t\tthis.hooks.afterCompile.callAsync(compilation, err => {\n\t\t\t\t\t\t\tif (err) return callback(err);\n\n\t\t\t\t\t\t\treturn callback(null, compilation);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n}\n\nmodule.exports = Compiler;\n\nclass SizeOnlySource extends Source {\n\tconstructor(size) {\n\t\tsuper();\n\t\tthis._size = size;\n\t}\n\n\t_error() {\n\t\treturn new Error(\n\t\t\t\"Content and Map of this Source is no longer available (only size() is supported)\"\n\t\t);\n\t}\n\n\tsize() {\n\t\treturn this._size;\n\t}\n\n\t/**\n\t * @param {any} options options\n\t * @returns {string} the source\n\t */\n\tsource(options) {\n\t\tthrow this._error();\n\t}\n\n\tnode() {\n\t\tthrow this._error();\n\t}\n\n\tlistMap() {\n\t\tthrow this._error();\n\t}\n\n\tmap() {\n\t\tthrow this._error();\n\t}\n\n\tlistNode() {\n\t\tthrow this._error();\n\t}\n\n\tupdateHash() {\n\t\tthrow this._error();\n\t}\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}