{"ast":null,"code":"import _objectSpread from \"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\myCodes\\\\KredoCodeChallenge\\\\react\\\\src\\\\components\\\\categories\\\\CategoryHome.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport Category from \"./Category\";\nimport * as categoryService from \"../../services/categoryService\";\nimport { useNavigate } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CategoryHome() {\n  _s();\n  var _this = this;\n  var _useState = useState({\n      arrayOfCategories: [],\n      categoryComponents: []\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    pageData = _useState2[0],\n    setPageData = _useState2[1];\n  var navigate = useNavigate();\n  var mapCategory = function mapCategory(aCategory) {\n    return /*#__PURE__*/_jsxDEV(Category, {\n      category: aCategory,\n      onNavToProducts: onGetProductsRequested\n    }, \"ListA-\" + aCategory.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, _this);\n  };\n  useEffect(function () {\n    console.log(\"firing useEffect for getCategories\");\n    categoryService.getCategories().then(onGetCategoriesSuccess).catch(onGetCategoriesError);\n  }, []);\n  var onGetCategoriesSuccess = function onGetCategoriesSuccess(data) {\n    var arrayOfMakes = data.items;\n    console.log({\n      arrayOfMakes: arrayOfMakes\n    });\n    setPageData(function (prevState) {\n      var pd = _objectSpread({}, prevState);\n      pd.arrayOfCategories = arrayOfMakes;\n      pd.categoryComponents = arrayOfMakes.map(mapCategory);\n      return pd;\n    });\n  };\n  var onGetCategoriesError = function onGetCategoriesError(error) {\n    console.error(error);\n  };\n  var onGetProductsRequested = function onGetProductsRequested(data) {\n    navigate(\"/category/\".concat(data.items.id));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: pageData.categoryComponents\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 10\n  }, this);\n}\n_s(CategoryHome, \"5Urq4Plrv6ThMepJzDvse4nA+/s=\", false, function () {\n  return [useNavigate];\n});\n_c = CategoryHome;\nexport default CategoryHome;\nvar _c;\n$RefreshReg$(_c, \"CategoryHome\");","map":{"version":3,"names":["React","useEffect","useState","Category","categoryService","useNavigate","CategoryHome","arrayOfCategories","categoryComponents","pageData","setPageData","navigate","mapCategory","aCategory","onGetProductsRequested","id","console","log","getCategories","then","onGetCategoriesSuccess","catch","onGetCategoriesError","data","arrayOfMakes","items","prevState","pd","map","error"],"sources":["C:/myCodes/KredoCodeChallenge/react/src/components/categories/CategoryHome.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Category from \"./Category\";\r\nimport * as categoryService from \"../../services/categoryService\";\r\nimport { useNavigate } from \"react-router\";\r\n\r\nfunction CategoryHome() {\r\n  const [pageData, setPageData] = useState({\r\n    arrayOfCategories: [],\r\n    categoryComponents: [],\r\n  });\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const mapCategory = (aCategory) => {\r\n    return (\r\n      <Category\r\n        category={aCategory}\r\n        key={\"ListA-\" + aCategory.id}\r\n        onNavToProducts={onGetProductsRequested}\r\n      />\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"firing useEffect for getCategories\");\r\n    categoryService\r\n      .getCategories()\r\n      .then(onGetCategoriesSuccess)\r\n      .catch(onGetCategoriesError);\r\n  }, []);\r\n\r\n  const onGetCategoriesSuccess = (data) => {\r\n    let arrayOfMakes = data.items;\r\n    console.log({ arrayOfMakes });\r\n\r\n    setPageData((prevState) => {\r\n      const pd = { ...prevState };\r\n      pd.arrayOfCategories = arrayOfMakes;\r\n      pd.categoryComponents = arrayOfMakes.map(mapCategory);\r\n      return pd;\r\n    });\r\n  };\r\n\r\n  const onGetCategoriesError = (error) => {\r\n    console.error(error);\r\n  };\r\n\r\n  const onGetProductsRequested = (data) => {\r\n    navigate(`/category/${data.items.id}`);\r\n  };\r\n\r\n  return <div className=\"row\">{pageData.categoryComponents}</div>;\r\n}\r\n\r\nexport default CategoryHome;\r\n"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,QAAQ,MAAM,YAAY;AACjC,OAAO,KAAKC,eAAe,MAAM,gCAAgC;AACjE,SAASC,WAAW,QAAQ,cAAc;AAAC;AAE3C,SAASC,YAAY,GAAG;EAAA;EAAA;EACtB,gBAAgCJ,QAAQ,CAAC;MACvCK,iBAAiB,EAAE,EAAE;MACrBC,kBAAkB,EAAE;IACtB,CAAC,CAAC;IAAA;IAHKC,QAAQ;IAAEC,WAAW;EAK5B,IAAMC,QAAQ,GAAGN,WAAW,EAAE;EAE9B,IAAMO,WAAW,GAAG,SAAdA,WAAW,CAAIC,SAAS,EAAK;IACjC,oBACE,QAAC,QAAQ;MACP,QAAQ,EAAEA,SAAU;MAEpB,eAAe,EAAEC;IAAuB,GADnC,QAAQ,GAAGD,SAAS,CAACE,EAAE;MAAA;MAAA;MAAA;IAAA,SAE5B;EAEN,CAAC;EAEDd,SAAS,CAAC,YAAM;IACde,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;IACjDb,eAAe,CACZc,aAAa,EAAE,CACfC,IAAI,CAACC,sBAAsB,CAAC,CAC5BC,KAAK,CAACC,oBAAoB,CAAC;EAChC,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMF,sBAAsB,GAAG,SAAzBA,sBAAsB,CAAIG,IAAI,EAAK;IACvC,IAAIC,YAAY,GAAGD,IAAI,CAACE,KAAK;IAC7BT,OAAO,CAACC,GAAG,CAAC;MAAEO,YAAY,EAAZA;IAAa,CAAC,CAAC;IAE7Bd,WAAW,CAAC,UAACgB,SAAS,EAAK;MACzB,IAAMC,EAAE,qBAAQD,SAAS,CAAE;MAC3BC,EAAE,CAACpB,iBAAiB,GAAGiB,YAAY;MACnCG,EAAE,CAACnB,kBAAkB,GAAGgB,YAAY,CAACI,GAAG,CAAChB,WAAW,CAAC;MACrD,OAAOe,EAAE;IACX,CAAC,CAAC;EACJ,CAAC;EAED,IAAML,oBAAoB,GAAG,SAAvBA,oBAAoB,CAAIO,KAAK,EAAK;IACtCb,OAAO,CAACa,KAAK,CAACA,KAAK,CAAC;EACtB,CAAC;EAED,IAAMf,sBAAsB,GAAG,SAAzBA,sBAAsB,CAAIS,IAAI,EAAK;IACvCZ,QAAQ,qBAAcY,IAAI,CAACE,KAAK,CAACV,EAAE,EAAG;EACxC,CAAC;EAED,oBAAO;IAAK,SAAS,EAAC,KAAK;IAAA,UAAEN,QAAQ,CAACD;EAAkB;IAAA;IAAA;IAAA;EAAA,QAAO;AACjE;AAAC,GA/CQF,YAAY;EAAA,QAMFD,WAAW;AAAA;AAAA,KANrBC,YAAY;AAiDrB,eAAeA,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module"}