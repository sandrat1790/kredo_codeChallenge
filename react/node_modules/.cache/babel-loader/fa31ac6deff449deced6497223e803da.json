{"ast":null,"code":"import _objectSpread from\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Product from\"./ProductTemplate\";//import * as productService from '../../services/productService'\nimport*as categoryService from\"../../services/categoryService\";import{jsx as _jsx}from\"react/jsx-runtime\";function ProductIndex(){var _useState=useState({arrayOfProducts:[],productComponents:[]}),_useState2=_slicedToArray(_useState,2),pageData=_useState2[0],setPageData=_useState2[1];var mapProduct=function mapProduct(aProduct){return/*#__PURE__*/_jsx(Product,{product:aProduct,onNavToProducts:function onNavToProducts(id){return onGetProducts(id);}},\"ListA-\"+aProduct.id);};var onGetProducts=function onGetProducts(id){categoryService.getProductsByCategory(id).then(onGetProductsSuccess).catch(onGetProductsError);};var onGetProductsSuccess=function onGetProductsSuccess(data){var arrayOfItems=data.items;setPageData(function(prevState){var pd=_objectSpread({},prevState);pd.arrayOfProducts=arrayOfItems;pd.productComponents=arrayOfItems.map(mapProduct);return pd;});};var onGetProductsError=function onGetProductsError(error){console.error(error);};return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:pageData.productComponents});}export default ProductIndex;","map":{"version":3,"names":["React","useState","Product","categoryService","ProductIndex","arrayOfProducts","productComponents","pageData","setPageData","mapProduct","aProduct","id","onGetProducts","getProductsByCategory","then","onGetProductsSuccess","catch","onGetProductsError","data","arrayOfItems","items","prevState","pd","map","error","console"],"sources":["C:/myCodes/KredoCodeChallenge/react/src/components/products/ProductIndex.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Product from \"./ProductTemplate\";\r\n//import * as productService from '../../services/productService'\r\nimport * as categoryService from \"../../services/categoryService\";\r\n\r\nfunction ProductIndex() {\r\n  const [pageData, setPageData] = useState({\r\n    arrayOfProducts: [],\r\n    productComponents: [],\r\n  });\r\n\r\n  const mapProduct = (aProduct) => {\r\n    return (\r\n      <Product\r\n        product={aProduct}\r\n        key={\"ListA-\" + aProduct.id}\r\n        onNavToProducts={(id) => onGetProducts(id)}\r\n      />\r\n    );\r\n  };\r\n\r\n  const onGetProducts = (id) => {\r\n    categoryService\r\n      .getProductsByCategory(id)\r\n      .then(onGetProductsSuccess)\r\n      .catch(onGetProductsError);\r\n  };\r\n\r\n  const onGetProductsSuccess = (data) => {\r\n    let arrayOfItems = data.items;\r\n\r\n    setPageData((prevState) => {\r\n      const pd = { ...prevState };\r\n      pd.arrayOfProducts = arrayOfItems;\r\n      pd.productComponents = arrayOfItems.map(mapProduct);\r\n      return pd;\r\n    });\r\n  };\r\n\r\n  const onGetProductsError = (error) => {\r\n    console.error(error);\r\n  };\r\n\r\n  return <div className=\"row\">{pageData.productComponents}</div>;\r\n}\r\n\r\nexport default ProductIndex;\r\n"],"mappings":"iPAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAOC,QAAO,KAAM,mBAAmB,CACvC;AACA,MAAO,GAAKC,gBAAe,KAAM,gCAAgC,CAAC,2CAElE,QAASC,aAAY,EAAG,CACtB,cAAgCH,QAAQ,CAAC,CACvCI,eAAe,CAAE,EAAE,CACnBC,iBAAiB,CAAE,EACrB,CAAC,CAAC,wCAHKC,QAAQ,eAAEC,WAAW,eAK5B,GAAMC,WAAU,CAAG,QAAbA,WAAU,CAAIC,QAAQ,CAAK,CAC/B,mBACE,KAAC,OAAO,EACN,OAAO,CAAEA,QAAS,CAElB,eAAe,CAAE,yBAACC,EAAE,QAAKC,cAAa,CAACD,EAAE,CAAC,EAAC,EADtC,QAAQ,CAAGD,QAAQ,CAACC,EAAE,CAE3B,CAEN,CAAC,CAED,GAAMC,cAAa,CAAG,QAAhBA,cAAa,CAAID,EAAE,CAAK,CAC5BR,eAAe,CACZU,qBAAqB,CAACF,EAAE,CAAC,CACzBG,IAAI,CAACC,oBAAoB,CAAC,CAC1BC,KAAK,CAACC,kBAAkB,CAAC,CAC9B,CAAC,CAED,GAAMF,qBAAoB,CAAG,QAAvBA,qBAAoB,CAAIG,IAAI,CAAK,CACrC,GAAIC,aAAY,CAAGD,IAAI,CAACE,KAAK,CAE7BZ,WAAW,CAAC,SAACa,SAAS,CAAK,CACzB,GAAMC,GAAE,kBAAQD,SAAS,CAAE,CAC3BC,EAAE,CAACjB,eAAe,CAAGc,YAAY,CACjCG,EAAE,CAAChB,iBAAiB,CAAGa,YAAY,CAACI,GAAG,CAACd,UAAU,CAAC,CACnD,MAAOa,GAAE,CACX,CAAC,CAAC,CACJ,CAAC,CAED,GAAML,mBAAkB,CAAG,QAArBA,mBAAkB,CAAIO,KAAK,CAAK,CACpCC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACtB,CAAC,CAED,mBAAO,YAAK,SAAS,CAAC,KAAK,UAAEjB,QAAQ,CAACD,iBAAiB,EAAO,CAChE,CAEA,cAAeF,aAAY"},"metadata":{},"sourceType":"module"}