{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n\t*/\n\"use strict\";\n\nvar _classCallCheck = require(\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _inherits = require(\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nvar _createForOfIteratorHelper = require(\"C:/myCodes/KredoCodeChallenge/react/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\nvar asyncLib = require(\"neo-async\");\nvar util = require(\"util\");\nvar _require = require(\"webpack-sources\"),\n  CachedSource = _require.CachedSource;\nvar _require2 = require(\"tapable\"),\n  Tapable = _require2.Tapable,\n  SyncHook = _require2.SyncHook,\n  SyncBailHook = _require2.SyncBailHook,\n  SyncWaterfallHook = _require2.SyncWaterfallHook,\n  AsyncSeriesHook = _require2.AsyncSeriesHook;\nvar EntryModuleNotFoundError = require(\"./EntryModuleNotFoundError\");\nvar ModuleNotFoundError = require(\"./ModuleNotFoundError\");\nvar ModuleDependencyWarning = require(\"./ModuleDependencyWarning\");\nvar ModuleDependencyError = require(\"./ModuleDependencyError\");\nvar ChunkGroup = require(\"./ChunkGroup\");\nvar Chunk = require(\"./Chunk\");\nvar Entrypoint = require(\"./Entrypoint\");\nvar MainTemplate = require(\"./MainTemplate\");\nvar ChunkTemplate = require(\"./ChunkTemplate\");\nvar HotUpdateChunkTemplate = require(\"./HotUpdateChunkTemplate\");\nvar ModuleTemplate = require(\"./ModuleTemplate\");\nvar RuntimeTemplate = require(\"./RuntimeTemplate\");\nvar ChunkRenderError = require(\"./ChunkRenderError\");\nvar Stats = require(\"./Stats\");\nvar Semaphore = require(\"./util/Semaphore\");\nvar _createHash = require(\"./util/createHash\");\nvar SortableSet = require(\"./util/SortableSet\");\nvar GraphHelpers = require(\"./GraphHelpers\");\nvar ModuleDependency = require(\"./dependencies/ModuleDependency\");\nvar compareLocations = require(\"./compareLocations\");\nvar _require3 = require(\"./logging/Logger\"),\n  Logger = _require3.Logger,\n  LogType = _require3.LogType;\nvar ErrorHelpers = require(\"./ErrorHelpers\");\nvar buildChunkGraph = require(\"./buildChunkGraph\");\nvar WebpackError = require(\"./WebpackError\");\n\n/** @typedef {import(\"./Module\")} Module */\n/** @typedef {import(\"./Compiler\")} Compiler */\n/** @typedef {import(\"webpack-sources\").Source} Source */\n/** @typedef {import(\"./DependenciesBlockVariable\")} DependenciesBlockVariable */\n/** @typedef {import(\"./dependencies/SingleEntryDependency\")} SingleEntryDependency */\n/** @typedef {import(\"./dependencies/MultiEntryDependency\")} MultiEntryDependency */\n/** @typedef {import(\"./dependencies/DllEntryDependency\")} DllEntryDependency */\n/** @typedef {import(\"./dependencies/DependencyReference\")} DependencyReference */\n/** @typedef {import(\"./DependenciesBlock\")} DependenciesBlock */\n/** @typedef {import(\"./AsyncDependenciesBlock\")} AsyncDependenciesBlock */\n/** @typedef {import(\"./Dependency\")} Dependency */\n/** @typedef {import(\"./Dependency\").DependencyLocation} DependencyLocation */\n/** @typedef {import(\"./Dependency\").DependencyTemplate} DependencyTemplate */\n/** @typedef {import(\"./util/createHash\").Hash} Hash */\n\n// TODO use @callback\n/** @typedef {{[assetName: string]: Source}} CompilationAssets */\n/** @typedef {(err: Error|null, result?: Module) => void } ModuleCallback */\n/** @typedef {(err?: Error|null, result?: Module) => void } ModuleChainCallback */\n/** @typedef {(module: Module) => void} OnModuleCallback */\n/** @typedef {(err?: Error|null) => void} Callback */\n/** @typedef {(d: Dependency) => any} DepBlockVarDependenciesCallback */\n/** @typedef {new (...args: any[]) => Dependency} DepConstructor */\n/** @typedef {{apply: () => void}} Plugin */\n\n/**\n * @typedef {Object} ModuleFactoryCreateDataContextInfo\n * @property {string} issuer\n * @property {string} compiler\n */\n\n/**\n * @typedef {Object} ModuleFactoryCreateData\n * @property {ModuleFactoryCreateDataContextInfo} contextInfo\n * @property {any=} resolveOptions\n * @property {string} context\n * @property {Dependency[]} dependencies\n */\n\n/**\n * @typedef {Object} ModuleFactory\n * @property {(data: ModuleFactoryCreateData, callback: ModuleCallback) => any} create\n */\n\n/**\n * @typedef {Object} SortedDependency\n * @property {ModuleFactory} factory\n * @property {Dependency[]} dependencies\n */\n\n/**\n * @typedef {Object} DependenciesBlockLike\n * @property {Dependency[]} dependencies\n * @property {AsyncDependenciesBlock[]} blocks\n * @property {DependenciesBlockVariable[]} variables\n */\n\n/**\n * @typedef {Object} LogEntry\n * @property {string} type\n * @property {any[]} args\n * @property {number} time\n * @property {string[]=} trace\n */\n\n/**\n * @typedef {Object} AssetInfo\n * @property {boolean=} immutable true, if the asset can be long term cached forever (contains a hash)\n * @property {number=} size size in bytes, only set after asset has been emitted\n * @property {boolean=} development true, when asset is only used for development and doesn't count towards user-facing assets\n * @property {boolean=} hotModuleReplacement true, when asset ships data for updating an existing application (HMR)\n */\n\n/**\n * @typedef {Object} Asset\n * @property {string} name the filename of the asset\n * @property {Source} source source of the asset\n * @property {AssetInfo} info info about the asset\n */\n\n/**\n * @param {Chunk} a first chunk to sort by id\n * @param {Chunk} b second chunk to sort by id\n * @returns {-1|0|1} sort value\n */\nvar byId = function byId(a, b) {\n  if (typeof a.id !== typeof b.id) {\n    return typeof a.id < typeof b.id ? -1 : 1;\n  }\n  if (a.id < b.id) return -1;\n  if (a.id > b.id) return 1;\n  return 0;\n};\n\n/**\n * @param {Module} a first module to sort by\n * @param {Module} b second module to sort by\n * @returns {-1|0|1} sort value\n */\nvar byIdOrIdentifier = function byIdOrIdentifier(a, b) {\n  if (typeof a.id !== typeof b.id) {\n    return typeof a.id < typeof b.id ? -1 : 1;\n  }\n  if (a.id < b.id) return -1;\n  if (a.id > b.id) return 1;\n  var identA = a.identifier();\n  var identB = b.identifier();\n  if (identA < identB) return -1;\n  if (identA > identB) return 1;\n  return 0;\n};\n\n/**\n * @param {Module} a first module to sort by\n * @param {Module} b second module to sort by\n * @returns {-1|0|1} sort value\n */\nvar byIndexOrIdentifier = function byIndexOrIdentifier(a, b) {\n  if (a.index < b.index) return -1;\n  if (a.index > b.index) return 1;\n  var identA = a.identifier();\n  var identB = b.identifier();\n  if (identA < identB) return -1;\n  if (identA > identB) return 1;\n  return 0;\n};\n\n/**\n * @param {Compilation} a first compilation to sort by\n * @param {Compilation} b second compilation to sort by\n * @returns {-1|0|1} sort value\n */\nvar byNameOrHash = function byNameOrHash(a, b) {\n  if (a.name < b.name) return -1;\n  if (a.name > b.name) return 1;\n  if (a.fullHash < b.fullHash) return -1;\n  if (a.fullHash > b.fullHash) return 1;\n  return 0;\n};\n\n/**\n * @param {DependenciesBlockVariable[]} variables DepBlock Variables to iterate over\n * @param {DepBlockVarDependenciesCallback} fn callback to apply on iterated elements\n * @returns {void}\n */\nvar iterationBlockVariable = function iterationBlockVariable(variables, fn) {\n  for (var indexVariable = 0; indexVariable < variables.length; indexVariable++) {\n    var varDep = variables[indexVariable].dependencies;\n    for (var indexVDep = 0; indexVDep < varDep.length; indexVDep++) {\n      fn(varDep[indexVDep]);\n    }\n  }\n};\n\n/**\n * @template T\n * @param {T[]} arr array of elements to iterate over\n * @param {function(T): void} fn callback applied to each element\n * @returns {void}\n */\nvar iterationOfArrayCallback = function iterationOfArrayCallback(arr, fn) {\n  for (var index = 0; index < arr.length; index++) {\n    fn(arr[index]);\n  }\n};\n\n/**\n * @template T\n * @param {Set<T>} set set to add items to\n * @param {Set<T>} otherSet set to add items from\n * @returns {void}\n */\nvar addAllToSet = function addAllToSet(set, otherSet) {\n  var _iterator = _createForOfIteratorHelper(otherSet),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var item = _step.value;\n      set.add(item);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n};\n\n/**\n * @param {Source} a a source\n * @param {Source} b another source\n * @returns {boolean} true, when both sources are equal\n */\nvar isSourceEqual = function isSourceEqual(a, b) {\n  if (a === b) return true;\n  // TODO webpack 5: check .buffer() instead, it's called anyway during emit\n  /** @type {Buffer|string} */\n  var aSource = a.source();\n  /** @type {Buffer|string} */\n  var bSource = b.source();\n  if (aSource === bSource) return true;\n  if (typeof aSource === \"string\" && typeof bSource === \"string\") return false;\n  if (!Buffer.isBuffer(aSource)) aSource = Buffer.from(aSource, \"utf-8\");\n  if (!Buffer.isBuffer(bSource)) bSource = Buffer.from(bSource, \"utf-8\");\n  return aSource.equals(bSource);\n};\nvar Compilation = /*#__PURE__*/function (_Tapable) {\n  _inherits(Compilation, _Tapable);\n  var _super = _createSuper(Compilation);\n  /**\n   * Creates an instance of Compilation.\n   * @param {Compiler} compiler the compiler which created the compilation\n   */\n  function Compilation(compiler) {\n    var _this;\n    _classCallCheck(this, Compilation);\n    _this = _super.call(this);\n    _this.hooks = {\n      /** @type {SyncHook<Module>} */\n      buildModule: new SyncHook([\"module\"]),\n      /** @type {SyncHook<Module>} */\n      rebuildModule: new SyncHook([\"module\"]),\n      /** @type {SyncHook<Module, Error>} */\n      failedModule: new SyncHook([\"module\", \"error\"]),\n      /** @type {SyncHook<Module>} */\n      succeedModule: new SyncHook([\"module\"]),\n      /** @type {SyncHook<Dependency, string>} */\n      addEntry: new SyncHook([\"entry\", \"name\"]),\n      /** @type {SyncHook<Dependency, string, Error>} */\n      failedEntry: new SyncHook([\"entry\", \"name\", \"error\"]),\n      /** @type {SyncHook<Dependency, string, Module>} */\n      succeedEntry: new SyncHook([\"entry\", \"name\", \"module\"]),\n      /** @type {SyncWaterfallHook<DependencyReference, Dependency, Module>} */\n      dependencyReference: new SyncWaterfallHook([\"dependencyReference\", \"dependency\", \"module\"]),\n      /** @type {AsyncSeriesHook<Module[]>} */\n      finishModules: new AsyncSeriesHook([\"modules\"]),\n      /** @type {SyncHook<Module>} */\n      finishRebuildingModule: new SyncHook([\"module\"]),\n      /** @type {SyncHook} */\n      unseal: new SyncHook([]),\n      /** @type {SyncHook} */\n      seal: new SyncHook([]),\n      /** @type {SyncHook} */\n      beforeChunks: new SyncHook([]),\n      /** @type {SyncHook<Chunk[]>} */\n      afterChunks: new SyncHook([\"chunks\"]),\n      /** @type {SyncBailHook<Module[]>} */\n      optimizeDependenciesBasic: new SyncBailHook([\"modules\"]),\n      /** @type {SyncBailHook<Module[]>} */\n      optimizeDependencies: new SyncBailHook([\"modules\"]),\n      /** @type {SyncBailHook<Module[]>} */\n      optimizeDependenciesAdvanced: new SyncBailHook([\"modules\"]),\n      /** @type {SyncBailHook<Module[]>} */\n      afterOptimizeDependencies: new SyncHook([\"modules\"]),\n      /** @type {SyncHook} */\n      optimize: new SyncHook([]),\n      /** @type {SyncBailHook<Module[]>} */\n      optimizeModulesBasic: new SyncBailHook([\"modules\"]),\n      /** @type {SyncBailHook<Module[]>} */\n      optimizeModules: new SyncBailHook([\"modules\"]),\n      /** @type {SyncBailHook<Module[]>} */\n      optimizeModulesAdvanced: new SyncBailHook([\"modules\"]),\n      /** @type {SyncHook<Module[]>} */\n      afterOptimizeModules: new SyncHook([\"modules\"]),\n      /** @type {SyncBailHook<Chunk[], ChunkGroup[]>} */\n      optimizeChunksBasic: new SyncBailHook([\"chunks\", \"chunkGroups\"]),\n      /** @type {SyncBailHook<Chunk[], ChunkGroup[]>} */\n      optimizeChunks: new SyncBailHook([\"chunks\", \"chunkGroups\"]),\n      /** @type {SyncBailHook<Chunk[], ChunkGroup[]>} */\n      optimizeChunksAdvanced: new SyncBailHook([\"chunks\", \"chunkGroups\"]),\n      /** @type {SyncHook<Chunk[], ChunkGroup[]>} */\n      afterOptimizeChunks: new SyncHook([\"chunks\", \"chunkGroups\"]),\n      /** @type {AsyncSeriesHook<Chunk[], Module[]>} */\n      optimizeTree: new AsyncSeriesHook([\"chunks\", \"modules\"]),\n      /** @type {SyncHook<Chunk[], Module[]>} */\n      afterOptimizeTree: new SyncHook([\"chunks\", \"modules\"]),\n      /** @type {SyncBailHook<Chunk[], Module[]>} */\n      optimizeChunkModulesBasic: new SyncBailHook([\"chunks\", \"modules\"]),\n      /** @type {SyncBailHook<Chunk[], Module[]>} */\n      optimizeChunkModules: new SyncBailHook([\"chunks\", \"modules\"]),\n      /** @type {SyncBailHook<Chunk[], Module[]>} */\n      optimizeChunkModulesAdvanced: new SyncBailHook([\"chunks\", \"modules\"]),\n      /** @type {SyncHook<Chunk[], Module[]>} */\n      afterOptimizeChunkModules: new SyncHook([\"chunks\", \"modules\"]),\n      /** @type {SyncBailHook} */\n      shouldRecord: new SyncBailHook([]),\n      /** @type {SyncHook<Module[], any>} */\n      reviveModules: new SyncHook([\"modules\", \"records\"]),\n      /** @type {SyncHook<Module[]>} */\n      optimizeModuleOrder: new SyncHook([\"modules\"]),\n      /** @type {SyncHook<Module[]>} */\n      advancedOptimizeModuleOrder: new SyncHook([\"modules\"]),\n      /** @type {SyncHook<Module[]>} */\n      beforeModuleIds: new SyncHook([\"modules\"]),\n      /** @type {SyncHook<Module[]>} */\n      moduleIds: new SyncHook([\"modules\"]),\n      /** @type {SyncHook<Module[]>} */\n      optimizeModuleIds: new SyncHook([\"modules\"]),\n      /** @type {SyncHook<Module[]>} */\n      afterOptimizeModuleIds: new SyncHook([\"modules\"]),\n      /** @type {SyncHook<Chunk[], any>} */\n      reviveChunks: new SyncHook([\"chunks\", \"records\"]),\n      /** @type {SyncHook<Chunk[]>} */\n      optimizeChunkOrder: new SyncHook([\"chunks\"]),\n      /** @type {SyncHook<Chunk[]>} */\n      beforeChunkIds: new SyncHook([\"chunks\"]),\n      /** @type {SyncHook<Chunk[]>} */\n      optimizeChunkIds: new SyncHook([\"chunks\"]),\n      /** @type {SyncHook<Chunk[]>} */\n      afterOptimizeChunkIds: new SyncHook([\"chunks\"]),\n      /** @type {SyncHook<Module[], any>} */\n      recordModules: new SyncHook([\"modules\", \"records\"]),\n      /** @type {SyncHook<Chunk[], any>} */\n      recordChunks: new SyncHook([\"chunks\", \"records\"]),\n      /** @type {SyncHook} */\n      beforeHash: new SyncHook([]),\n      /** @type {SyncHook<Chunk>} */\n      contentHash: new SyncHook([\"chunk\"]),\n      /** @type {SyncHook} */\n      afterHash: new SyncHook([]),\n      /** @type {SyncHook<any>} */\n      recordHash: new SyncHook([\"records\"]),\n      /** @type {SyncHook<Compilation, any>} */\n      record: new SyncHook([\"compilation\", \"records\"]),\n      /** @type {SyncHook} */\n      beforeModuleAssets: new SyncHook([]),\n      /** @type {SyncBailHook} */\n      shouldGenerateChunkAssets: new SyncBailHook([]),\n      /** @type {SyncHook} */\n      beforeChunkAssets: new SyncHook([]),\n      /** @type {SyncHook<Chunk[]>} */\n      additionalChunkAssets: new SyncHook([\"chunks\"]),\n      /** @type {AsyncSeriesHook} */\n      additionalAssets: new AsyncSeriesHook([]),\n      /** @type {AsyncSeriesHook<Chunk[]>} */\n      optimizeChunkAssets: new AsyncSeriesHook([\"chunks\"]),\n      /** @type {SyncHook<Chunk[]>} */\n      afterOptimizeChunkAssets: new SyncHook([\"chunks\"]),\n      /** @type {AsyncSeriesHook<CompilationAssets>} */\n      optimizeAssets: new AsyncSeriesHook([\"assets\"]),\n      /** @type {SyncHook<CompilationAssets>} */\n      afterOptimizeAssets: new SyncHook([\"assets\"]),\n      /** @type {SyncBailHook} */\n      needAdditionalSeal: new SyncBailHook([]),\n      /** @type {AsyncSeriesHook} */\n      afterSeal: new AsyncSeriesHook([]),\n      /** @type {SyncHook<Chunk, Hash>} */\n      chunkHash: new SyncHook([\"chunk\", \"chunkHash\"]),\n      /** @type {SyncHook<Module, string>} */\n      moduleAsset: new SyncHook([\"module\", \"filename\"]),\n      /** @type {SyncHook<Chunk, string>} */\n      chunkAsset: new SyncHook([\"chunk\", \"filename\"]),\n      /** @type {SyncWaterfallHook<string, TODO>} */\n      assetPath: new SyncWaterfallHook([\"filename\", \"data\"]),\n      // TODO MainTemplate\n\n      /** @type {SyncBailHook} */\n      needAdditionalPass: new SyncBailHook([]),\n      /** @type {SyncHook<Compiler, string, number>} */\n      childCompiler: new SyncHook([\"childCompiler\", \"compilerName\", \"compilerIndex\"]),\n      /** @type {SyncBailHook<string, LogEntry>} */\n      log: new SyncBailHook([\"origin\", \"logEntry\"]),\n      // TODO the following hooks are weirdly located here\n      // TODO move them for webpack 5\n      /** @type {SyncHook<object, Module>} */\n      normalModuleLoader: new SyncHook([\"loaderContext\", \"module\"]),\n      /** @type {SyncBailHook<Chunk[]>} */\n      optimizeExtractedChunksBasic: new SyncBailHook([\"chunks\"]),\n      /** @type {SyncBailHook<Chunk[]>} */\n      optimizeExtractedChunks: new SyncBailHook([\"chunks\"]),\n      /** @type {SyncBailHook<Chunk[]>} */\n      optimizeExtractedChunksAdvanced: new SyncBailHook([\"chunks\"]),\n      /** @type {SyncHook<Chunk[]>} */\n      afterOptimizeExtractedChunks: new SyncHook([\"chunks\"])\n    };\n    _this._pluginCompat.tap(\"Compilation\", function (options) {\n      switch (options.name) {\n        case \"optimize-tree\":\n        case \"additional-assets\":\n        case \"optimize-chunk-assets\":\n        case \"optimize-assets\":\n        case \"after-seal\":\n          options.async = true;\n          break;\n      }\n    });\n    /** @type {string=} */\n    _this.name = undefined;\n    /** @type {Compiler} */\n    _this.compiler = compiler;\n    _this.resolverFactory = compiler.resolverFactory;\n    _this.inputFileSystem = compiler.inputFileSystem;\n    _this.requestShortener = compiler.requestShortener;\n    var options = compiler.options;\n    _this.options = options;\n    _this.outputOptions = options && options.output;\n    /** @type {boolean=} */\n    _this.bail = options && options.bail;\n    _this.profile = options && options.profile;\n    _this.performance = options && options.performance;\n    _this.mainTemplate = new MainTemplate(_this.outputOptions);\n    _this.chunkTemplate = new ChunkTemplate(_this.outputOptions);\n    _this.hotUpdateChunkTemplate = new HotUpdateChunkTemplate(_this.outputOptions);\n    _this.runtimeTemplate = new RuntimeTemplate(_this.outputOptions, _this.requestShortener);\n    _this.moduleTemplates = {\n      javascript: new ModuleTemplate(_this.runtimeTemplate, \"javascript\"),\n      webassembly: new ModuleTemplate(_this.runtimeTemplate, \"webassembly\")\n    };\n    _this.semaphore = new Semaphore(options.parallelism || 100);\n    _this.entries = [];\n    /** @private @type {{name: string, request: string, module: Module}[]} */\n    _this._preparedEntrypoints = [];\n    /** @type {Map<string, Entrypoint>} */\n    _this.entrypoints = new Map();\n    /** @type {Chunk[]} */\n    _this.chunks = [];\n    /** @type {ChunkGroup[]} */\n    _this.chunkGroups = [];\n    /** @type {Map<string, ChunkGroup>} */\n    _this.namedChunkGroups = new Map();\n    /** @type {Map<string, Chunk>} */\n    _this.namedChunks = new Map();\n    /** @type {Module[]} */\n    _this.modules = [];\n    /** @private @type {Map<string, Module>} */\n    _this._modules = new Map();\n    _this.cache = null;\n    _this.records = null;\n    /** @type {string[]} */\n    _this.additionalChunkAssets = [];\n    /** @type {CompilationAssets} */\n    _this.assets = {};\n    /** @type {Map<string, AssetInfo>} */\n    _this.assetsInfo = new Map();\n    /** @type {WebpackError[]} */\n    _this.errors = [];\n    /** @type {WebpackError[]} */\n    _this.warnings = [];\n    /** @type {Compilation[]} */\n    _this.children = [];\n    /** @type {Map<string, LogEntry[]>} */\n    _this.logging = new Map();\n    /** @type {Map<DepConstructor, ModuleFactory>} */\n    _this.dependencyFactories = new Map();\n    /** @type {Map<DepConstructor, DependencyTemplate>} */\n    _this.dependencyTemplates = new Map();\n    // TODO refactor this in webpack 5 to a custom DependencyTemplates class with a hash property\n    // @ts-ignore\n    _this.dependencyTemplates.set(\"hash\", \"\");\n    _this.childrenCounters = {};\n    /** @type {Set<number|string>} */\n    _this.usedChunkIds = null;\n    /** @type {Set<number>} */\n    _this.usedModuleIds = null;\n    /** @type {Map<string, number>=} */\n    _this.fileTimestamps = undefined;\n    /** @type {Map<string, number>=} */\n    _this.contextTimestamps = undefined;\n    /** @type {Set<string>=} */\n    _this.compilationDependencies = undefined;\n    /** @private @type {Map<Module, Callback[]>} */\n    _this._buildingModules = new Map();\n    /** @private @type {Map<Module, Callback[]>} */\n    _this._rebuildingModules = new Map();\n    /** @type {Set<string>} */\n    _this.emittedAssets = new Set();\n    return _this;\n  }\n  _createClass(Compilation, [{\n    key: \"getStats\",\n    value: function getStats() {\n      return new Stats(this);\n    }\n\n    /**\n     * @param {string | (function(): string)} name name of the logger, or function called once to get the logger name\n     * @returns {Logger} a logger with that name\n     */\n  }, {\n    key: \"getLogger\",\n    value: function getLogger(name) {\n      var _this2 = this;\n      if (!name) {\n        throw new TypeError(\"Compilation.getLogger(name) called without a name\");\n      }\n      /** @type {LogEntry[] | undefined} */\n      var logEntries;\n      return new Logger(function (type, args) {\n        if (typeof name === \"function\") {\n          name = name();\n          if (!name) {\n            throw new TypeError(\"Compilation.getLogger(name) called with a function not returning a name\");\n          }\n        }\n        var trace;\n        switch (type) {\n          case LogType.warn:\n          case LogType.error:\n          case LogType.trace:\n            trace = ErrorHelpers.cutOffLoaderExecution(new Error(\"Trace\").stack).split(\"\\n\").slice(3);\n            break;\n        }\n        /** @type {LogEntry} */\n        var logEntry = {\n          time: Date.now(),\n          type: type,\n          args: args,\n          trace: trace\n        };\n        if (_this2.hooks.log.call(name, logEntry) === undefined) {\n          if (logEntry.type === LogType.profileEnd) {\n            // eslint-disable-next-line node/no-unsupported-features/node-builtins\n            if (typeof console.profileEnd === \"function\") {\n              // eslint-disable-next-line node/no-unsupported-features/node-builtins\n              console.profileEnd(\"[\".concat(name, \"] \").concat(logEntry.args[0]));\n            }\n          }\n          if (logEntries === undefined) {\n            logEntries = _this2.logging.get(name);\n            if (logEntries === undefined) {\n              logEntries = [];\n              _this2.logging.set(name, logEntries);\n            }\n          }\n          logEntries.push(logEntry);\n          if (logEntry.type === LogType.profile) {\n            // eslint-disable-next-line node/no-unsupported-features/node-builtins\n            if (typeof console.profile === \"function\") {\n              // eslint-disable-next-line node/no-unsupported-features/node-builtins\n              console.profile(\"[\".concat(name, \"] \").concat(logEntry.args[0]));\n            }\n          }\n        }\n      });\n    }\n\n    /**\n     * @typedef {Object} AddModuleResult\n     * @property {Module} module the added or existing module\n     * @property {boolean} issuer was this the first request for this module\n     * @property {boolean} build should the module be build\n     * @property {boolean} dependencies should dependencies be walked\n     */\n\n    /**\n     * @param {Module} module module to be added that was created\n     * @param {any=} cacheGroup cacheGroup it is apart of\n     * @returns {AddModuleResult} returns meta about whether or not the module had built\n     * had an issuer, or any dependnecies\n     */\n  }, {\n    key: \"addModule\",\n    value: function addModule(module, cacheGroup) {\n      var identifier = module.identifier();\n      var alreadyAddedModule = this._modules.get(identifier);\n      if (alreadyAddedModule) {\n        return {\n          module: alreadyAddedModule,\n          issuer: false,\n          build: false,\n          dependencies: false\n        };\n      }\n      var cacheName = (cacheGroup || \"m\") + identifier;\n      if (this.cache && this.cache[cacheName]) {\n        var cacheModule = this.cache[cacheName];\n        if (typeof cacheModule.updateCacheModule === \"function\") {\n          cacheModule.updateCacheModule(module);\n        }\n        var rebuild = true;\n        if (this.fileTimestamps && this.contextTimestamps) {\n          rebuild = cacheModule.needRebuild(this.fileTimestamps, this.contextTimestamps);\n        }\n        if (!rebuild) {\n          cacheModule.disconnect();\n          this._modules.set(identifier, cacheModule);\n          this.modules.push(cacheModule);\n          var _iterator2 = _createForOfIteratorHelper(cacheModule.errors),\n            _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var err = _step2.value;\n              this.errors.push(err);\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n          var _iterator3 = _createForOfIteratorHelper(cacheModule.warnings),\n            _step3;\n          try {\n            for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n              var _err = _step3.value;\n              this.warnings.push(_err);\n            }\n          } catch (err) {\n            _iterator3.e(err);\n          } finally {\n            _iterator3.f();\n          }\n          return {\n            module: cacheModule,\n            issuer: true,\n            build: false,\n            dependencies: true\n          };\n        }\n        cacheModule.unbuild();\n        module = cacheModule;\n      }\n      this._modules.set(identifier, module);\n      if (this.cache) {\n        this.cache[cacheName] = module;\n      }\n      this.modules.push(module);\n      return {\n        module: module,\n        issuer: true,\n        build: true,\n        dependencies: true\n      };\n    }\n\n    /**\n     * Fetches a module from a compilation by its identifier\n     * @param {Module} module the module provided\n     * @returns {Module} the module requested\n     */\n  }, {\n    key: \"getModule\",\n    value: function getModule(module) {\n      var identifier = module.identifier();\n      return this._modules.get(identifier);\n    }\n\n    /**\n     * Attempts to search for a module by its identifier\n     * @param {string} identifier identifier (usually path) for module\n     * @returns {Module|undefined} attempt to search for module and return it, else undefined\n     */\n  }, {\n    key: \"findModule\",\n    value: function findModule(identifier) {\n      return this._modules.get(identifier);\n    }\n\n    /**\n     * @param {Module} module module with its callback list\n     * @param {Callback} callback the callback function\n     * @returns {void}\n     */\n  }, {\n    key: \"waitForBuildingFinished\",\n    value: function waitForBuildingFinished(module, callback) {\n      var callbackList = this._buildingModules.get(module);\n      if (callbackList) {\n        callbackList.push(function () {\n          return callback();\n        });\n      } else {\n        process.nextTick(callback);\n      }\n    }\n\n    /**\n     * Builds the module object\n     *\n     * @param {Module} module module to be built\n     * @param {boolean} optional optional flag\n     * @param {Module=} origin origin module this module build was requested from\n     * @param {Dependency[]=} dependencies optional dependencies from the module to be built\n     * @param {TODO} thisCallback the callback\n     * @returns {TODO} returns the callback function with results\n     */\n  }, {\n    key: \"buildModule\",\n    value: function buildModule(module, optional, origin, dependencies, thisCallback) {\n      var _this3 = this;\n      var callbackList = this._buildingModules.get(module);\n      if (callbackList) {\n        callbackList.push(thisCallback);\n        return;\n      }\n      this._buildingModules.set(module, callbackList = [thisCallback]);\n      var callback = function callback(err) {\n        _this3._buildingModules.delete(module);\n        var _iterator4 = _createForOfIteratorHelper(callbackList),\n          _step4;\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var cb = _step4.value;\n            cb(err);\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n      };\n      this.hooks.buildModule.call(module);\n      module.build(this.options, this, this.resolverFactory.get(\"normal\", module.resolveOptions), this.inputFileSystem, function (error) {\n        var errors = module.errors;\n        for (var indexError = 0; indexError < errors.length; indexError++) {\n          var err = errors[indexError];\n          err.origin = origin;\n          err.dependencies = dependencies;\n          if (optional) {\n            _this3.warnings.push(err);\n          } else {\n            _this3.errors.push(err);\n          }\n        }\n        var warnings = module.warnings;\n        for (var indexWarning = 0; indexWarning < warnings.length; indexWarning++) {\n          var war = warnings[indexWarning];\n          war.origin = origin;\n          war.dependencies = dependencies;\n          _this3.warnings.push(war);\n        }\n        var originalMap = module.dependencies.reduce(function (map, v, i) {\n          map.set(v, i);\n          return map;\n        }, new Map());\n        module.dependencies.sort(function (a, b) {\n          var cmp = compareLocations(a.loc, b.loc);\n          if (cmp) return cmp;\n          return originalMap.get(a) - originalMap.get(b);\n        });\n        if (error) {\n          _this3.hooks.failedModule.call(module, error);\n          return callback(error);\n        }\n        _this3.hooks.succeedModule.call(module);\n        return callback();\n      });\n    }\n\n    /**\n     * @param {Module} module to be processed for deps\n     * @param {ModuleCallback} callback callback to be triggered\n     * @returns {void}\n     */\n  }, {\n    key: \"processModuleDependencies\",\n    value: function processModuleDependencies(module, callback) {\n      var _this4 = this;\n      var dependencies = new Map();\n      var addDependency = function addDependency(dep) {\n        var resourceIdent = dep.getResourceIdentifier();\n        if (resourceIdent) {\n          var factory = _this4.dependencyFactories.get(dep.constructor);\n          if (factory === undefined) {\n            throw new Error(\"No module factory available for dependency type: \".concat(dep.constructor.name));\n          }\n          var innerMap = dependencies.get(factory);\n          if (innerMap === undefined) {\n            dependencies.set(factory, innerMap = new Map());\n          }\n          var list = innerMap.get(resourceIdent);\n          if (list === undefined) innerMap.set(resourceIdent, list = []);\n          list.push(dep);\n        }\n      };\n      var addDependenciesBlock = function addDependenciesBlock(block) {\n        if (block.dependencies) {\n          iterationOfArrayCallback(block.dependencies, addDependency);\n        }\n        if (block.blocks) {\n          iterationOfArrayCallback(block.blocks, addDependenciesBlock);\n        }\n        if (block.variables) {\n          iterationBlockVariable(block.variables, addDependency);\n        }\n      };\n      try {\n        addDependenciesBlock(module);\n      } catch (e) {\n        callback(e);\n      }\n      var sortedDependencies = [];\n      var _iterator5 = _createForOfIteratorHelper(dependencies),\n        _step5;\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var pair1 = _step5.value;\n          var _iterator6 = _createForOfIteratorHelper(pair1[1]),\n            _step6;\n          try {\n            for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n              var pair2 = _step6.value;\n              sortedDependencies.push({\n                factory: pair1[0],\n                dependencies: pair2[1]\n              });\n            }\n          } catch (err) {\n            _iterator6.e(err);\n          } finally {\n            _iterator6.f();\n          }\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n      this.addModuleDependencies(module, sortedDependencies, this.bail, null, true, callback);\n    }\n\n    /**\n     * @param {Module} module module to add deps to\n     * @param {SortedDependency[]} dependencies set of sorted dependencies to iterate through\n     * @param {(boolean|null)=} bail whether to bail or not\n     * @param {TODO} cacheGroup optional cacheGroup\n     * @param {boolean} recursive whether it is recursive traversal\n     * @param {function} callback callback for when dependencies are finished being added\n     * @returns {void}\n     */\n  }, {\n    key: \"addModuleDependencies\",\n    value: function addModuleDependencies(module, dependencies, bail, cacheGroup, recursive, callback) {\n      var _this5 = this;\n      var start = this.profile && Date.now();\n      var currentProfile = this.profile && {};\n      asyncLib.forEach(dependencies, function (item, callback) {\n        var dependencies = item.dependencies;\n        var errorAndCallback = function errorAndCallback(err) {\n          err.origin = module;\n          err.dependencies = dependencies;\n          _this5.errors.push(err);\n          if (bail) {\n            callback(err);\n          } else {\n            callback();\n          }\n        };\n        var warningAndCallback = function warningAndCallback(err) {\n          err.origin = module;\n          _this5.warnings.push(err);\n          callback();\n        };\n        var semaphore = _this5.semaphore;\n        semaphore.acquire(function () {\n          var factory = item.factory;\n          factory.create({\n            contextInfo: {\n              issuer: module.nameForCondition && module.nameForCondition(),\n              compiler: _this5.compiler.name\n            },\n            resolveOptions: module.resolveOptions,\n            context: module.context,\n            dependencies: dependencies\n          }, function (err, dependentModule) {\n            var afterFactory;\n            var isOptional = function isOptional() {\n              return dependencies.every(function (d) {\n                return d.optional;\n              });\n            };\n            var errorOrWarningAndCallback = function errorOrWarningAndCallback(err) {\n              if (isOptional()) {\n                return warningAndCallback(err);\n              } else {\n                return errorAndCallback(err);\n              }\n            };\n            if (err) {\n              semaphore.release();\n              return errorOrWarningAndCallback(new ModuleNotFoundError(module, err));\n            }\n            if (!dependentModule) {\n              semaphore.release();\n              return process.nextTick(callback);\n            }\n            if (currentProfile) {\n              afterFactory = Date.now();\n              currentProfile.factory = afterFactory - start;\n            }\n            var iterationDependencies = function iterationDependencies(depend) {\n              for (var index = 0; index < depend.length; index++) {\n                var dep = depend[index];\n                dep.module = dependentModule;\n                dependentModule.addReason(module, dep);\n              }\n            };\n            var addModuleResult = _this5.addModule(dependentModule, cacheGroup);\n            dependentModule = addModuleResult.module;\n            iterationDependencies(dependencies);\n            var afterBuild = function afterBuild() {\n              if (recursive && addModuleResult.dependencies) {\n                _this5.processModuleDependencies(dependentModule, callback);\n              } else {\n                return callback();\n              }\n            };\n            if (addModuleResult.issuer) {\n              if (currentProfile) {\n                dependentModule.profile = currentProfile;\n              }\n              dependentModule.issuer = module;\n            } else {\n              if (_this5.profile) {\n                if (module.profile) {\n                  var time = Date.now() - start;\n                  if (!module.profile.dependencies || time > module.profile.dependencies) {\n                    module.profile.dependencies = time;\n                  }\n                }\n              }\n            }\n            if (addModuleResult.build) {\n              _this5.buildModule(dependentModule, isOptional(), module, dependencies, function (err) {\n                if (err) {\n                  semaphore.release();\n                  return errorOrWarningAndCallback(err);\n                }\n                if (currentProfile) {\n                  var afterBuilding = Date.now();\n                  currentProfile.building = afterBuilding - afterFactory;\n                }\n                semaphore.release();\n                afterBuild();\n              });\n            } else {\n              semaphore.release();\n              _this5.waitForBuildingFinished(dependentModule, afterBuild);\n            }\n          });\n        });\n      }, function (err) {\n        // In V8, the Error objects keep a reference to the functions on the stack. These warnings &\n        // errors are created inside closures that keep a reference to the Compilation, so errors are\n        // leaking the Compilation object.\n\n        if (err) {\n          // eslint-disable-next-line no-self-assign\n          err.stack = err.stack;\n          return callback(err);\n        }\n        return process.nextTick(callback);\n      });\n    }\n\n    /**\n     *\n     * @param {string} context context string path\n     * @param {Dependency} dependency dependency used to create Module chain\n     * @param {OnModuleCallback} onModule function invoked on modules creation\n     * @param {ModuleChainCallback} callback callback for when module chain is complete\n     * @returns {void} will throw if dependency instance is not a valid Dependency\n     */\n  }, {\n    key: \"_addModuleChain\",\n    value: function _addModuleChain(context, dependency, onModule, callback) {\n      var _this6 = this;\n      var start = this.profile && Date.now();\n      var currentProfile = this.profile && {};\n      var errorAndCallback = this.bail ? function (err) {\n        callback(err);\n      } : function (err) {\n        err.dependencies = [dependency];\n        _this6.errors.push(err);\n        callback();\n      };\n      if (typeof dependency !== \"object\" || dependency === null || !dependency.constructor) {\n        throw new Error(\"Parameter 'dependency' must be a Dependency\");\n      }\n      var Dep = /** @type {DepConstructor} */dependency.constructor;\n      var moduleFactory = this.dependencyFactories.get(Dep);\n      if (!moduleFactory) {\n        throw new Error(\"No dependency factory available for this dependency type: \".concat(dependency.constructor.name));\n      }\n      this.semaphore.acquire(function () {\n        moduleFactory.create({\n          contextInfo: {\n            issuer: \"\",\n            compiler: _this6.compiler.name\n          },\n          context: context,\n          dependencies: [dependency]\n        }, function (err, module) {\n          if (err) {\n            _this6.semaphore.release();\n            return errorAndCallback(new EntryModuleNotFoundError(err));\n          }\n          var afterFactory;\n          if (currentProfile) {\n            afterFactory = Date.now();\n            currentProfile.factory = afterFactory - start;\n          }\n          var addModuleResult = _this6.addModule(module);\n          module = addModuleResult.module;\n          onModule(module);\n          dependency.module = module;\n          module.addReason(null, dependency);\n          var afterBuild = function afterBuild() {\n            if (addModuleResult.dependencies) {\n              _this6.processModuleDependencies(module, function (err) {\n                if (err) return callback(err);\n                callback(null, module);\n              });\n            } else {\n              return callback(null, module);\n            }\n          };\n          if (addModuleResult.issuer) {\n            if (currentProfile) {\n              module.profile = currentProfile;\n            }\n          }\n          if (addModuleResult.build) {\n            _this6.buildModule(module, false, null, null, function (err) {\n              if (err) {\n                _this6.semaphore.release();\n                return errorAndCallback(err);\n              }\n              if (currentProfile) {\n                var afterBuilding = Date.now();\n                currentProfile.building = afterBuilding - afterFactory;\n              }\n              _this6.semaphore.release();\n              afterBuild();\n            });\n          } else {\n            _this6.semaphore.release();\n            _this6.waitForBuildingFinished(module, afterBuild);\n          }\n        });\n      });\n    }\n\n    /**\n     *\n     * @param {string} context context path for entry\n     * @param {Dependency} entry entry dependency being created\n     * @param {string} name name of entry\n     * @param {ModuleCallback} callback callback function\n     * @returns {void} returns\n     */\n  }, {\n    key: \"addEntry\",\n    value: function addEntry(context, entry, name, callback) {\n      var _this7 = this;\n      this.hooks.addEntry.call(entry, name);\n      var slot = {\n        name: name,\n        // TODO webpack 5 remove `request`\n        request: null,\n        module: null\n      };\n      if (entry instanceof ModuleDependency) {\n        slot.request = entry.request;\n      }\n\n      // TODO webpack 5: merge modules instead when multiple entry modules are supported\n      var idx = this._preparedEntrypoints.findIndex(function (slot) {\n        return slot.name === name;\n      });\n      if (idx >= 0) {\n        // Overwrite existing entrypoint\n        this._preparedEntrypoints[idx] = slot;\n      } else {\n        this._preparedEntrypoints.push(slot);\n      }\n      this._addModuleChain(context, entry, function (module) {\n        _this7.entries.push(module);\n      }, function (err, module) {\n        if (err) {\n          _this7.hooks.failedEntry.call(entry, name, err);\n          return callback(err);\n        }\n        if (module) {\n          slot.module = module;\n        } else {\n          var _idx = _this7._preparedEntrypoints.indexOf(slot);\n          if (_idx >= 0) {\n            _this7._preparedEntrypoints.splice(_idx, 1);\n          }\n        }\n        _this7.hooks.succeedEntry.call(entry, name, module);\n        return callback(null, module);\n      });\n    }\n\n    /**\n     * @param {string} context context path string\n     * @param {Dependency} dependency dep used to create module\n     * @param {ModuleCallback} callback module callback sending module up a level\n     * @returns {void}\n     */\n  }, {\n    key: \"prefetch\",\n    value: function prefetch(context, dependency, callback) {\n      this._addModuleChain(context, dependency, function (module) {\n        module.prefetched = true;\n      }, callback);\n    }\n\n    /**\n     * @param {Module} module module to be rebuilt\n     * @param {Callback} thisCallback callback when module finishes rebuilding\n     * @returns {void}\n     */\n  }, {\n    key: \"rebuildModule\",\n    value: function rebuildModule(module, thisCallback) {\n      var _this8 = this;\n      var callbackList = this._rebuildingModules.get(module);\n      if (callbackList) {\n        callbackList.push(thisCallback);\n        return;\n      }\n      this._rebuildingModules.set(module, callbackList = [thisCallback]);\n      var callback = function callback(err) {\n        _this8._rebuildingModules.delete(module);\n        var _iterator7 = _createForOfIteratorHelper(callbackList),\n          _step7;\n        try {\n          for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n            var cb = _step7.value;\n            cb(err);\n          }\n        } catch (err) {\n          _iterator7.e(err);\n        } finally {\n          _iterator7.f();\n        }\n      };\n      this.hooks.rebuildModule.call(module);\n      var oldDependencies = module.dependencies.slice();\n      var oldVariables = module.variables.slice();\n      var oldBlocks = module.blocks.slice();\n      module.unbuild();\n      this.buildModule(module, false, module, null, function (err) {\n        if (err) {\n          _this8.hooks.finishRebuildingModule.call(module);\n          return callback(err);\n        }\n        _this8.processModuleDependencies(module, function (err) {\n          if (err) return callback(err);\n          _this8.removeReasonsOfDependencyBlock(module, {\n            dependencies: oldDependencies,\n            variables: oldVariables,\n            blocks: oldBlocks\n          });\n          _this8.hooks.finishRebuildingModule.call(module);\n          callback();\n        });\n      });\n    }\n  }, {\n    key: \"finish\",\n    value: function finish(callback) {\n      var _this9 = this;\n      var modules = this.modules;\n      this.hooks.finishModules.callAsync(modules, function (err) {\n        if (err) return callback(err);\n        for (var index = 0; index < modules.length; index++) {\n          var _module = modules[index];\n          _this9.reportDependencyErrorsAndWarnings(_module, [_module]);\n        }\n        callback();\n      });\n    }\n  }, {\n    key: \"unseal\",\n    value: function unseal() {\n      this.hooks.unseal.call();\n      this.chunks.length = 0;\n      this.chunkGroups.length = 0;\n      this.namedChunks.clear();\n      this.namedChunkGroups.clear();\n      this.additionalChunkAssets.length = 0;\n      this.assets = {};\n      this.assetsInfo.clear();\n      var _iterator8 = _createForOfIteratorHelper(this.modules),\n        _step8;\n      try {\n        for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n          var _module2 = _step8.value;\n          _module2.unseal();\n        }\n      } catch (err) {\n        _iterator8.e(err);\n      } finally {\n        _iterator8.f();\n      }\n    }\n\n    /**\n     * @param {Callback} callback signals when the seal method is finishes\n     * @returns {void}\n     */\n  }, {\n    key: \"seal\",\n    value: function seal(callback) {\n      var _this10 = this;\n      this.hooks.seal.call();\n      while (this.hooks.optimizeDependenciesBasic.call(this.modules) || this.hooks.optimizeDependencies.call(this.modules) || this.hooks.optimizeDependenciesAdvanced.call(this.modules)) {\n        /* empty */\n      }\n      this.hooks.afterOptimizeDependencies.call(this.modules);\n      this.hooks.beforeChunks.call();\n      var _iterator9 = _createForOfIteratorHelper(this._preparedEntrypoints),\n        _step9;\n      try {\n        for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n          var preparedEntrypoint = _step9.value;\n          var _module3 = preparedEntrypoint.module;\n          var name = preparedEntrypoint.name;\n          var chunk = this.addChunk(name);\n          var entrypoint = new Entrypoint(name);\n          entrypoint.setRuntimeChunk(chunk);\n          entrypoint.addOrigin(null, name, preparedEntrypoint.request);\n          this.namedChunkGroups.set(name, entrypoint);\n          this.entrypoints.set(name, entrypoint);\n          this.chunkGroups.push(entrypoint);\n          GraphHelpers.connectChunkGroupAndChunk(entrypoint, chunk);\n          GraphHelpers.connectChunkAndModule(chunk, _module3);\n          chunk.entryModule = _module3;\n          chunk.name = name;\n          this.assignDepth(_module3);\n        }\n      } catch (err) {\n        _iterator9.e(err);\n      } finally {\n        _iterator9.f();\n      }\n      buildChunkGraph(this, /** @type {Entrypoint[]} */this.chunkGroups.slice());\n      this.sortModules(this.modules);\n      this.hooks.afterChunks.call(this.chunks);\n      this.hooks.optimize.call();\n      while (this.hooks.optimizeModulesBasic.call(this.modules) || this.hooks.optimizeModules.call(this.modules) || this.hooks.optimizeModulesAdvanced.call(this.modules)) {\n        /* empty */\n      }\n      this.hooks.afterOptimizeModules.call(this.modules);\n      while (this.hooks.optimizeChunksBasic.call(this.chunks, this.chunkGroups) || this.hooks.optimizeChunks.call(this.chunks, this.chunkGroups) || this.hooks.optimizeChunksAdvanced.call(this.chunks, this.chunkGroups)) {\n        /* empty */\n      }\n      this.hooks.afterOptimizeChunks.call(this.chunks, this.chunkGroups);\n      this.hooks.optimizeTree.callAsync(this.chunks, this.modules, function (err) {\n        if (err) {\n          return callback(err);\n        }\n        _this10.hooks.afterOptimizeTree.call(_this10.chunks, _this10.modules);\n        while (_this10.hooks.optimizeChunkModulesBasic.call(_this10.chunks, _this10.modules) || _this10.hooks.optimizeChunkModules.call(_this10.chunks, _this10.modules) || _this10.hooks.optimizeChunkModulesAdvanced.call(_this10.chunks, _this10.modules)) {\n          /* empty */\n        }\n        _this10.hooks.afterOptimizeChunkModules.call(_this10.chunks, _this10.modules);\n        var shouldRecord = _this10.hooks.shouldRecord.call() !== false;\n        _this10.hooks.reviveModules.call(_this10.modules, _this10.records);\n        _this10.hooks.optimizeModuleOrder.call(_this10.modules);\n        _this10.hooks.advancedOptimizeModuleOrder.call(_this10.modules);\n        _this10.hooks.beforeModuleIds.call(_this10.modules);\n        _this10.hooks.moduleIds.call(_this10.modules);\n        _this10.applyModuleIds();\n        _this10.hooks.optimizeModuleIds.call(_this10.modules);\n        _this10.hooks.afterOptimizeModuleIds.call(_this10.modules);\n        _this10.sortItemsWithModuleIds();\n        _this10.hooks.reviveChunks.call(_this10.chunks, _this10.records);\n        _this10.hooks.optimizeChunkOrder.call(_this10.chunks);\n        _this10.hooks.beforeChunkIds.call(_this10.chunks);\n        _this10.applyChunkIds();\n        _this10.hooks.optimizeChunkIds.call(_this10.chunks);\n        _this10.hooks.afterOptimizeChunkIds.call(_this10.chunks);\n        _this10.sortItemsWithChunkIds();\n        if (shouldRecord) {\n          _this10.hooks.recordModules.call(_this10.modules, _this10.records);\n          _this10.hooks.recordChunks.call(_this10.chunks, _this10.records);\n        }\n        _this10.hooks.beforeHash.call();\n        _this10.createHash();\n        _this10.hooks.afterHash.call();\n        if (shouldRecord) {\n          _this10.hooks.recordHash.call(_this10.records);\n        }\n        _this10.hooks.beforeModuleAssets.call();\n        _this10.createModuleAssets();\n        if (_this10.hooks.shouldGenerateChunkAssets.call() !== false) {\n          _this10.hooks.beforeChunkAssets.call();\n          _this10.createChunkAssets();\n        }\n        _this10.hooks.additionalChunkAssets.call(_this10.chunks);\n        _this10.summarizeDependencies();\n        if (shouldRecord) {\n          _this10.hooks.record.call(_this10, _this10.records);\n        }\n        _this10.hooks.additionalAssets.callAsync(function (err) {\n          if (err) {\n            return callback(err);\n          }\n          _this10.hooks.optimizeChunkAssets.callAsync(_this10.chunks, function (err) {\n            if (err) {\n              return callback(err);\n            }\n            _this10.hooks.afterOptimizeChunkAssets.call(_this10.chunks);\n            _this10.hooks.optimizeAssets.callAsync(_this10.assets, function (err) {\n              if (err) {\n                return callback(err);\n              }\n              _this10.hooks.afterOptimizeAssets.call(_this10.assets);\n              if (_this10.hooks.needAdditionalSeal.call()) {\n                _this10.unseal();\n                return _this10.seal(callback);\n              }\n              return _this10.hooks.afterSeal.callAsync(callback);\n            });\n          });\n        });\n      });\n    }\n\n    /**\n     * @param {Module[]} modules the modules array on compilation to perform the sort for\n     * @returns {void}\n     */\n  }, {\n    key: \"sortModules\",\n    value: function sortModules(modules) {\n      // TODO webpack 5: this should only be enabled when `moduleIds: \"natural\"`\n      // TODO move it into a plugin (NaturalModuleIdsPlugin) and use this in WebpackOptionsApply\n      // TODO remove this method\n      modules.sort(byIndexOrIdentifier);\n    }\n\n    /**\n     * @param {Module} module moulde to report from\n     * @param {DependenciesBlock[]} blocks blocks to report from\n     * @returns {void}\n     */\n  }, {\n    key: \"reportDependencyErrorsAndWarnings\",\n    value: function reportDependencyErrorsAndWarnings(module, blocks) {\n      for (var indexBlock = 0; indexBlock < blocks.length; indexBlock++) {\n        var block = blocks[indexBlock];\n        var dependencies = block.dependencies;\n        for (var indexDep = 0; indexDep < dependencies.length; indexDep++) {\n          var d = dependencies[indexDep];\n          var warnings = d.getWarnings();\n          if (warnings) {\n            for (var indexWar = 0; indexWar < warnings.length; indexWar++) {\n              var w = warnings[indexWar];\n              var warning = new ModuleDependencyWarning(module, w, d.loc);\n              this.warnings.push(warning);\n            }\n          }\n          var errors = d.getErrors();\n          if (errors) {\n            for (var indexErr = 0; indexErr < errors.length; indexErr++) {\n              var e = errors[indexErr];\n              var error = new ModuleDependencyError(module, e, d.loc);\n              this.errors.push(error);\n            }\n          }\n        }\n        this.reportDependencyErrorsAndWarnings(module, block.blocks);\n      }\n    }\n\n    /**\n     * @param {TODO} groupOptions options for the chunk group\n     * @param {Module} module the module the references the chunk group\n     * @param {DependencyLocation} loc the location from with the chunk group is referenced (inside of module)\n     * @param {string} request the request from which the the chunk group is referenced\n     * @returns {ChunkGroup} the new or existing chunk group\n     */\n  }, {\n    key: \"addChunkInGroup\",\n    value: function addChunkInGroup(groupOptions, module, loc, request) {\n      if (typeof groupOptions === \"string\") {\n        groupOptions = {\n          name: groupOptions\n        };\n      }\n      var name = groupOptions.name;\n      if (name) {\n        var _chunkGroup = this.namedChunkGroups.get(name);\n        if (_chunkGroup !== undefined) {\n          _chunkGroup.addOptions(groupOptions);\n          if (module) {\n            _chunkGroup.addOrigin(module, loc, request);\n          }\n          return _chunkGroup;\n        }\n      }\n      var chunkGroup = new ChunkGroup(groupOptions);\n      if (module) chunkGroup.addOrigin(module, loc, request);\n      var chunk = this.addChunk(name);\n      GraphHelpers.connectChunkGroupAndChunk(chunkGroup, chunk);\n      this.chunkGroups.push(chunkGroup);\n      if (name) {\n        this.namedChunkGroups.set(name, chunkGroup);\n      }\n      return chunkGroup;\n    }\n\n    /**\n     * This method first looks to see if a name is provided for a new chunk,\n     * and first looks to see if any named chunks already exist and reuse that chunk instead.\n     *\n     * @param {string=} name optional chunk name to be provided\n     * @returns {Chunk} create a chunk (invoked during seal event)\n     */\n  }, {\n    key: \"addChunk\",\n    value: function addChunk(name) {\n      if (name) {\n        var _chunk = this.namedChunks.get(name);\n        if (_chunk !== undefined) {\n          return _chunk;\n        }\n      }\n      var chunk = new Chunk(name);\n      this.chunks.push(chunk);\n      if (name) {\n        this.namedChunks.set(name, chunk);\n      }\n      return chunk;\n    }\n\n    /**\n     * @param {Module} module module to assign depth\n     * @returns {void}\n     */\n  }, {\n    key: \"assignDepth\",\n    value: function assignDepth(module) {\n      var queue = new Set([module]);\n      var depth;\n      module.depth = 0;\n\n      /**\n       * @param {Module} module module for processeing\n       * @returns {void}\n       */\n      var enqueueJob = function enqueueJob(module) {\n        var d = module.depth;\n        if (typeof d === \"number\" && d <= depth) return;\n        queue.add(module);\n        module.depth = depth;\n      };\n\n      /**\n       * @param {Dependency} dependency dependency to assign depth to\n       * @returns {void}\n       */\n      var assignDepthToDependency = function assignDepthToDependency(dependency) {\n        if (dependency.module) {\n          enqueueJob(dependency.module);\n        }\n      };\n\n      /**\n       * @param {DependenciesBlock} block block to assign depth to\n       * @returns {void}\n       */\n      var assignDepthToDependencyBlock = function assignDepthToDependencyBlock(block) {\n        if (block.variables) {\n          iterationBlockVariable(block.variables, assignDepthToDependency);\n        }\n        if (block.dependencies) {\n          iterationOfArrayCallback(block.dependencies, assignDepthToDependency);\n        }\n        if (block.blocks) {\n          iterationOfArrayCallback(block.blocks, assignDepthToDependencyBlock);\n        }\n      };\n      var _iterator10 = _createForOfIteratorHelper(queue),\n        _step10;\n      try {\n        for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n          module = _step10.value;\n          queue.delete(module);\n          depth = module.depth;\n          depth++;\n          assignDepthToDependencyBlock(module);\n        }\n      } catch (err) {\n        _iterator10.e(err);\n      } finally {\n        _iterator10.f();\n      }\n    }\n\n    /**\n     * @param {Module} module the module containing the dependency\n     * @param {Dependency} dependency the dependency\n     * @returns {DependencyReference} a reference for the dependency\n     */\n  }, {\n    key: \"getDependencyReference\",\n    value: function getDependencyReference(module, dependency) {\n      // TODO remove dep.getReference existence check in webpack 5\n      if (typeof dependency.getReference !== \"function\") return null;\n      var ref = dependency.getReference();\n      if (!ref) return null;\n      return this.hooks.dependencyReference.call(ref, dependency, module);\n    }\n\n    /**\n     *\n     * @param {Module} module module relationship for removal\n     * @param {DependenciesBlockLike} block //TODO: good description\n     * @returns {void}\n     */\n  }, {\n    key: \"removeReasonsOfDependencyBlock\",\n    value: function removeReasonsOfDependencyBlock(module, block) {\n      var _this11 = this;\n      var iteratorDependency = function iteratorDependency(d) {\n        if (!d.module) {\n          return;\n        }\n        if (d.module.removeReason(module, d)) {\n          var _iterator11 = _createForOfIteratorHelper(d.module.chunksIterable),\n            _step11;\n          try {\n            for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n              var chunk = _step11.value;\n              _this11.patchChunksAfterReasonRemoval(d.module, chunk);\n            }\n          } catch (err) {\n            _iterator11.e(err);\n          } finally {\n            _iterator11.f();\n          }\n        }\n      };\n      if (block.blocks) {\n        iterationOfArrayCallback(block.blocks, function (block) {\n          return _this11.removeReasonsOfDependencyBlock(module, block);\n        });\n      }\n      if (block.dependencies) {\n        iterationOfArrayCallback(block.dependencies, iteratorDependency);\n      }\n      if (block.variables) {\n        iterationBlockVariable(block.variables, iteratorDependency);\n      }\n    }\n\n    /**\n     * @param {Module} module module to patch tie\n     * @param {Chunk} chunk chunk to patch tie\n     * @returns {void}\n     */\n  }, {\n    key: \"patchChunksAfterReasonRemoval\",\n    value: function patchChunksAfterReasonRemoval(module, chunk) {\n      if (!module.hasReasons()) {\n        this.removeReasonsOfDependencyBlock(module, module);\n      }\n      if (!module.hasReasonForChunk(chunk)) {\n        if (module.removeChunk(chunk)) {\n          this.removeChunkFromDependencies(module, chunk);\n        }\n      }\n    }\n\n    /**\n     *\n     * @param {DependenciesBlock} block block tie for Chunk\n     * @param {Chunk} chunk chunk to remove from dep\n     * @returns {void}\n     */\n  }, {\n    key: \"removeChunkFromDependencies\",\n    value: function removeChunkFromDependencies(block, chunk) {\n      var _this12 = this;\n      var iteratorDependency = function iteratorDependency(d) {\n        if (!d.module) {\n          return;\n        }\n        _this12.patchChunksAfterReasonRemoval(d.module, chunk);\n      };\n      var blocks = block.blocks;\n      for (var indexBlock = 0; indexBlock < blocks.length; indexBlock++) {\n        var asyncBlock = blocks[indexBlock];\n        // Grab all chunks from the first Block's AsyncDepBlock\n        var chunks = asyncBlock.chunkGroup.chunks;\n        // For each chunk in chunkGroup\n        for (var indexChunk = 0; indexChunk < chunks.length; indexChunk++) {\n          var iteratedChunk = chunks[indexChunk];\n          asyncBlock.chunkGroup.removeChunk(iteratedChunk);\n          asyncBlock.chunkGroup.removeParent(iteratedChunk);\n          // Recurse\n          this.removeChunkFromDependencies(block, iteratedChunk);\n        }\n      }\n      if (block.dependencies) {\n        iterationOfArrayCallback(block.dependencies, iteratorDependency);\n      }\n      if (block.variables) {\n        iterationBlockVariable(block.variables, iteratorDependency);\n      }\n    }\n  }, {\n    key: \"applyModuleIds\",\n    value: function applyModuleIds() {\n      var unusedIds = [];\n      var nextFreeModuleId = 0;\n      var usedIds = new Set();\n      if (this.usedModuleIds) {\n        var _iterator12 = _createForOfIteratorHelper(this.usedModuleIds),\n          _step12;\n        try {\n          for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n            var id = _step12.value;\n            usedIds.add(id);\n          }\n        } catch (err) {\n          _iterator12.e(err);\n        } finally {\n          _iterator12.f();\n        }\n      }\n      var modules1 = this.modules;\n      for (var indexModule1 = 0; indexModule1 < modules1.length; indexModule1++) {\n        var module1 = modules1[indexModule1];\n        if (module1.id !== null) {\n          usedIds.add(module1.id);\n        }\n      }\n      if (usedIds.size > 0) {\n        var usedIdMax = -1;\n        var _iterator13 = _createForOfIteratorHelper(usedIds),\n          _step13;\n        try {\n          for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n            var usedIdKey = _step13.value;\n            if (typeof usedIdKey !== \"number\") {\n              continue;\n            }\n            usedIdMax = Math.max(usedIdMax, usedIdKey);\n          }\n        } catch (err) {\n          _iterator13.e(err);\n        } finally {\n          _iterator13.f();\n        }\n        var lengthFreeModules = nextFreeModuleId = usedIdMax + 1;\n        while (lengthFreeModules--) {\n          if (!usedIds.has(lengthFreeModules)) {\n            unusedIds.push(lengthFreeModules);\n          }\n        }\n      }\n      var modules2 = this.modules;\n      for (var indexModule2 = 0; indexModule2 < modules2.length; indexModule2++) {\n        var module2 = modules2[indexModule2];\n        if (module2.id === null) {\n          if (unusedIds.length > 0) {\n            module2.id = unusedIds.pop();\n          } else {\n            module2.id = nextFreeModuleId++;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"applyChunkIds\",\n    value: function applyChunkIds() {\n      /** @type {Set<number>} */\n      var usedIds = new Set();\n\n      // Get used ids from usedChunkIds property (i. e. from records)\n      if (this.usedChunkIds) {\n        var _iterator14 = _createForOfIteratorHelper(this.usedChunkIds),\n          _step14;\n        try {\n          for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n            var id = _step14.value;\n            if (typeof id !== \"number\") {\n              continue;\n            }\n            usedIds.add(id);\n          }\n        } catch (err) {\n          _iterator14.e(err);\n        } finally {\n          _iterator14.f();\n        }\n      }\n\n      // Get used ids from existing chunks\n      var chunks = this.chunks;\n      for (var indexChunk = 0; indexChunk < chunks.length; indexChunk++) {\n        var chunk = chunks[indexChunk];\n        var usedIdValue = chunk.id;\n        if (typeof usedIdValue !== \"number\") {\n          continue;\n        }\n        usedIds.add(usedIdValue);\n      }\n\n      // Calculate maximum assigned chunk id\n      var nextFreeChunkId = -1;\n      var _iterator15 = _createForOfIteratorHelper(usedIds),\n        _step15;\n      try {\n        for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n          var _id = _step15.value;\n          nextFreeChunkId = Math.max(nextFreeChunkId, _id);\n        }\n      } catch (err) {\n        _iterator15.e(err);\n      } finally {\n        _iterator15.f();\n      }\n      nextFreeChunkId++;\n\n      // Determine free chunk ids from 0 to maximum\n      /** @type {number[]} */\n      var unusedIds = [];\n      if (nextFreeChunkId > 0) {\n        var index = nextFreeChunkId;\n        while (index--) {\n          if (!usedIds.has(index)) {\n            unusedIds.push(index);\n          }\n        }\n      }\n\n      // Assign ids to chunk which has no id\n      for (var _indexChunk = 0; _indexChunk < chunks.length; _indexChunk++) {\n        var _chunk2 = chunks[_indexChunk];\n        if (_chunk2.id === null) {\n          if (unusedIds.length > 0) {\n            _chunk2.id = unusedIds.pop();\n          } else {\n            _chunk2.id = nextFreeChunkId++;\n          }\n        }\n        if (!_chunk2.ids) {\n          _chunk2.ids = [_chunk2.id];\n        }\n      }\n    }\n  }, {\n    key: \"sortItemsWithModuleIds\",\n    value: function sortItemsWithModuleIds() {\n      this.modules.sort(byIdOrIdentifier);\n      var modules = this.modules;\n      for (var indexModule = 0; indexModule < modules.length; indexModule++) {\n        modules[indexModule].sortItems(false);\n      }\n      var chunks = this.chunks;\n      for (var indexChunk = 0; indexChunk < chunks.length; indexChunk++) {\n        chunks[indexChunk].sortItems();\n      }\n      chunks.sort(function (a, b) {\n        return a.compareTo(b);\n      });\n    }\n  }, {\n    key: \"sortItemsWithChunkIds\",\n    value: function sortItemsWithChunkIds() {\n      var _iterator16 = _createForOfIteratorHelper(this.chunkGroups),\n        _step16;\n      try {\n        for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {\n          var chunkGroup = _step16.value;\n          chunkGroup.sortItems();\n        }\n      } catch (err) {\n        _iterator16.e(err);\n      } finally {\n        _iterator16.f();\n      }\n      this.chunks.sort(byId);\n      for (var indexModule = 0; indexModule < this.modules.length; indexModule++) {\n        this.modules[indexModule].sortItems(true);\n      }\n      var chunks = this.chunks;\n      for (var indexChunk = 0; indexChunk < chunks.length; indexChunk++) {\n        chunks[indexChunk].sortItems();\n      }\n\n      /**\n       * Used to sort errors and warnings in compilation. this.warnings, and\n       * this.errors contribute to the compilation hash and therefore should be\n       * updated whenever other references (having a chunk id) are sorted. This preserves the hash\n       * integrity\n       *\n       * @param {WebpackError} a first WebpackError instance (including subclasses)\n       * @param {WebpackError} b second WebpackError instance (including subclasses)\n       * @returns {-1|0|1} sort order index\n       */\n      var byMessage = function byMessage(a, b) {\n        var ma = \"\".concat(a.message);\n        var mb = \"\".concat(b.message);\n        if (ma < mb) return -1;\n        if (mb < ma) return 1;\n        return 0;\n      };\n      this.errors.sort(byMessage);\n      this.warnings.sort(byMessage);\n      this.children.sort(byNameOrHash);\n    }\n  }, {\n    key: \"summarizeDependencies\",\n    value: function summarizeDependencies() {\n      this.fileDependencies = new SortableSet(this.compilationDependencies);\n      this.contextDependencies = new SortableSet();\n      this.missingDependencies = new SortableSet();\n      for (var indexChildren = 0; indexChildren < this.children.length; indexChildren++) {\n        var child = this.children[indexChildren];\n        addAllToSet(this.fileDependencies, child.fileDependencies);\n        addAllToSet(this.contextDependencies, child.contextDependencies);\n        addAllToSet(this.missingDependencies, child.missingDependencies);\n      }\n      for (var indexModule = 0; indexModule < this.modules.length; indexModule++) {\n        var _module4 = this.modules[indexModule];\n        if (_module4.buildInfo.fileDependencies) {\n          addAllToSet(this.fileDependencies, _module4.buildInfo.fileDependencies);\n        }\n        if (_module4.buildInfo.contextDependencies) {\n          addAllToSet(this.contextDependencies, _module4.buildInfo.contextDependencies);\n        }\n      }\n      var _iterator17 = _createForOfIteratorHelper(this.errors),\n        _step17;\n      try {\n        for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {\n          var error = _step17.value;\n          if (typeof error.missing === \"object\" && error.missing && error.missing[Symbol.iterator]) {\n            addAllToSet(this.missingDependencies, error.missing);\n          }\n        }\n      } catch (err) {\n        _iterator17.e(err);\n      } finally {\n        _iterator17.f();\n      }\n      this.fileDependencies.sort();\n      this.contextDependencies.sort();\n      this.missingDependencies.sort();\n    }\n  }, {\n    key: \"createHash\",\n    value: function createHash() {\n      var outputOptions = this.outputOptions;\n      var hashFunction = outputOptions.hashFunction;\n      var hashDigest = outputOptions.hashDigest;\n      var hashDigestLength = outputOptions.hashDigestLength;\n      var hash = _createHash(hashFunction);\n      if (outputOptions.hashSalt) {\n        hash.update(outputOptions.hashSalt);\n      }\n      this.mainTemplate.updateHash(hash);\n      this.chunkTemplate.updateHash(hash);\n      var _iterator18 = _createForOfIteratorHelper(Object.keys(this.moduleTemplates).sort()),\n        _step18;\n      try {\n        for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {\n          var key = _step18.value;\n          this.moduleTemplates[key].updateHash(hash);\n        }\n      } catch (err) {\n        _iterator18.e(err);\n      } finally {\n        _iterator18.f();\n      }\n      var _iterator19 = _createForOfIteratorHelper(this.children),\n        _step19;\n      try {\n        for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {\n          var child = _step19.value;\n          hash.update(child.hash);\n        }\n      } catch (err) {\n        _iterator19.e(err);\n      } finally {\n        _iterator19.f();\n      }\n      var _iterator20 = _createForOfIteratorHelper(this.warnings),\n        _step20;\n      try {\n        for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {\n          var warning = _step20.value;\n          hash.update(\"\".concat(warning.message));\n        }\n      } catch (err) {\n        _iterator20.e(err);\n      } finally {\n        _iterator20.f();\n      }\n      var _iterator21 = _createForOfIteratorHelper(this.errors),\n        _step21;\n      try {\n        for (_iterator21.s(); !(_step21 = _iterator21.n()).done;) {\n          var error = _step21.value;\n          hash.update(\"\".concat(error.message));\n        }\n      } catch (err) {\n        _iterator21.e(err);\n      } finally {\n        _iterator21.f();\n      }\n      var modules = this.modules;\n      for (var i = 0; i < modules.length; i++) {\n        var _module5 = modules[i];\n        var moduleHash = _createHash(hashFunction);\n        _module5.updateHash(moduleHash);\n        _module5.hash = /** @type {string} */moduleHash.digest(hashDigest);\n        _module5.renderedHash = _module5.hash.substr(0, hashDigestLength);\n      }\n      // clone needed as sort below is inplace mutation\n      var chunks = this.chunks.slice();\n      /**\n       * sort here will bring all \"falsy\" values to the beginning\n       * this is needed as the \"hasRuntime()\" chunks are dependent on the\n       * hashes of the non-runtime chunks.\n       */\n      chunks.sort(function (a, b) {\n        var aEntry = a.hasRuntime();\n        var bEntry = b.hasRuntime();\n        if (aEntry && !bEntry) return 1;\n        if (!aEntry && bEntry) return -1;\n        return byId(a, b);\n      });\n      for (var _i = 0; _i < chunks.length; _i++) {\n        var chunk = chunks[_i];\n        var chunkHash = _createHash(hashFunction);\n        try {\n          if (outputOptions.hashSalt) {\n            chunkHash.update(outputOptions.hashSalt);\n          }\n          chunk.updateHash(chunkHash);\n          var template = chunk.hasRuntime() ? this.mainTemplate : this.chunkTemplate;\n          template.updateHashForChunk(chunkHash, chunk, this.moduleTemplates.javascript, this.dependencyTemplates);\n          this.hooks.chunkHash.call(chunk, chunkHash);\n          chunk.hash = /** @type {string} */chunkHash.digest(hashDigest);\n          hash.update(chunk.hash);\n          chunk.renderedHash = chunk.hash.substr(0, hashDigestLength);\n          this.hooks.contentHash.call(chunk);\n        } catch (err) {\n          this.errors.push(new ChunkRenderError(chunk, \"\", err));\n        }\n      }\n      this.fullHash = /** @type {string} */hash.digest(hashDigest);\n      this.hash = this.fullHash.substr(0, hashDigestLength);\n    }\n\n    /**\n     * @param {string} update extra information\n     * @returns {void}\n     */\n  }, {\n    key: \"modifyHash\",\n    value: function modifyHash(update) {\n      var outputOptions = this.outputOptions;\n      var hashFunction = outputOptions.hashFunction;\n      var hashDigest = outputOptions.hashDigest;\n      var hashDigestLength = outputOptions.hashDigestLength;\n      var hash = _createHash(hashFunction);\n      hash.update(this.fullHash);\n      hash.update(update);\n      this.fullHash = /** @type {string} */hash.digest(hashDigest);\n      this.hash = this.fullHash.substr(0, hashDigestLength);\n    }\n\n    /**\n     * @param {string} file file name\n     * @param {Source} source asset source\n     * @param {AssetInfo} assetInfo extra asset information\n     * @returns {void}\n     */\n  }, {\n    key: \"emitAsset\",\n    value: function emitAsset(file, source) {\n      var assetInfo = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      if (this.assets[file]) {\n        if (!isSourceEqual(this.assets[file], source)) {\n          // TODO webpack 5: make this an error instead\n          this.warnings.push(new WebpackError(\"Conflict: Multiple assets emit different content to the same filename \".concat(file)));\n          this.assets[file] = source;\n          this.assetsInfo.set(file, assetInfo);\n          return;\n        }\n        var oldInfo = this.assetsInfo.get(file);\n        this.assetsInfo.set(file, Object.assign({}, oldInfo, assetInfo));\n        return;\n      }\n      this.assets[file] = source;\n      this.assetsInfo.set(file, assetInfo);\n    }\n\n    /**\n     * @param {string} file file name\n     * @param {Source | function(Source): Source} newSourceOrFunction new asset source or function converting old to new\n     * @param {AssetInfo | function(AssetInfo | undefined): AssetInfo} assetInfoUpdateOrFunction new asset info or function converting old to new\n     */\n  }, {\n    key: \"updateAsset\",\n    value: function updateAsset(file, newSourceOrFunction) {\n      var assetInfoUpdateOrFunction = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      if (!this.assets[file]) {\n        throw new Error(\"Called Compilation.updateAsset for not existing filename \".concat(file));\n      }\n      if (typeof newSourceOrFunction === \"function\") {\n        this.assets[file] = newSourceOrFunction(this.assets[file]);\n      } else {\n        this.assets[file] = newSourceOrFunction;\n      }\n      if (assetInfoUpdateOrFunction !== undefined) {\n        var oldInfo = this.assetsInfo.get(file);\n        if (typeof assetInfoUpdateOrFunction === \"function\") {\n          this.assetsInfo.set(file, assetInfoUpdateOrFunction(oldInfo || {}));\n        } else {\n          this.assetsInfo.set(file, Object.assign({}, oldInfo, assetInfoUpdateOrFunction));\n        }\n      }\n    }\n  }, {\n    key: \"getAssets\",\n    value: function getAssets() {\n      /** @type {Asset[]} */\n      var array = [];\n      for (var _i2 = 0, _Object$keys = Object.keys(this.assets); _i2 < _Object$keys.length; _i2++) {\n        var assetName = _Object$keys[_i2];\n        if (Object.prototype.hasOwnProperty.call(this.assets, assetName)) {\n          array.push({\n            name: assetName,\n            source: this.assets[assetName],\n            info: this.assetsInfo.get(assetName) || {}\n          });\n        }\n      }\n      return array;\n    }\n\n    /**\n     * @param {string} name the name of the asset\n     * @returns {Asset | undefined} the asset or undefined when not found\n     */\n  }, {\n    key: \"getAsset\",\n    value: function getAsset(name) {\n      if (!Object.prototype.hasOwnProperty.call(this.assets, name)) return undefined;\n      return {\n        name: name,\n        source: this.assets[name],\n        info: this.assetsInfo.get(name) || {}\n      };\n    }\n  }, {\n    key: \"createModuleAssets\",\n    value: function createModuleAssets() {\n      for (var i = 0; i < this.modules.length; i++) {\n        var _module6 = this.modules[i];\n        if (_module6.buildInfo.assets) {\n          var assetsInfo = _module6.buildInfo.assetsInfo;\n          for (var _i3 = 0, _Object$keys2 = Object.keys(_module6.buildInfo.assets); _i3 < _Object$keys2.length; _i3++) {\n            var assetName = _Object$keys2[_i3];\n            var fileName = this.getPath(assetName);\n            this.emitAsset(fileName, _module6.buildInfo.assets[assetName], assetsInfo ? assetsInfo.get(assetName) : undefined);\n            this.hooks.moduleAsset.call(_module6, fileName);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"createChunkAssets\",\n    value: function createChunkAssets() {\n      var outputOptions = this.outputOptions;\n      var cachedSourceMap = new Map();\n      /** @type {Map<string, {hash: string, source: Source, chunk: Chunk}>} */\n      var alreadyWrittenFiles = new Map();\n      for (var i = 0; i < this.chunks.length; i++) {\n        var chunk = this.chunks[i];\n        chunk.files = [];\n        var source = void 0;\n        var file = void 0;\n        var filenameTemplate = void 0;\n        try {\n          var template = chunk.hasRuntime() ? this.mainTemplate : this.chunkTemplate;\n          var manifest = template.getRenderManifest({\n            chunk: chunk,\n            hash: this.hash,\n            fullHash: this.fullHash,\n            outputOptions: outputOptions,\n            moduleTemplates: this.moduleTemplates,\n            dependencyTemplates: this.dependencyTemplates\n          }); // [{ render(), filenameTemplate, pathOptions, identifier, hash }]\n          var _iterator22 = _createForOfIteratorHelper(manifest),\n            _step22;\n          try {\n            for (_iterator22.s(); !(_step22 = _iterator22.n()).done;) {\n              var fileManifest = _step22.value;\n              var cacheName = fileManifest.identifier;\n              var usedHash = fileManifest.hash;\n              filenameTemplate = fileManifest.filenameTemplate;\n              var pathAndInfo = this.getPathWithInfo(filenameTemplate, fileManifest.pathOptions);\n              file = pathAndInfo.path;\n              var assetInfo = pathAndInfo.info;\n\n              // check if the same filename was already written by another chunk\n              var alreadyWritten = alreadyWrittenFiles.get(file);\n              if (alreadyWritten !== undefined) {\n                if (alreadyWritten.hash === usedHash) {\n                  if (this.cache) {\n                    this.cache[cacheName] = {\n                      hash: usedHash,\n                      source: alreadyWritten.source\n                    };\n                  }\n                  chunk.files.push(file);\n                  this.hooks.chunkAsset.call(chunk, file);\n                  continue;\n                } else {\n                  throw new Error(\"Conflict: Multiple chunks emit assets to the same filename \".concat(file) + \" (chunks \".concat(alreadyWritten.chunk.id, \" and \").concat(chunk.id, \")\"));\n                }\n              }\n              if (this.cache && this.cache[cacheName] && this.cache[cacheName].hash === usedHash) {\n                source = this.cache[cacheName].source;\n              } else {\n                source = fileManifest.render();\n                // Ensure that source is a cached source to avoid additional cost because of repeated access\n                if (!(source instanceof CachedSource)) {\n                  var cacheEntry = cachedSourceMap.get(source);\n                  if (cacheEntry) {\n                    source = cacheEntry;\n                  } else {\n                    var cachedSource = new CachedSource(source);\n                    cachedSourceMap.set(source, cachedSource);\n                    source = cachedSource;\n                  }\n                }\n                if (this.cache) {\n                  this.cache[cacheName] = {\n                    hash: usedHash,\n                    source: source\n                  };\n                }\n              }\n              this.emitAsset(file, source, assetInfo);\n              chunk.files.push(file);\n              this.hooks.chunkAsset.call(chunk, file);\n              alreadyWrittenFiles.set(file, {\n                hash: usedHash,\n                source: source,\n                chunk: chunk\n              });\n            }\n          } catch (err) {\n            _iterator22.e(err);\n          } finally {\n            _iterator22.f();\n          }\n        } catch (err) {\n          this.errors.push(new ChunkRenderError(chunk, file || filenameTemplate, err));\n        }\n      }\n    }\n\n    /**\n     * @param {string} filename used to get asset path with hash\n     * @param {TODO=} data // TODO: figure out this param type\n     * @returns {string} interpolated path\n     */\n  }, {\n    key: \"getPath\",\n    value: function getPath(filename, data) {\n      data = data || {};\n      data.hash = data.hash || this.hash;\n      return this.mainTemplate.getAssetPath(filename, data);\n    }\n\n    /**\n     * @param {string} filename used to get asset path with hash\n     * @param {TODO=} data // TODO: figure out this param type\n     * @returns {{ path: string, info: AssetInfo }} interpolated path and asset info\n     */\n  }, {\n    key: \"getPathWithInfo\",\n    value: function getPathWithInfo(filename, data) {\n      data = data || {};\n      data.hash = data.hash || this.hash;\n      return this.mainTemplate.getAssetPathWithInfo(filename, data);\n    }\n\n    /**\n     * This function allows you to run another instance of webpack inside of webpack however as\n     * a child with different settings and configurations (if desired) applied. It copies all hooks, plugins\n     * from parent (or top level compiler) and creates a child Compilation\n     *\n     * @param {string} name name of the child compiler\n     * @param {TODO} outputOptions // Need to convert config schema to types for this\n     * @param {Plugin[]} plugins webpack plugins that will be applied\n     * @returns {Compiler} creates a child Compiler instance\n     */\n  }, {\n    key: \"createChildCompiler\",\n    value: function createChildCompiler(name, outputOptions, plugins) {\n      var idx = this.childrenCounters[name] || 0;\n      this.childrenCounters[name] = idx + 1;\n      return this.compiler.createChildCompiler(this, name, idx, outputOptions, plugins);\n    }\n  }, {\n    key: \"checkConstraints\",\n    value: function checkConstraints() {\n      /** @type {Set<number|string>} */\n      var usedIds = new Set();\n      var modules = this.modules;\n      for (var indexModule = 0; indexModule < modules.length; indexModule++) {\n        var moduleId = modules[indexModule].id;\n        if (moduleId === null) continue;\n        if (usedIds.has(moduleId)) {\n          throw new Error(\"checkConstraints: duplicate module id \".concat(moduleId));\n        }\n        usedIds.add(moduleId);\n      }\n      var chunks = this.chunks;\n      for (var indexChunk = 0; indexChunk < chunks.length; indexChunk++) {\n        var chunk = chunks[indexChunk];\n        if (chunks.indexOf(chunk) !== indexChunk) {\n          throw new Error(\"checkConstraints: duplicate chunk in compilation \".concat(chunk.debugId));\n        }\n      }\n      var _iterator23 = _createForOfIteratorHelper(this.chunkGroups),\n        _step23;\n      try {\n        for (_iterator23.s(); !(_step23 = _iterator23.n()).done;) {\n          var chunkGroup = _step23.value;\n          chunkGroup.checkConstraints();\n        }\n      } catch (err) {\n        _iterator23.e(err);\n      } finally {\n        _iterator23.f();\n      }\n    }\n  }]);\n  return Compilation;\n}(Tapable); // TODO remove in webpack 5\nCompilation.prototype.applyPlugins = util.deprecate(\n/**\n * @deprecated\n * @param {string} name Name\n * @param {any[]} args Other arguments\n * @returns {void}\n * @this {Compilation}\n */\nfunction (name) {\n  var _this$hooks$name$repl;\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n  (_this$hooks$name$repl = this.hooks[name.replace(/[- ]([a-z])/g, function (match) {\n    return match[1].toUpperCase();\n  })]).call.apply(_this$hooks$name$repl, args);\n}, \"Compilation.applyPlugins is deprecated. Use new API on `.hooks` instead\");\n\n// TODO remove in webpack 5\nObject.defineProperty(Compilation.prototype, \"moduleTemplate\", {\n  configurable: false,\n  get: util.deprecate(\n  /**\n   * @deprecated\n   * @this {Compilation}\n   * @returns {TODO} module template\n   */\n  function () {\n    return this.moduleTemplates.javascript;\n  }, \"Compilation.moduleTemplate: Use Compilation.moduleTemplates.javascript instead\"),\n  set: util.deprecate(\n  /**\n   * @deprecated\n   * @param {ModuleTemplate} value Template value\n   * @this {Compilation}\n   * @returns {void}\n   */\n  function (value) {\n    this.moduleTemplates.javascript = value;\n  }, \"Compilation.moduleTemplate: Use Compilation.moduleTemplates.javascript instead.\")\n});\nmodule.exports = Compilation;","map":{"version":3,"names":["asyncLib","require","util","CachedSource","Tapable","SyncHook","SyncBailHook","SyncWaterfallHook","AsyncSeriesHook","EntryModuleNotFoundError","ModuleNotFoundError","ModuleDependencyWarning","ModuleDependencyError","ChunkGroup","Chunk","Entrypoint","MainTemplate","ChunkTemplate","HotUpdateChunkTemplate","ModuleTemplate","RuntimeTemplate","ChunkRenderError","Stats","Semaphore","createHash","SortableSet","GraphHelpers","ModuleDependency","compareLocations","Logger","LogType","ErrorHelpers","buildChunkGraph","WebpackError","byId","a","b","id","byIdOrIdentifier","identA","identifier","identB","byIndexOrIdentifier","index","byNameOrHash","name","fullHash","iterationBlockVariable","variables","fn","indexVariable","length","varDep","dependencies","indexVDep","iterationOfArrayCallback","arr","addAllToSet","set","otherSet","item","add","isSourceEqual","aSource","source","bSource","Buffer","isBuffer","from","equals","Compilation","compiler","hooks","buildModule","rebuildModule","failedModule","succeedModule","addEntry","failedEntry","succeedEntry","dependencyReference","finishModules","finishRebuildingModule","unseal","seal","beforeChunks","afterChunks","optimizeDependenciesBasic","optimizeDependencies","optimizeDependenciesAdvanced","afterOptimizeDependencies","optimize","optimizeModulesBasic","optimizeModules","optimizeModulesAdvanced","afterOptimizeModules","optimizeChunksBasic","optimizeChunks","optimizeChunksAdvanced","afterOptimizeChunks","optimizeTree","afterOptimizeTree","optimizeChunkModulesBasic","optimizeChunkModules","optimizeChunkModulesAdvanced","afterOptimizeChunkModules","shouldRecord","reviveModules","optimizeModuleOrder","advancedOptimizeModuleOrder","beforeModuleIds","moduleIds","optimizeModuleIds","afterOptimizeModuleIds","reviveChunks","optimizeChunkOrder","beforeChunkIds","optimizeChunkIds","afterOptimizeChunkIds","recordModules","recordChunks","beforeHash","contentHash","afterHash","recordHash","record","beforeModuleAssets","shouldGenerateChunkAssets","beforeChunkAssets","additionalChunkAssets","additionalAssets","optimizeChunkAssets","afterOptimizeChunkAssets","optimizeAssets","afterOptimizeAssets","needAdditionalSeal","afterSeal","chunkHash","moduleAsset","chunkAsset","assetPath","needAdditionalPass","childCompiler","log","normalModuleLoader","optimizeExtractedChunksBasic","optimizeExtractedChunks","optimizeExtractedChunksAdvanced","afterOptimizeExtractedChunks","_pluginCompat","tap","options","async","undefined","resolverFactory","inputFileSystem","requestShortener","outputOptions","output","bail","profile","performance","mainTemplate","chunkTemplate","hotUpdateChunkTemplate","runtimeTemplate","moduleTemplates","javascript","webassembly","semaphore","parallelism","entries","_preparedEntrypoints","entrypoints","Map","chunks","chunkGroups","namedChunkGroups","namedChunks","modules","_modules","cache","records","assets","assetsInfo","errors","warnings","children","logging","dependencyFactories","dependencyTemplates","childrenCounters","usedChunkIds","usedModuleIds","fileTimestamps","contextTimestamps","compilationDependencies","_buildingModules","_rebuildingModules","emittedAssets","Set","TypeError","logEntries","type","args","trace","warn","error","cutOffLoaderExecution","Error","stack","split","slice","logEntry","time","Date","now","call","profileEnd","console","get","push","module","cacheGroup","alreadyAddedModule","issuer","build","cacheName","cacheModule","updateCacheModule","rebuild","needRebuild","disconnect","err","unbuild","callback","callbackList","process","nextTick","optional","origin","thisCallback","delete","cb","resolveOptions","indexError","indexWarning","war","originalMap","reduce","map","v","i","sort","cmp","loc","addDependency","dep","resourceIdent","getResourceIdentifier","factory","constructor","innerMap","list","addDependenciesBlock","block","blocks","e","sortedDependencies","pair1","pair2","addModuleDependencies","recursive","start","currentProfile","forEach","errorAndCallback","warningAndCallback","acquire","create","contextInfo","nameForCondition","context","dependentModule","afterFactory","isOptional","every","d","errorOrWarningAndCallback","release","iterationDependencies","depend","addReason","addModuleResult","addModule","afterBuild","processModuleDependencies","afterBuilding","building","waitForBuildingFinished","dependency","onModule","Dep","moduleFactory","entry","slot","request","idx","findIndex","_addModuleChain","indexOf","splice","prefetched","oldDependencies","oldVariables","oldBlocks","removeReasonsOfDependencyBlock","callAsync","reportDependencyErrorsAndWarnings","clear","preparedEntrypoint","chunk","addChunk","entrypoint","setRuntimeChunk","addOrigin","connectChunkGroupAndChunk","connectChunkAndModule","entryModule","assignDepth","sortModules","applyModuleIds","sortItemsWithModuleIds","applyChunkIds","sortItemsWithChunkIds","createModuleAssets","createChunkAssets","summarizeDependencies","indexBlock","indexDep","getWarnings","indexWar","w","warning","getErrors","indexErr","groupOptions","chunkGroup","addOptions","queue","depth","enqueueJob","assignDepthToDependency","assignDepthToDependencyBlock","getReference","ref","iteratorDependency","removeReason","chunksIterable","patchChunksAfterReasonRemoval","hasReasons","hasReasonForChunk","removeChunk","removeChunkFromDependencies","asyncBlock","indexChunk","iteratedChunk","removeParent","unusedIds","nextFreeModuleId","usedIds","modules1","indexModule1","module1","size","usedIdMax","usedIdKey","Math","max","lengthFreeModules","has","modules2","indexModule2","module2","pop","usedIdValue","nextFreeChunkId","ids","indexModule","sortItems","compareTo","byMessage","ma","message","mb","fileDependencies","contextDependencies","missingDependencies","indexChildren","child","buildInfo","missing","Symbol","iterator","hashFunction","hashDigest","hashDigestLength","hash","hashSalt","update","updateHash","Object","keys","key","moduleHash","digest","renderedHash","substr","aEntry","hasRuntime","bEntry","template","updateHashForChunk","file","assetInfo","oldInfo","assign","newSourceOrFunction","assetInfoUpdateOrFunction","array","assetName","prototype","hasOwnProperty","info","fileName","getPath","emitAsset","cachedSourceMap","alreadyWrittenFiles","files","filenameTemplate","manifest","getRenderManifest","fileManifest","usedHash","pathAndInfo","getPathWithInfo","pathOptions","path","alreadyWritten","render","cacheEntry","cachedSource","filename","data","getAssetPath","getAssetPathWithInfo","plugins","createChildCompiler","moduleId","debugId","checkConstraints","applyPlugins","deprecate","replace","match","toUpperCase","defineProperty","configurable","value","exports"],"sources":["C:/myCodes/KredoCodeChallenge/react/node_modules/webpack/lib/Compilation.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n\t*/\n\"use strict\";\n\nconst asyncLib = require(\"neo-async\");\nconst util = require(\"util\");\nconst { CachedSource } = require(\"webpack-sources\");\nconst {\n\tTapable,\n\tSyncHook,\n\tSyncBailHook,\n\tSyncWaterfallHook,\n\tAsyncSeriesHook\n} = require(\"tapable\");\nconst EntryModuleNotFoundError = require(\"./EntryModuleNotFoundError\");\nconst ModuleNotFoundError = require(\"./ModuleNotFoundError\");\nconst ModuleDependencyWarning = require(\"./ModuleDependencyWarning\");\nconst ModuleDependencyError = require(\"./ModuleDependencyError\");\nconst ChunkGroup = require(\"./ChunkGroup\");\nconst Chunk = require(\"./Chunk\");\nconst Entrypoint = require(\"./Entrypoint\");\nconst MainTemplate = require(\"./MainTemplate\");\nconst ChunkTemplate = require(\"./ChunkTemplate\");\nconst HotUpdateChunkTemplate = require(\"./HotUpdateChunkTemplate\");\nconst ModuleTemplate = require(\"./ModuleTemplate\");\nconst RuntimeTemplate = require(\"./RuntimeTemplate\");\nconst ChunkRenderError = require(\"./ChunkRenderError\");\nconst Stats = require(\"./Stats\");\nconst Semaphore = require(\"./util/Semaphore\");\nconst createHash = require(\"./util/createHash\");\nconst SortableSet = require(\"./util/SortableSet\");\nconst GraphHelpers = require(\"./GraphHelpers\");\nconst ModuleDependency = require(\"./dependencies/ModuleDependency\");\nconst compareLocations = require(\"./compareLocations\");\nconst { Logger, LogType } = require(\"./logging/Logger\");\nconst ErrorHelpers = require(\"./ErrorHelpers\");\nconst buildChunkGraph = require(\"./buildChunkGraph\");\nconst WebpackError = require(\"./WebpackError\");\n\n/** @typedef {import(\"./Module\")} Module */\n/** @typedef {import(\"./Compiler\")} Compiler */\n/** @typedef {import(\"webpack-sources\").Source} Source */\n/** @typedef {import(\"./DependenciesBlockVariable\")} DependenciesBlockVariable */\n/** @typedef {import(\"./dependencies/SingleEntryDependency\")} SingleEntryDependency */\n/** @typedef {import(\"./dependencies/MultiEntryDependency\")} MultiEntryDependency */\n/** @typedef {import(\"./dependencies/DllEntryDependency\")} DllEntryDependency */\n/** @typedef {import(\"./dependencies/DependencyReference\")} DependencyReference */\n/** @typedef {import(\"./DependenciesBlock\")} DependenciesBlock */\n/** @typedef {import(\"./AsyncDependenciesBlock\")} AsyncDependenciesBlock */\n/** @typedef {import(\"./Dependency\")} Dependency */\n/** @typedef {import(\"./Dependency\").DependencyLocation} DependencyLocation */\n/** @typedef {import(\"./Dependency\").DependencyTemplate} DependencyTemplate */\n/** @typedef {import(\"./util/createHash\").Hash} Hash */\n\n// TODO use @callback\n/** @typedef {{[assetName: string]: Source}} CompilationAssets */\n/** @typedef {(err: Error|null, result?: Module) => void } ModuleCallback */\n/** @typedef {(err?: Error|null, result?: Module) => void } ModuleChainCallback */\n/** @typedef {(module: Module) => void} OnModuleCallback */\n/** @typedef {(err?: Error|null) => void} Callback */\n/** @typedef {(d: Dependency) => any} DepBlockVarDependenciesCallback */\n/** @typedef {new (...args: any[]) => Dependency} DepConstructor */\n/** @typedef {{apply: () => void}} Plugin */\n\n/**\n * @typedef {Object} ModuleFactoryCreateDataContextInfo\n * @property {string} issuer\n * @property {string} compiler\n */\n\n/**\n * @typedef {Object} ModuleFactoryCreateData\n * @property {ModuleFactoryCreateDataContextInfo} contextInfo\n * @property {any=} resolveOptions\n * @property {string} context\n * @property {Dependency[]} dependencies\n */\n\n/**\n * @typedef {Object} ModuleFactory\n * @property {(data: ModuleFactoryCreateData, callback: ModuleCallback) => any} create\n */\n\n/**\n * @typedef {Object} SortedDependency\n * @property {ModuleFactory} factory\n * @property {Dependency[]} dependencies\n */\n\n/**\n * @typedef {Object} DependenciesBlockLike\n * @property {Dependency[]} dependencies\n * @property {AsyncDependenciesBlock[]} blocks\n * @property {DependenciesBlockVariable[]} variables\n */\n\n/**\n * @typedef {Object} LogEntry\n * @property {string} type\n * @property {any[]} args\n * @property {number} time\n * @property {string[]=} trace\n */\n\n/**\n * @typedef {Object} AssetInfo\n * @property {boolean=} immutable true, if the asset can be long term cached forever (contains a hash)\n * @property {number=} size size in bytes, only set after asset has been emitted\n * @property {boolean=} development true, when asset is only used for development and doesn't count towards user-facing assets\n * @property {boolean=} hotModuleReplacement true, when asset ships data for updating an existing application (HMR)\n */\n\n/**\n * @typedef {Object} Asset\n * @property {string} name the filename of the asset\n * @property {Source} source source of the asset\n * @property {AssetInfo} info info about the asset\n */\n\n/**\n * @param {Chunk} a first chunk to sort by id\n * @param {Chunk} b second chunk to sort by id\n * @returns {-1|0|1} sort value\n */\nconst byId = (a, b) => {\n\tif (typeof a.id !== typeof b.id) {\n\t\treturn typeof a.id < typeof b.id ? -1 : 1;\n\t}\n\tif (a.id < b.id) return -1;\n\tif (a.id > b.id) return 1;\n\treturn 0;\n};\n\n/**\n * @param {Module} a first module to sort by\n * @param {Module} b second module to sort by\n * @returns {-1|0|1} sort value\n */\nconst byIdOrIdentifier = (a, b) => {\n\tif (typeof a.id !== typeof b.id) {\n\t\treturn typeof a.id < typeof b.id ? -1 : 1;\n\t}\n\tif (a.id < b.id) return -1;\n\tif (a.id > b.id) return 1;\n\tconst identA = a.identifier();\n\tconst identB = b.identifier();\n\tif (identA < identB) return -1;\n\tif (identA > identB) return 1;\n\treturn 0;\n};\n\n/**\n * @param {Module} a first module to sort by\n * @param {Module} b second module to sort by\n * @returns {-1|0|1} sort value\n */\nconst byIndexOrIdentifier = (a, b) => {\n\tif (a.index < b.index) return -1;\n\tif (a.index > b.index) return 1;\n\tconst identA = a.identifier();\n\tconst identB = b.identifier();\n\tif (identA < identB) return -1;\n\tif (identA > identB) return 1;\n\treturn 0;\n};\n\n/**\n * @param {Compilation} a first compilation to sort by\n * @param {Compilation} b second compilation to sort by\n * @returns {-1|0|1} sort value\n */\nconst byNameOrHash = (a, b) => {\n\tif (a.name < b.name) return -1;\n\tif (a.name > b.name) return 1;\n\tif (a.fullHash < b.fullHash) return -1;\n\tif (a.fullHash > b.fullHash) return 1;\n\treturn 0;\n};\n\n/**\n * @param {DependenciesBlockVariable[]} variables DepBlock Variables to iterate over\n * @param {DepBlockVarDependenciesCallback} fn callback to apply on iterated elements\n * @returns {void}\n */\nconst iterationBlockVariable = (variables, fn) => {\n\tfor (\n\t\tlet indexVariable = 0;\n\t\tindexVariable < variables.length;\n\t\tindexVariable++\n\t) {\n\t\tconst varDep = variables[indexVariable].dependencies;\n\t\tfor (let indexVDep = 0; indexVDep < varDep.length; indexVDep++) {\n\t\t\tfn(varDep[indexVDep]);\n\t\t}\n\t}\n};\n\n/**\n * @template T\n * @param {T[]} arr array of elements to iterate over\n * @param {function(T): void} fn callback applied to each element\n * @returns {void}\n */\nconst iterationOfArrayCallback = (arr, fn) => {\n\tfor (let index = 0; index < arr.length; index++) {\n\t\tfn(arr[index]);\n\t}\n};\n\n/**\n * @template T\n * @param {Set<T>} set set to add items to\n * @param {Set<T>} otherSet set to add items from\n * @returns {void}\n */\nconst addAllToSet = (set, otherSet) => {\n\tfor (const item of otherSet) {\n\t\tset.add(item);\n\t}\n};\n\n/**\n * @param {Source} a a source\n * @param {Source} b another source\n * @returns {boolean} true, when both sources are equal\n */\nconst isSourceEqual = (a, b) => {\n\tif (a === b) return true;\n\t// TODO webpack 5: check .buffer() instead, it's called anyway during emit\n\t/** @type {Buffer|string} */\n\tlet aSource = a.source();\n\t/** @type {Buffer|string} */\n\tlet bSource = b.source();\n\tif (aSource === bSource) return true;\n\tif (typeof aSource === \"string\" && typeof bSource === \"string\") return false;\n\tif (!Buffer.isBuffer(aSource)) aSource = Buffer.from(aSource, \"utf-8\");\n\tif (!Buffer.isBuffer(bSource)) bSource = Buffer.from(bSource, \"utf-8\");\n\treturn aSource.equals(bSource);\n};\n\nclass Compilation extends Tapable {\n\t/**\n\t * Creates an instance of Compilation.\n\t * @param {Compiler} compiler the compiler which created the compilation\n\t */\n\tconstructor(compiler) {\n\t\tsuper();\n\t\tthis.hooks = {\n\t\t\t/** @type {SyncHook<Module>} */\n\t\t\tbuildModule: new SyncHook([\"module\"]),\n\t\t\t/** @type {SyncHook<Module>} */\n\t\t\trebuildModule: new SyncHook([\"module\"]),\n\t\t\t/** @type {SyncHook<Module, Error>} */\n\t\t\tfailedModule: new SyncHook([\"module\", \"error\"]),\n\t\t\t/** @type {SyncHook<Module>} */\n\t\t\tsucceedModule: new SyncHook([\"module\"]),\n\n\t\t\t/** @type {SyncHook<Dependency, string>} */\n\t\t\taddEntry: new SyncHook([\"entry\", \"name\"]),\n\t\t\t/** @type {SyncHook<Dependency, string, Error>} */\n\t\t\tfailedEntry: new SyncHook([\"entry\", \"name\", \"error\"]),\n\t\t\t/** @type {SyncHook<Dependency, string, Module>} */\n\t\t\tsucceedEntry: new SyncHook([\"entry\", \"name\", \"module\"]),\n\n\t\t\t/** @type {SyncWaterfallHook<DependencyReference, Dependency, Module>} */\n\t\t\tdependencyReference: new SyncWaterfallHook([\n\t\t\t\t\"dependencyReference\",\n\t\t\t\t\"dependency\",\n\t\t\t\t\"module\"\n\t\t\t]),\n\n\t\t\t/** @type {AsyncSeriesHook<Module[]>} */\n\t\t\tfinishModules: new AsyncSeriesHook([\"modules\"]),\n\t\t\t/** @type {SyncHook<Module>} */\n\t\t\tfinishRebuildingModule: new SyncHook([\"module\"]),\n\t\t\t/** @type {SyncHook} */\n\t\t\tunseal: new SyncHook([]),\n\t\t\t/** @type {SyncHook} */\n\t\t\tseal: new SyncHook([]),\n\n\t\t\t/** @type {SyncHook} */\n\t\t\tbeforeChunks: new SyncHook([]),\n\t\t\t/** @type {SyncHook<Chunk[]>} */\n\t\t\tafterChunks: new SyncHook([\"chunks\"]),\n\n\t\t\t/** @type {SyncBailHook<Module[]>} */\n\t\t\toptimizeDependenciesBasic: new SyncBailHook([\"modules\"]),\n\t\t\t/** @type {SyncBailHook<Module[]>} */\n\t\t\toptimizeDependencies: new SyncBailHook([\"modules\"]),\n\t\t\t/** @type {SyncBailHook<Module[]>} */\n\t\t\toptimizeDependenciesAdvanced: new SyncBailHook([\"modules\"]),\n\t\t\t/** @type {SyncBailHook<Module[]>} */\n\t\t\tafterOptimizeDependencies: new SyncHook([\"modules\"]),\n\n\t\t\t/** @type {SyncHook} */\n\t\t\toptimize: new SyncHook([]),\n\t\t\t/** @type {SyncBailHook<Module[]>} */\n\t\t\toptimizeModulesBasic: new SyncBailHook([\"modules\"]),\n\t\t\t/** @type {SyncBailHook<Module[]>} */\n\t\t\toptimizeModules: new SyncBailHook([\"modules\"]),\n\t\t\t/** @type {SyncBailHook<Module[]>} */\n\t\t\toptimizeModulesAdvanced: new SyncBailHook([\"modules\"]),\n\t\t\t/** @type {SyncHook<Module[]>} */\n\t\t\tafterOptimizeModules: new SyncHook([\"modules\"]),\n\n\t\t\t/** @type {SyncBailHook<Chunk[], ChunkGroup[]>} */\n\t\t\toptimizeChunksBasic: new SyncBailHook([\"chunks\", \"chunkGroups\"]),\n\t\t\t/** @type {SyncBailHook<Chunk[], ChunkGroup[]>} */\n\t\t\toptimizeChunks: new SyncBailHook([\"chunks\", \"chunkGroups\"]),\n\t\t\t/** @type {SyncBailHook<Chunk[], ChunkGroup[]>} */\n\t\t\toptimizeChunksAdvanced: new SyncBailHook([\"chunks\", \"chunkGroups\"]),\n\t\t\t/** @type {SyncHook<Chunk[], ChunkGroup[]>} */\n\t\t\tafterOptimizeChunks: new SyncHook([\"chunks\", \"chunkGroups\"]),\n\n\t\t\t/** @type {AsyncSeriesHook<Chunk[], Module[]>} */\n\t\t\toptimizeTree: new AsyncSeriesHook([\"chunks\", \"modules\"]),\n\t\t\t/** @type {SyncHook<Chunk[], Module[]>} */\n\t\t\tafterOptimizeTree: new SyncHook([\"chunks\", \"modules\"]),\n\n\t\t\t/** @type {SyncBailHook<Chunk[], Module[]>} */\n\t\t\toptimizeChunkModulesBasic: new SyncBailHook([\"chunks\", \"modules\"]),\n\t\t\t/** @type {SyncBailHook<Chunk[], Module[]>} */\n\t\t\toptimizeChunkModules: new SyncBailHook([\"chunks\", \"modules\"]),\n\t\t\t/** @type {SyncBailHook<Chunk[], Module[]>} */\n\t\t\toptimizeChunkModulesAdvanced: new SyncBailHook([\"chunks\", \"modules\"]),\n\t\t\t/** @type {SyncHook<Chunk[], Module[]>} */\n\t\t\tafterOptimizeChunkModules: new SyncHook([\"chunks\", \"modules\"]),\n\t\t\t/** @type {SyncBailHook} */\n\t\t\tshouldRecord: new SyncBailHook([]),\n\n\t\t\t/** @type {SyncHook<Module[], any>} */\n\t\t\treviveModules: new SyncHook([\"modules\", \"records\"]),\n\t\t\t/** @type {SyncHook<Module[]>} */\n\t\t\toptimizeModuleOrder: new SyncHook([\"modules\"]),\n\t\t\t/** @type {SyncHook<Module[]>} */\n\t\t\tadvancedOptimizeModuleOrder: new SyncHook([\"modules\"]),\n\t\t\t/** @type {SyncHook<Module[]>} */\n\t\t\tbeforeModuleIds: new SyncHook([\"modules\"]),\n\t\t\t/** @type {SyncHook<Module[]>} */\n\t\t\tmoduleIds: new SyncHook([\"modules\"]),\n\t\t\t/** @type {SyncHook<Module[]>} */\n\t\t\toptimizeModuleIds: new SyncHook([\"modules\"]),\n\t\t\t/** @type {SyncHook<Module[]>} */\n\t\t\tafterOptimizeModuleIds: new SyncHook([\"modules\"]),\n\n\t\t\t/** @type {SyncHook<Chunk[], any>} */\n\t\t\treviveChunks: new SyncHook([\"chunks\", \"records\"]),\n\t\t\t/** @type {SyncHook<Chunk[]>} */\n\t\t\toptimizeChunkOrder: new SyncHook([\"chunks\"]),\n\t\t\t/** @type {SyncHook<Chunk[]>} */\n\t\t\tbeforeChunkIds: new SyncHook([\"chunks\"]),\n\t\t\t/** @type {SyncHook<Chunk[]>} */\n\t\t\toptimizeChunkIds: new SyncHook([\"chunks\"]),\n\t\t\t/** @type {SyncHook<Chunk[]>} */\n\t\t\tafterOptimizeChunkIds: new SyncHook([\"chunks\"]),\n\n\t\t\t/** @type {SyncHook<Module[], any>} */\n\t\t\trecordModules: new SyncHook([\"modules\", \"records\"]),\n\t\t\t/** @type {SyncHook<Chunk[], any>} */\n\t\t\trecordChunks: new SyncHook([\"chunks\", \"records\"]),\n\n\t\t\t/** @type {SyncHook} */\n\t\t\tbeforeHash: new SyncHook([]),\n\t\t\t/** @type {SyncHook<Chunk>} */\n\t\t\tcontentHash: new SyncHook([\"chunk\"]),\n\t\t\t/** @type {SyncHook} */\n\t\t\tafterHash: new SyncHook([]),\n\t\t\t/** @type {SyncHook<any>} */\n\t\t\trecordHash: new SyncHook([\"records\"]),\n\t\t\t/** @type {SyncHook<Compilation, any>} */\n\t\t\trecord: new SyncHook([\"compilation\", \"records\"]),\n\n\t\t\t/** @type {SyncHook} */\n\t\t\tbeforeModuleAssets: new SyncHook([]),\n\t\t\t/** @type {SyncBailHook} */\n\t\t\tshouldGenerateChunkAssets: new SyncBailHook([]),\n\t\t\t/** @type {SyncHook} */\n\t\t\tbeforeChunkAssets: new SyncHook([]),\n\t\t\t/** @type {SyncHook<Chunk[]>} */\n\t\t\tadditionalChunkAssets: new SyncHook([\"chunks\"]),\n\n\t\t\t/** @type {AsyncSeriesHook} */\n\t\t\tadditionalAssets: new AsyncSeriesHook([]),\n\t\t\t/** @type {AsyncSeriesHook<Chunk[]>} */\n\t\t\toptimizeChunkAssets: new AsyncSeriesHook([\"chunks\"]),\n\t\t\t/** @type {SyncHook<Chunk[]>} */\n\t\t\tafterOptimizeChunkAssets: new SyncHook([\"chunks\"]),\n\t\t\t/** @type {AsyncSeriesHook<CompilationAssets>} */\n\t\t\toptimizeAssets: new AsyncSeriesHook([\"assets\"]),\n\t\t\t/** @type {SyncHook<CompilationAssets>} */\n\t\t\tafterOptimizeAssets: new SyncHook([\"assets\"]),\n\n\t\t\t/** @type {SyncBailHook} */\n\t\t\tneedAdditionalSeal: new SyncBailHook([]),\n\t\t\t/** @type {AsyncSeriesHook} */\n\t\t\tafterSeal: new AsyncSeriesHook([]),\n\n\t\t\t/** @type {SyncHook<Chunk, Hash>} */\n\t\t\tchunkHash: new SyncHook([\"chunk\", \"chunkHash\"]),\n\t\t\t/** @type {SyncHook<Module, string>} */\n\t\t\tmoduleAsset: new SyncHook([\"module\", \"filename\"]),\n\t\t\t/** @type {SyncHook<Chunk, string>} */\n\t\t\tchunkAsset: new SyncHook([\"chunk\", \"filename\"]),\n\n\t\t\t/** @type {SyncWaterfallHook<string, TODO>} */\n\t\t\tassetPath: new SyncWaterfallHook([\"filename\", \"data\"]), // TODO MainTemplate\n\n\t\t\t/** @type {SyncBailHook} */\n\t\t\tneedAdditionalPass: new SyncBailHook([]),\n\n\t\t\t/** @type {SyncHook<Compiler, string, number>} */\n\t\t\tchildCompiler: new SyncHook([\n\t\t\t\t\"childCompiler\",\n\t\t\t\t\"compilerName\",\n\t\t\t\t\"compilerIndex\"\n\t\t\t]),\n\n\t\t\t/** @type {SyncBailHook<string, LogEntry>} */\n\t\t\tlog: new SyncBailHook([\"origin\", \"logEntry\"]),\n\n\t\t\t// TODO the following hooks are weirdly located here\n\t\t\t// TODO move them for webpack 5\n\t\t\t/** @type {SyncHook<object, Module>} */\n\t\t\tnormalModuleLoader: new SyncHook([\"loaderContext\", \"module\"]),\n\n\t\t\t/** @type {SyncBailHook<Chunk[]>} */\n\t\t\toptimizeExtractedChunksBasic: new SyncBailHook([\"chunks\"]),\n\t\t\t/** @type {SyncBailHook<Chunk[]>} */\n\t\t\toptimizeExtractedChunks: new SyncBailHook([\"chunks\"]),\n\t\t\t/** @type {SyncBailHook<Chunk[]>} */\n\t\t\toptimizeExtractedChunksAdvanced: new SyncBailHook([\"chunks\"]),\n\t\t\t/** @type {SyncHook<Chunk[]>} */\n\t\t\tafterOptimizeExtractedChunks: new SyncHook([\"chunks\"])\n\t\t};\n\t\tthis._pluginCompat.tap(\"Compilation\", options => {\n\t\t\tswitch (options.name) {\n\t\t\t\tcase \"optimize-tree\":\n\t\t\t\tcase \"additional-assets\":\n\t\t\t\tcase \"optimize-chunk-assets\":\n\t\t\t\tcase \"optimize-assets\":\n\t\t\t\tcase \"after-seal\":\n\t\t\t\t\toptions.async = true;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t\t/** @type {string=} */\n\t\tthis.name = undefined;\n\t\t/** @type {Compiler} */\n\t\tthis.compiler = compiler;\n\t\tthis.resolverFactory = compiler.resolverFactory;\n\t\tthis.inputFileSystem = compiler.inputFileSystem;\n\t\tthis.requestShortener = compiler.requestShortener;\n\n\t\tconst options = compiler.options;\n\t\tthis.options = options;\n\t\tthis.outputOptions = options && options.output;\n\t\t/** @type {boolean=} */\n\t\tthis.bail = options && options.bail;\n\t\tthis.profile = options && options.profile;\n\t\tthis.performance = options && options.performance;\n\n\t\tthis.mainTemplate = new MainTemplate(this.outputOptions);\n\t\tthis.chunkTemplate = new ChunkTemplate(this.outputOptions);\n\t\tthis.hotUpdateChunkTemplate = new HotUpdateChunkTemplate(\n\t\t\tthis.outputOptions\n\t\t);\n\t\tthis.runtimeTemplate = new RuntimeTemplate(\n\t\t\tthis.outputOptions,\n\t\t\tthis.requestShortener\n\t\t);\n\t\tthis.moduleTemplates = {\n\t\t\tjavascript: new ModuleTemplate(this.runtimeTemplate, \"javascript\"),\n\t\t\twebassembly: new ModuleTemplate(this.runtimeTemplate, \"webassembly\")\n\t\t};\n\n\t\tthis.semaphore = new Semaphore(options.parallelism || 100);\n\n\t\tthis.entries = [];\n\t\t/** @private @type {{name: string, request: string, module: Module}[]} */\n\t\tthis._preparedEntrypoints = [];\n\t\t/** @type {Map<string, Entrypoint>} */\n\t\tthis.entrypoints = new Map();\n\t\t/** @type {Chunk[]} */\n\t\tthis.chunks = [];\n\t\t/** @type {ChunkGroup[]} */\n\t\tthis.chunkGroups = [];\n\t\t/** @type {Map<string, ChunkGroup>} */\n\t\tthis.namedChunkGroups = new Map();\n\t\t/** @type {Map<string, Chunk>} */\n\t\tthis.namedChunks = new Map();\n\t\t/** @type {Module[]} */\n\t\tthis.modules = [];\n\t\t/** @private @type {Map<string, Module>} */\n\t\tthis._modules = new Map();\n\t\tthis.cache = null;\n\t\tthis.records = null;\n\t\t/** @type {string[]} */\n\t\tthis.additionalChunkAssets = [];\n\t\t/** @type {CompilationAssets} */\n\t\tthis.assets = {};\n\t\t/** @type {Map<string, AssetInfo>} */\n\t\tthis.assetsInfo = new Map();\n\t\t/** @type {WebpackError[]} */\n\t\tthis.errors = [];\n\t\t/** @type {WebpackError[]} */\n\t\tthis.warnings = [];\n\t\t/** @type {Compilation[]} */\n\t\tthis.children = [];\n\t\t/** @type {Map<string, LogEntry[]>} */\n\t\tthis.logging = new Map();\n\t\t/** @type {Map<DepConstructor, ModuleFactory>} */\n\t\tthis.dependencyFactories = new Map();\n\t\t/** @type {Map<DepConstructor, DependencyTemplate>} */\n\t\tthis.dependencyTemplates = new Map();\n\t\t// TODO refactor this in webpack 5 to a custom DependencyTemplates class with a hash property\n\t\t// @ts-ignore\n\t\tthis.dependencyTemplates.set(\"hash\", \"\");\n\t\tthis.childrenCounters = {};\n\t\t/** @type {Set<number|string>} */\n\t\tthis.usedChunkIds = null;\n\t\t/** @type {Set<number>} */\n\t\tthis.usedModuleIds = null;\n\t\t/** @type {Map<string, number>=} */\n\t\tthis.fileTimestamps = undefined;\n\t\t/** @type {Map<string, number>=} */\n\t\tthis.contextTimestamps = undefined;\n\t\t/** @type {Set<string>=} */\n\t\tthis.compilationDependencies = undefined;\n\t\t/** @private @type {Map<Module, Callback[]>} */\n\t\tthis._buildingModules = new Map();\n\t\t/** @private @type {Map<Module, Callback[]>} */\n\t\tthis._rebuildingModules = new Map();\n\t\t/** @type {Set<string>} */\n\t\tthis.emittedAssets = new Set();\n\t}\n\n\tgetStats() {\n\t\treturn new Stats(this);\n\t}\n\n\t/**\n\t * @param {string | (function(): string)} name name of the logger, or function called once to get the logger name\n\t * @returns {Logger} a logger with that name\n\t */\n\tgetLogger(name) {\n\t\tif (!name) {\n\t\t\tthrow new TypeError(\"Compilation.getLogger(name) called without a name\");\n\t\t}\n\t\t/** @type {LogEntry[] | undefined} */\n\t\tlet logEntries;\n\t\treturn new Logger((type, args) => {\n\t\t\tif (typeof name === \"function\") {\n\t\t\t\tname = name();\n\t\t\t\tif (!name) {\n\t\t\t\t\tthrow new TypeError(\n\t\t\t\t\t\t\"Compilation.getLogger(name) called with a function not returning a name\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet trace;\n\t\t\tswitch (type) {\n\t\t\t\tcase LogType.warn:\n\t\t\t\tcase LogType.error:\n\t\t\t\tcase LogType.trace:\n\t\t\t\t\ttrace = ErrorHelpers.cutOffLoaderExecution(new Error(\"Trace\").stack)\n\t\t\t\t\t\t.split(\"\\n\")\n\t\t\t\t\t\t.slice(3);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t/** @type {LogEntry} */\n\t\t\tconst logEntry = {\n\t\t\t\ttime: Date.now(),\n\t\t\t\ttype,\n\t\t\t\targs,\n\t\t\t\ttrace\n\t\t\t};\n\t\t\tif (this.hooks.log.call(name, logEntry) === undefined) {\n\t\t\t\tif (logEntry.type === LogType.profileEnd) {\n\t\t\t\t\t// eslint-disable-next-line node/no-unsupported-features/node-builtins\n\t\t\t\t\tif (typeof console.profileEnd === \"function\") {\n\t\t\t\t\t\t// eslint-disable-next-line node/no-unsupported-features/node-builtins\n\t\t\t\t\t\tconsole.profileEnd(`[${name}] ${logEntry.args[0]}`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (logEntries === undefined) {\n\t\t\t\t\tlogEntries = this.logging.get(name);\n\t\t\t\t\tif (logEntries === undefined) {\n\t\t\t\t\t\tlogEntries = [];\n\t\t\t\t\t\tthis.logging.set(name, logEntries);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlogEntries.push(logEntry);\n\t\t\t\tif (logEntry.type === LogType.profile) {\n\t\t\t\t\t// eslint-disable-next-line node/no-unsupported-features/node-builtins\n\t\t\t\t\tif (typeof console.profile === \"function\") {\n\t\t\t\t\t\t// eslint-disable-next-line node/no-unsupported-features/node-builtins\n\t\t\t\t\t\tconsole.profile(`[${name}] ${logEntry.args[0]}`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * @typedef {Object} AddModuleResult\n\t * @property {Module} module the added or existing module\n\t * @property {boolean} issuer was this the first request for this module\n\t * @property {boolean} build should the module be build\n\t * @property {boolean} dependencies should dependencies be walked\n\t */\n\n\t/**\n\t * @param {Module} module module to be added that was created\n\t * @param {any=} cacheGroup cacheGroup it is apart of\n\t * @returns {AddModuleResult} returns meta about whether or not the module had built\n\t * had an issuer, or any dependnecies\n\t */\n\taddModule(module, cacheGroup) {\n\t\tconst identifier = module.identifier();\n\t\tconst alreadyAddedModule = this._modules.get(identifier);\n\t\tif (alreadyAddedModule) {\n\t\t\treturn {\n\t\t\t\tmodule: alreadyAddedModule,\n\t\t\t\tissuer: false,\n\t\t\t\tbuild: false,\n\t\t\t\tdependencies: false\n\t\t\t};\n\t\t}\n\t\tconst cacheName = (cacheGroup || \"m\") + identifier;\n\t\tif (this.cache && this.cache[cacheName]) {\n\t\t\tconst cacheModule = this.cache[cacheName];\n\n\t\t\tif (typeof cacheModule.updateCacheModule === \"function\") {\n\t\t\t\tcacheModule.updateCacheModule(module);\n\t\t\t}\n\n\t\t\tlet rebuild = true;\n\t\t\tif (this.fileTimestamps && this.contextTimestamps) {\n\t\t\t\trebuild = cacheModule.needRebuild(\n\t\t\t\t\tthis.fileTimestamps,\n\t\t\t\t\tthis.contextTimestamps\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (!rebuild) {\n\t\t\t\tcacheModule.disconnect();\n\t\t\t\tthis._modules.set(identifier, cacheModule);\n\t\t\t\tthis.modules.push(cacheModule);\n\t\t\t\tfor (const err of cacheModule.errors) {\n\t\t\t\t\tthis.errors.push(err);\n\t\t\t\t}\n\t\t\t\tfor (const err of cacheModule.warnings) {\n\t\t\t\t\tthis.warnings.push(err);\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tmodule: cacheModule,\n\t\t\t\t\tissuer: true,\n\t\t\t\t\tbuild: false,\n\t\t\t\t\tdependencies: true\n\t\t\t\t};\n\t\t\t}\n\t\t\tcacheModule.unbuild();\n\t\t\tmodule = cacheModule;\n\t\t}\n\t\tthis._modules.set(identifier, module);\n\t\tif (this.cache) {\n\t\t\tthis.cache[cacheName] = module;\n\t\t}\n\t\tthis.modules.push(module);\n\t\treturn {\n\t\t\tmodule: module,\n\t\t\tissuer: true,\n\t\t\tbuild: true,\n\t\t\tdependencies: true\n\t\t};\n\t}\n\n\t/**\n\t * Fetches a module from a compilation by its identifier\n\t * @param {Module} module the module provided\n\t * @returns {Module} the module requested\n\t */\n\tgetModule(module) {\n\t\tconst identifier = module.identifier();\n\t\treturn this._modules.get(identifier);\n\t}\n\n\t/**\n\t * Attempts to search for a module by its identifier\n\t * @param {string} identifier identifier (usually path) for module\n\t * @returns {Module|undefined} attempt to search for module and return it, else undefined\n\t */\n\tfindModule(identifier) {\n\t\treturn this._modules.get(identifier);\n\t}\n\n\t/**\n\t * @param {Module} module module with its callback list\n\t * @param {Callback} callback the callback function\n\t * @returns {void}\n\t */\n\twaitForBuildingFinished(module, callback) {\n\t\tlet callbackList = this._buildingModules.get(module);\n\t\tif (callbackList) {\n\t\t\tcallbackList.push(() => callback());\n\t\t} else {\n\t\t\tprocess.nextTick(callback);\n\t\t}\n\t}\n\n\t/**\n\t * Builds the module object\n\t *\n\t * @param {Module} module module to be built\n\t * @param {boolean} optional optional flag\n\t * @param {Module=} origin origin module this module build was requested from\n\t * @param {Dependency[]=} dependencies optional dependencies from the module to be built\n\t * @param {TODO} thisCallback the callback\n\t * @returns {TODO} returns the callback function with results\n\t */\n\tbuildModule(module, optional, origin, dependencies, thisCallback) {\n\t\tlet callbackList = this._buildingModules.get(module);\n\t\tif (callbackList) {\n\t\t\tcallbackList.push(thisCallback);\n\t\t\treturn;\n\t\t}\n\t\tthis._buildingModules.set(module, (callbackList = [thisCallback]));\n\n\t\tconst callback = err => {\n\t\t\tthis._buildingModules.delete(module);\n\t\t\tfor (const cb of callbackList) {\n\t\t\t\tcb(err);\n\t\t\t}\n\t\t};\n\n\t\tthis.hooks.buildModule.call(module);\n\t\tmodule.build(\n\t\t\tthis.options,\n\t\t\tthis,\n\t\t\tthis.resolverFactory.get(\"normal\", module.resolveOptions),\n\t\t\tthis.inputFileSystem,\n\t\t\terror => {\n\t\t\t\tconst errors = module.errors;\n\t\t\t\tfor (let indexError = 0; indexError < errors.length; indexError++) {\n\t\t\t\t\tconst err = errors[indexError];\n\t\t\t\t\terr.origin = origin;\n\t\t\t\t\terr.dependencies = dependencies;\n\t\t\t\t\tif (optional) {\n\t\t\t\t\t\tthis.warnings.push(err);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.errors.push(err);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst warnings = module.warnings;\n\t\t\t\tfor (\n\t\t\t\t\tlet indexWarning = 0;\n\t\t\t\t\tindexWarning < warnings.length;\n\t\t\t\t\tindexWarning++\n\t\t\t\t) {\n\t\t\t\t\tconst war = warnings[indexWarning];\n\t\t\t\t\twar.origin = origin;\n\t\t\t\t\twar.dependencies = dependencies;\n\t\t\t\t\tthis.warnings.push(war);\n\t\t\t\t}\n\t\t\t\tconst originalMap = module.dependencies.reduce((map, v, i) => {\n\t\t\t\t\tmap.set(v, i);\n\t\t\t\t\treturn map;\n\t\t\t\t}, new Map());\n\t\t\t\tmodule.dependencies.sort((a, b) => {\n\t\t\t\t\tconst cmp = compareLocations(a.loc, b.loc);\n\t\t\t\t\tif (cmp) return cmp;\n\t\t\t\t\treturn originalMap.get(a) - originalMap.get(b);\n\t\t\t\t});\n\t\t\t\tif (error) {\n\t\t\t\t\tthis.hooks.failedModule.call(module, error);\n\t\t\t\t\treturn callback(error);\n\t\t\t\t}\n\t\t\t\tthis.hooks.succeedModule.call(module);\n\t\t\t\treturn callback();\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * @param {Module} module to be processed for deps\n\t * @param {ModuleCallback} callback callback to be triggered\n\t * @returns {void}\n\t */\n\tprocessModuleDependencies(module, callback) {\n\t\tconst dependencies = new Map();\n\n\t\tconst addDependency = dep => {\n\t\t\tconst resourceIdent = dep.getResourceIdentifier();\n\t\t\tif (resourceIdent) {\n\t\t\t\tconst factory = this.dependencyFactories.get(dep.constructor);\n\t\t\t\tif (factory === undefined) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`No module factory available for dependency type: ${dep.constructor.name}`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tlet innerMap = dependencies.get(factory);\n\t\t\t\tif (innerMap === undefined) {\n\t\t\t\t\tdependencies.set(factory, (innerMap = new Map()));\n\t\t\t\t}\n\t\t\t\tlet list = innerMap.get(resourceIdent);\n\t\t\t\tif (list === undefined) innerMap.set(resourceIdent, (list = []));\n\t\t\t\tlist.push(dep);\n\t\t\t}\n\t\t};\n\n\t\tconst addDependenciesBlock = block => {\n\t\t\tif (block.dependencies) {\n\t\t\t\titerationOfArrayCallback(block.dependencies, addDependency);\n\t\t\t}\n\t\t\tif (block.blocks) {\n\t\t\t\titerationOfArrayCallback(block.blocks, addDependenciesBlock);\n\t\t\t}\n\t\t\tif (block.variables) {\n\t\t\t\titerationBlockVariable(block.variables, addDependency);\n\t\t\t}\n\t\t};\n\n\t\ttry {\n\t\t\taddDependenciesBlock(module);\n\t\t} catch (e) {\n\t\t\tcallback(e);\n\t\t}\n\n\t\tconst sortedDependencies = [];\n\n\t\tfor (const pair1 of dependencies) {\n\t\t\tfor (const pair2 of pair1[1]) {\n\t\t\t\tsortedDependencies.push({\n\t\t\t\t\tfactory: pair1[0],\n\t\t\t\t\tdependencies: pair2[1]\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tthis.addModuleDependencies(\n\t\t\tmodule,\n\t\t\tsortedDependencies,\n\t\t\tthis.bail,\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tcallback\n\t\t);\n\t}\n\n\t/**\n\t * @param {Module} module module to add deps to\n\t * @param {SortedDependency[]} dependencies set of sorted dependencies to iterate through\n\t * @param {(boolean|null)=} bail whether to bail or not\n\t * @param {TODO} cacheGroup optional cacheGroup\n\t * @param {boolean} recursive whether it is recursive traversal\n\t * @param {function} callback callback for when dependencies are finished being added\n\t * @returns {void}\n\t */\n\taddModuleDependencies(\n\t\tmodule,\n\t\tdependencies,\n\t\tbail,\n\t\tcacheGroup,\n\t\trecursive,\n\t\tcallback\n\t) {\n\t\tconst start = this.profile && Date.now();\n\t\tconst currentProfile = this.profile && {};\n\n\t\tasyncLib.forEach(\n\t\t\tdependencies,\n\t\t\t(item, callback) => {\n\t\t\t\tconst dependencies = item.dependencies;\n\n\t\t\t\tconst errorAndCallback = err => {\n\t\t\t\t\terr.origin = module;\n\t\t\t\t\terr.dependencies = dependencies;\n\t\t\t\t\tthis.errors.push(err);\n\t\t\t\t\tif (bail) {\n\t\t\t\t\t\tcallback(err);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tconst warningAndCallback = err => {\n\t\t\t\t\terr.origin = module;\n\t\t\t\t\tthis.warnings.push(err);\n\t\t\t\t\tcallback();\n\t\t\t\t};\n\n\t\t\t\tconst semaphore = this.semaphore;\n\t\t\t\tsemaphore.acquire(() => {\n\t\t\t\t\tconst factory = item.factory;\n\t\t\t\t\tfactory.create(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontextInfo: {\n\t\t\t\t\t\t\t\tissuer: module.nameForCondition && module.nameForCondition(),\n\t\t\t\t\t\t\t\tcompiler: this.compiler.name\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tresolveOptions: module.resolveOptions,\n\t\t\t\t\t\t\tcontext: module.context,\n\t\t\t\t\t\t\tdependencies: dependencies\n\t\t\t\t\t\t},\n\t\t\t\t\t\t(err, dependentModule) => {\n\t\t\t\t\t\t\tlet afterFactory;\n\n\t\t\t\t\t\t\tconst isOptional = () => {\n\t\t\t\t\t\t\t\treturn dependencies.every(d => d.optional);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tconst errorOrWarningAndCallback = err => {\n\t\t\t\t\t\t\t\tif (isOptional()) {\n\t\t\t\t\t\t\t\t\treturn warningAndCallback(err);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn errorAndCallback(err);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\t\tsemaphore.release();\n\t\t\t\t\t\t\t\treturn errorOrWarningAndCallback(\n\t\t\t\t\t\t\t\t\tnew ModuleNotFoundError(module, err)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!dependentModule) {\n\t\t\t\t\t\t\t\tsemaphore.release();\n\t\t\t\t\t\t\t\treturn process.nextTick(callback);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (currentProfile) {\n\t\t\t\t\t\t\t\tafterFactory = Date.now();\n\t\t\t\t\t\t\t\tcurrentProfile.factory = afterFactory - start;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst iterationDependencies = depend => {\n\t\t\t\t\t\t\t\tfor (let index = 0; index < depend.length; index++) {\n\t\t\t\t\t\t\t\t\tconst dep = depend[index];\n\t\t\t\t\t\t\t\t\tdep.module = dependentModule;\n\t\t\t\t\t\t\t\t\tdependentModule.addReason(module, dep);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tconst addModuleResult = this.addModule(\n\t\t\t\t\t\t\t\tdependentModule,\n\t\t\t\t\t\t\t\tcacheGroup\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tdependentModule = addModuleResult.module;\n\t\t\t\t\t\t\titerationDependencies(dependencies);\n\n\t\t\t\t\t\t\tconst afterBuild = () => {\n\t\t\t\t\t\t\t\tif (recursive && addModuleResult.dependencies) {\n\t\t\t\t\t\t\t\t\tthis.processModuleDependencies(dependentModule, callback);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn callback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tif (addModuleResult.issuer) {\n\t\t\t\t\t\t\t\tif (currentProfile) {\n\t\t\t\t\t\t\t\t\tdependentModule.profile = currentProfile;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tdependentModule.issuer = module;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (this.profile) {\n\t\t\t\t\t\t\t\t\tif (module.profile) {\n\t\t\t\t\t\t\t\t\t\tconst time = Date.now() - start;\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t!module.profile.dependencies ||\n\t\t\t\t\t\t\t\t\t\t\ttime > module.profile.dependencies\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tmodule.profile.dependencies = time;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (addModuleResult.build) {\n\t\t\t\t\t\t\t\tthis.buildModule(\n\t\t\t\t\t\t\t\t\tdependentModule,\n\t\t\t\t\t\t\t\t\tisOptional(),\n\t\t\t\t\t\t\t\t\tmodule,\n\t\t\t\t\t\t\t\t\tdependencies,\n\t\t\t\t\t\t\t\t\terr => {\n\t\t\t\t\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\t\t\t\t\tsemaphore.release();\n\t\t\t\t\t\t\t\t\t\t\treturn errorOrWarningAndCallback(err);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (currentProfile) {\n\t\t\t\t\t\t\t\t\t\t\tconst afterBuilding = Date.now();\n\t\t\t\t\t\t\t\t\t\t\tcurrentProfile.building = afterBuilding - afterFactory;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tsemaphore.release();\n\t\t\t\t\t\t\t\t\t\tafterBuild();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsemaphore.release();\n\t\t\t\t\t\t\t\tthis.waitForBuildingFinished(dependentModule, afterBuild);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t},\n\t\t\terr => {\n\t\t\t\t// In V8, the Error objects keep a reference to the functions on the stack. These warnings &\n\t\t\t\t// errors are created inside closures that keep a reference to the Compilation, so errors are\n\t\t\t\t// leaking the Compilation object.\n\n\t\t\t\tif (err) {\n\t\t\t\t\t// eslint-disable-next-line no-self-assign\n\t\t\t\t\terr.stack = err.stack;\n\t\t\t\t\treturn callback(err);\n\t\t\t\t}\n\n\t\t\t\treturn process.nextTick(callback);\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t *\n\t * @param {string} context context string path\n\t * @param {Dependency} dependency dependency used to create Module chain\n\t * @param {OnModuleCallback} onModule function invoked on modules creation\n\t * @param {ModuleChainCallback} callback callback for when module chain is complete\n\t * @returns {void} will throw if dependency instance is not a valid Dependency\n\t */\n\t_addModuleChain(context, dependency, onModule, callback) {\n\t\tconst start = this.profile && Date.now();\n\t\tconst currentProfile = this.profile && {};\n\n\t\tconst errorAndCallback = this.bail\n\t\t\t? err => {\n\t\t\t\t\tcallback(err);\n\t\t\t  }\n\t\t\t: err => {\n\t\t\t\t\terr.dependencies = [dependency];\n\t\t\t\t\tthis.errors.push(err);\n\t\t\t\t\tcallback();\n\t\t\t  };\n\n\t\tif (\n\t\t\ttypeof dependency !== \"object\" ||\n\t\t\tdependency === null ||\n\t\t\t!dependency.constructor\n\t\t) {\n\t\t\tthrow new Error(\"Parameter 'dependency' must be a Dependency\");\n\t\t}\n\t\tconst Dep = /** @type {DepConstructor} */ (dependency.constructor);\n\t\tconst moduleFactory = this.dependencyFactories.get(Dep);\n\t\tif (!moduleFactory) {\n\t\t\tthrow new Error(\n\t\t\t\t`No dependency factory available for this dependency type: ${dependency.constructor.name}`\n\t\t\t);\n\t\t}\n\n\t\tthis.semaphore.acquire(() => {\n\t\t\tmoduleFactory.create(\n\t\t\t\t{\n\t\t\t\t\tcontextInfo: {\n\t\t\t\t\t\tissuer: \"\",\n\t\t\t\t\t\tcompiler: this.compiler.name\n\t\t\t\t\t},\n\t\t\t\t\tcontext: context,\n\t\t\t\t\tdependencies: [dependency]\n\t\t\t\t},\n\t\t\t\t(err, module) => {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\tthis.semaphore.release();\n\t\t\t\t\t\treturn errorAndCallback(new EntryModuleNotFoundError(err));\n\t\t\t\t\t}\n\n\t\t\t\t\tlet afterFactory;\n\n\t\t\t\t\tif (currentProfile) {\n\t\t\t\t\t\tafterFactory = Date.now();\n\t\t\t\t\t\tcurrentProfile.factory = afterFactory - start;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst addModuleResult = this.addModule(module);\n\t\t\t\t\tmodule = addModuleResult.module;\n\n\t\t\t\t\tonModule(module);\n\n\t\t\t\t\tdependency.module = module;\n\t\t\t\t\tmodule.addReason(null, dependency);\n\n\t\t\t\t\tconst afterBuild = () => {\n\t\t\t\t\t\tif (addModuleResult.dependencies) {\n\t\t\t\t\t\t\tthis.processModuleDependencies(module, err => {\n\t\t\t\t\t\t\t\tif (err) return callback(err);\n\t\t\t\t\t\t\t\tcallback(null, module);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn callback(null, module);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tif (addModuleResult.issuer) {\n\t\t\t\t\t\tif (currentProfile) {\n\t\t\t\t\t\t\tmodule.profile = currentProfile;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (addModuleResult.build) {\n\t\t\t\t\t\tthis.buildModule(module, false, null, null, err => {\n\t\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\t\tthis.semaphore.release();\n\t\t\t\t\t\t\t\treturn errorAndCallback(err);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (currentProfile) {\n\t\t\t\t\t\t\t\tconst afterBuilding = Date.now();\n\t\t\t\t\t\t\t\tcurrentProfile.building = afterBuilding - afterFactory;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.semaphore.release();\n\t\t\t\t\t\t\tafterBuild();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.semaphore.release();\n\t\t\t\t\t\tthis.waitForBuildingFinished(module, afterBuild);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t}\n\n\t/**\n\t *\n\t * @param {string} context context path for entry\n\t * @param {Dependency} entry entry dependency being created\n\t * @param {string} name name of entry\n\t * @param {ModuleCallback} callback callback function\n\t * @returns {void} returns\n\t */\n\taddEntry(context, entry, name, callback) {\n\t\tthis.hooks.addEntry.call(entry, name);\n\n\t\tconst slot = {\n\t\t\tname: name,\n\t\t\t// TODO webpack 5 remove `request`\n\t\t\trequest: null,\n\t\t\tmodule: null\n\t\t};\n\n\t\tif (entry instanceof ModuleDependency) {\n\t\t\tslot.request = entry.request;\n\t\t}\n\n\t\t// TODO webpack 5: merge modules instead when multiple entry modules are supported\n\t\tconst idx = this._preparedEntrypoints.findIndex(slot => slot.name === name);\n\t\tif (idx >= 0) {\n\t\t\t// Overwrite existing entrypoint\n\t\t\tthis._preparedEntrypoints[idx] = slot;\n\t\t} else {\n\t\t\tthis._preparedEntrypoints.push(slot);\n\t\t}\n\t\tthis._addModuleChain(\n\t\t\tcontext,\n\t\t\tentry,\n\t\t\tmodule => {\n\t\t\t\tthis.entries.push(module);\n\t\t\t},\n\t\t\t(err, module) => {\n\t\t\t\tif (err) {\n\t\t\t\t\tthis.hooks.failedEntry.call(entry, name, err);\n\t\t\t\t\treturn callback(err);\n\t\t\t\t}\n\n\t\t\t\tif (module) {\n\t\t\t\t\tslot.module = module;\n\t\t\t\t} else {\n\t\t\t\t\tconst idx = this._preparedEntrypoints.indexOf(slot);\n\t\t\t\t\tif (idx >= 0) {\n\t\t\t\t\t\tthis._preparedEntrypoints.splice(idx, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.hooks.succeedEntry.call(entry, name, module);\n\t\t\t\treturn callback(null, module);\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * @param {string} context context path string\n\t * @param {Dependency} dependency dep used to create module\n\t * @param {ModuleCallback} callback module callback sending module up a level\n\t * @returns {void}\n\t */\n\tprefetch(context, dependency, callback) {\n\t\tthis._addModuleChain(\n\t\t\tcontext,\n\t\t\tdependency,\n\t\t\tmodule => {\n\t\t\t\tmodule.prefetched = true;\n\t\t\t},\n\t\t\tcallback\n\t\t);\n\t}\n\n\t/**\n\t * @param {Module} module module to be rebuilt\n\t * @param {Callback} thisCallback callback when module finishes rebuilding\n\t * @returns {void}\n\t */\n\trebuildModule(module, thisCallback) {\n\t\tlet callbackList = this._rebuildingModules.get(module);\n\t\tif (callbackList) {\n\t\t\tcallbackList.push(thisCallback);\n\t\t\treturn;\n\t\t}\n\t\tthis._rebuildingModules.set(module, (callbackList = [thisCallback]));\n\n\t\tconst callback = err => {\n\t\t\tthis._rebuildingModules.delete(module);\n\t\t\tfor (const cb of callbackList) {\n\t\t\t\tcb(err);\n\t\t\t}\n\t\t};\n\n\t\tthis.hooks.rebuildModule.call(module);\n\t\tconst oldDependencies = module.dependencies.slice();\n\t\tconst oldVariables = module.variables.slice();\n\t\tconst oldBlocks = module.blocks.slice();\n\t\tmodule.unbuild();\n\t\tthis.buildModule(module, false, module, null, err => {\n\t\t\tif (err) {\n\t\t\t\tthis.hooks.finishRebuildingModule.call(module);\n\t\t\t\treturn callback(err);\n\t\t\t}\n\n\t\t\tthis.processModuleDependencies(module, err => {\n\t\t\t\tif (err) return callback(err);\n\t\t\t\tthis.removeReasonsOfDependencyBlock(module, {\n\t\t\t\t\tdependencies: oldDependencies,\n\t\t\t\t\tvariables: oldVariables,\n\t\t\t\t\tblocks: oldBlocks\n\t\t\t\t});\n\t\t\t\tthis.hooks.finishRebuildingModule.call(module);\n\t\t\t\tcallback();\n\t\t\t});\n\t\t});\n\t}\n\n\tfinish(callback) {\n\t\tconst modules = this.modules;\n\t\tthis.hooks.finishModules.callAsync(modules, err => {\n\t\t\tif (err) return callback(err);\n\n\t\t\tfor (let index = 0; index < modules.length; index++) {\n\t\t\t\tconst module = modules[index];\n\t\t\t\tthis.reportDependencyErrorsAndWarnings(module, [module]);\n\t\t\t}\n\n\t\t\tcallback();\n\t\t});\n\t}\n\n\tunseal() {\n\t\tthis.hooks.unseal.call();\n\t\tthis.chunks.length = 0;\n\t\tthis.chunkGroups.length = 0;\n\t\tthis.namedChunks.clear();\n\t\tthis.namedChunkGroups.clear();\n\t\tthis.additionalChunkAssets.length = 0;\n\t\tthis.assets = {};\n\t\tthis.assetsInfo.clear();\n\t\tfor (const module of this.modules) {\n\t\t\tmodule.unseal();\n\t\t}\n\t}\n\n\t/**\n\t * @param {Callback} callback signals when the seal method is finishes\n\t * @returns {void}\n\t */\n\tseal(callback) {\n\t\tthis.hooks.seal.call();\n\n\t\twhile (\n\t\t\tthis.hooks.optimizeDependenciesBasic.call(this.modules) ||\n\t\t\tthis.hooks.optimizeDependencies.call(this.modules) ||\n\t\t\tthis.hooks.optimizeDependenciesAdvanced.call(this.modules)\n\t\t) {\n\t\t\t/* empty */\n\t\t}\n\t\tthis.hooks.afterOptimizeDependencies.call(this.modules);\n\n\t\tthis.hooks.beforeChunks.call();\n\t\tfor (const preparedEntrypoint of this._preparedEntrypoints) {\n\t\t\tconst module = preparedEntrypoint.module;\n\t\t\tconst name = preparedEntrypoint.name;\n\t\t\tconst chunk = this.addChunk(name);\n\t\t\tconst entrypoint = new Entrypoint(name);\n\t\t\tentrypoint.setRuntimeChunk(chunk);\n\t\t\tentrypoint.addOrigin(null, name, preparedEntrypoint.request);\n\t\t\tthis.namedChunkGroups.set(name, entrypoint);\n\t\t\tthis.entrypoints.set(name, entrypoint);\n\t\t\tthis.chunkGroups.push(entrypoint);\n\n\t\t\tGraphHelpers.connectChunkGroupAndChunk(entrypoint, chunk);\n\t\t\tGraphHelpers.connectChunkAndModule(chunk, module);\n\n\t\t\tchunk.entryModule = module;\n\t\t\tchunk.name = name;\n\n\t\t\tthis.assignDepth(module);\n\t\t}\n\t\tbuildChunkGraph(\n\t\t\tthis,\n\t\t\t/** @type {Entrypoint[]} */ (this.chunkGroups.slice())\n\t\t);\n\t\tthis.sortModules(this.modules);\n\t\tthis.hooks.afterChunks.call(this.chunks);\n\n\t\tthis.hooks.optimize.call();\n\n\t\twhile (\n\t\t\tthis.hooks.optimizeModulesBasic.call(this.modules) ||\n\t\t\tthis.hooks.optimizeModules.call(this.modules) ||\n\t\t\tthis.hooks.optimizeModulesAdvanced.call(this.modules)\n\t\t) {\n\t\t\t/* empty */\n\t\t}\n\t\tthis.hooks.afterOptimizeModules.call(this.modules);\n\n\t\twhile (\n\t\t\tthis.hooks.optimizeChunksBasic.call(this.chunks, this.chunkGroups) ||\n\t\t\tthis.hooks.optimizeChunks.call(this.chunks, this.chunkGroups) ||\n\t\t\tthis.hooks.optimizeChunksAdvanced.call(this.chunks, this.chunkGroups)\n\t\t) {\n\t\t\t/* empty */\n\t\t}\n\t\tthis.hooks.afterOptimizeChunks.call(this.chunks, this.chunkGroups);\n\n\t\tthis.hooks.optimizeTree.callAsync(this.chunks, this.modules, err => {\n\t\t\tif (err) {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\n\t\t\tthis.hooks.afterOptimizeTree.call(this.chunks, this.modules);\n\n\t\t\twhile (\n\t\t\t\tthis.hooks.optimizeChunkModulesBasic.call(this.chunks, this.modules) ||\n\t\t\t\tthis.hooks.optimizeChunkModules.call(this.chunks, this.modules) ||\n\t\t\t\tthis.hooks.optimizeChunkModulesAdvanced.call(this.chunks, this.modules)\n\t\t\t) {\n\t\t\t\t/* empty */\n\t\t\t}\n\t\t\tthis.hooks.afterOptimizeChunkModules.call(this.chunks, this.modules);\n\n\t\t\tconst shouldRecord = this.hooks.shouldRecord.call() !== false;\n\n\t\t\tthis.hooks.reviveModules.call(this.modules, this.records);\n\t\t\tthis.hooks.optimizeModuleOrder.call(this.modules);\n\t\t\tthis.hooks.advancedOptimizeModuleOrder.call(this.modules);\n\t\t\tthis.hooks.beforeModuleIds.call(this.modules);\n\t\t\tthis.hooks.moduleIds.call(this.modules);\n\t\t\tthis.applyModuleIds();\n\t\t\tthis.hooks.optimizeModuleIds.call(this.modules);\n\t\t\tthis.hooks.afterOptimizeModuleIds.call(this.modules);\n\n\t\t\tthis.sortItemsWithModuleIds();\n\n\t\t\tthis.hooks.reviveChunks.call(this.chunks, this.records);\n\t\t\tthis.hooks.optimizeChunkOrder.call(this.chunks);\n\t\t\tthis.hooks.beforeChunkIds.call(this.chunks);\n\t\t\tthis.applyChunkIds();\n\t\t\tthis.hooks.optimizeChunkIds.call(this.chunks);\n\t\t\tthis.hooks.afterOptimizeChunkIds.call(this.chunks);\n\n\t\t\tthis.sortItemsWithChunkIds();\n\n\t\t\tif (shouldRecord) {\n\t\t\t\tthis.hooks.recordModules.call(this.modules, this.records);\n\t\t\t\tthis.hooks.recordChunks.call(this.chunks, this.records);\n\t\t\t}\n\n\t\t\tthis.hooks.beforeHash.call();\n\t\t\tthis.createHash();\n\t\t\tthis.hooks.afterHash.call();\n\n\t\t\tif (shouldRecord) {\n\t\t\t\tthis.hooks.recordHash.call(this.records);\n\t\t\t}\n\n\t\t\tthis.hooks.beforeModuleAssets.call();\n\t\t\tthis.createModuleAssets();\n\t\t\tif (this.hooks.shouldGenerateChunkAssets.call() !== false) {\n\t\t\t\tthis.hooks.beforeChunkAssets.call();\n\t\t\t\tthis.createChunkAssets();\n\t\t\t}\n\t\t\tthis.hooks.additionalChunkAssets.call(this.chunks);\n\t\t\tthis.summarizeDependencies();\n\t\t\tif (shouldRecord) {\n\t\t\t\tthis.hooks.record.call(this, this.records);\n\t\t\t}\n\n\t\t\tthis.hooks.additionalAssets.callAsync(err => {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn callback(err);\n\t\t\t\t}\n\t\t\t\tthis.hooks.optimizeChunkAssets.callAsync(this.chunks, err => {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\treturn callback(err);\n\t\t\t\t\t}\n\t\t\t\t\tthis.hooks.afterOptimizeChunkAssets.call(this.chunks);\n\t\t\t\t\tthis.hooks.optimizeAssets.callAsync(this.assets, err => {\n\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\treturn callback(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.hooks.afterOptimizeAssets.call(this.assets);\n\t\t\t\t\t\tif (this.hooks.needAdditionalSeal.call()) {\n\t\t\t\t\t\t\tthis.unseal();\n\t\t\t\t\t\t\treturn this.seal(callback);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn this.hooks.afterSeal.callAsync(callback);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * @param {Module[]} modules the modules array on compilation to perform the sort for\n\t * @returns {void}\n\t */\n\tsortModules(modules) {\n\t\t// TODO webpack 5: this should only be enabled when `moduleIds: \"natural\"`\n\t\t// TODO move it into a plugin (NaturalModuleIdsPlugin) and use this in WebpackOptionsApply\n\t\t// TODO remove this method\n\t\tmodules.sort(byIndexOrIdentifier);\n\t}\n\n\t/**\n\t * @param {Module} module moulde to report from\n\t * @param {DependenciesBlock[]} blocks blocks to report from\n\t * @returns {void}\n\t */\n\treportDependencyErrorsAndWarnings(module, blocks) {\n\t\tfor (let indexBlock = 0; indexBlock < blocks.length; indexBlock++) {\n\t\t\tconst block = blocks[indexBlock];\n\t\t\tconst dependencies = block.dependencies;\n\n\t\t\tfor (let indexDep = 0; indexDep < dependencies.length; indexDep++) {\n\t\t\t\tconst d = dependencies[indexDep];\n\n\t\t\t\tconst warnings = d.getWarnings();\n\t\t\t\tif (warnings) {\n\t\t\t\t\tfor (let indexWar = 0; indexWar < warnings.length; indexWar++) {\n\t\t\t\t\t\tconst w = warnings[indexWar];\n\n\t\t\t\t\t\tconst warning = new ModuleDependencyWarning(module, w, d.loc);\n\t\t\t\t\t\tthis.warnings.push(warning);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst errors = d.getErrors();\n\t\t\t\tif (errors) {\n\t\t\t\t\tfor (let indexErr = 0; indexErr < errors.length; indexErr++) {\n\t\t\t\t\t\tconst e = errors[indexErr];\n\n\t\t\t\t\t\tconst error = new ModuleDependencyError(module, e, d.loc);\n\t\t\t\t\t\tthis.errors.push(error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.reportDependencyErrorsAndWarnings(module, block.blocks);\n\t\t}\n\t}\n\n\t/**\n\t * @param {TODO} groupOptions options for the chunk group\n\t * @param {Module} module the module the references the chunk group\n\t * @param {DependencyLocation} loc the location from with the chunk group is referenced (inside of module)\n\t * @param {string} request the request from which the the chunk group is referenced\n\t * @returns {ChunkGroup} the new or existing chunk group\n\t */\n\taddChunkInGroup(groupOptions, module, loc, request) {\n\t\tif (typeof groupOptions === \"string\") {\n\t\t\tgroupOptions = { name: groupOptions };\n\t\t}\n\t\tconst name = groupOptions.name;\n\t\tif (name) {\n\t\t\tconst chunkGroup = this.namedChunkGroups.get(name);\n\t\t\tif (chunkGroup !== undefined) {\n\t\t\t\tchunkGroup.addOptions(groupOptions);\n\t\t\t\tif (module) {\n\t\t\t\t\tchunkGroup.addOrigin(module, loc, request);\n\t\t\t\t}\n\t\t\t\treturn chunkGroup;\n\t\t\t}\n\t\t}\n\t\tconst chunkGroup = new ChunkGroup(groupOptions);\n\t\tif (module) chunkGroup.addOrigin(module, loc, request);\n\t\tconst chunk = this.addChunk(name);\n\n\t\tGraphHelpers.connectChunkGroupAndChunk(chunkGroup, chunk);\n\n\t\tthis.chunkGroups.push(chunkGroup);\n\t\tif (name) {\n\t\t\tthis.namedChunkGroups.set(name, chunkGroup);\n\t\t}\n\t\treturn chunkGroup;\n\t}\n\n\t/**\n\t * This method first looks to see if a name is provided for a new chunk,\n\t * and first looks to see if any named chunks already exist and reuse that chunk instead.\n\t *\n\t * @param {string=} name optional chunk name to be provided\n\t * @returns {Chunk} create a chunk (invoked during seal event)\n\t */\n\taddChunk(name) {\n\t\tif (name) {\n\t\t\tconst chunk = this.namedChunks.get(name);\n\t\t\tif (chunk !== undefined) {\n\t\t\t\treturn chunk;\n\t\t\t}\n\t\t}\n\t\tconst chunk = new Chunk(name);\n\t\tthis.chunks.push(chunk);\n\t\tif (name) {\n\t\t\tthis.namedChunks.set(name, chunk);\n\t\t}\n\t\treturn chunk;\n\t}\n\n\t/**\n\t * @param {Module} module module to assign depth\n\t * @returns {void}\n\t */\n\tassignDepth(module) {\n\t\tconst queue = new Set([module]);\n\t\tlet depth;\n\n\t\tmodule.depth = 0;\n\n\t\t/**\n\t\t * @param {Module} module module for processeing\n\t\t * @returns {void}\n\t\t */\n\t\tconst enqueueJob = module => {\n\t\t\tconst d = module.depth;\n\t\t\tif (typeof d === \"number\" && d <= depth) return;\n\t\t\tqueue.add(module);\n\t\t\tmodule.depth = depth;\n\t\t};\n\n\t\t/**\n\t\t * @param {Dependency} dependency dependency to assign depth to\n\t\t * @returns {void}\n\t\t */\n\t\tconst assignDepthToDependency = dependency => {\n\t\t\tif (dependency.module) {\n\t\t\t\tenqueueJob(dependency.module);\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * @param {DependenciesBlock} block block to assign depth to\n\t\t * @returns {void}\n\t\t */\n\t\tconst assignDepthToDependencyBlock = block => {\n\t\t\tif (block.variables) {\n\t\t\t\titerationBlockVariable(block.variables, assignDepthToDependency);\n\t\t\t}\n\n\t\t\tif (block.dependencies) {\n\t\t\t\titerationOfArrayCallback(block.dependencies, assignDepthToDependency);\n\t\t\t}\n\n\t\t\tif (block.blocks) {\n\t\t\t\titerationOfArrayCallback(block.blocks, assignDepthToDependencyBlock);\n\t\t\t}\n\t\t};\n\n\t\tfor (module of queue) {\n\t\t\tqueue.delete(module);\n\t\t\tdepth = module.depth;\n\n\t\t\tdepth++;\n\t\t\tassignDepthToDependencyBlock(module);\n\t\t}\n\t}\n\n\t/**\n\t * @param {Module} module the module containing the dependency\n\t * @param {Dependency} dependency the dependency\n\t * @returns {DependencyReference} a reference for the dependency\n\t */\n\tgetDependencyReference(module, dependency) {\n\t\t// TODO remove dep.getReference existence check in webpack 5\n\t\tif (typeof dependency.getReference !== \"function\") return null;\n\t\tconst ref = dependency.getReference();\n\t\tif (!ref) return null;\n\t\treturn this.hooks.dependencyReference.call(ref, dependency, module);\n\t}\n\n\t/**\n\t *\n\t * @param {Module} module module relationship for removal\n\t * @param {DependenciesBlockLike} block //TODO: good description\n\t * @returns {void}\n\t */\n\tremoveReasonsOfDependencyBlock(module, block) {\n\t\tconst iteratorDependency = d => {\n\t\t\tif (!d.module) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (d.module.removeReason(module, d)) {\n\t\t\t\tfor (const chunk of d.module.chunksIterable) {\n\t\t\t\t\tthis.patchChunksAfterReasonRemoval(d.module, chunk);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (block.blocks) {\n\t\t\titerationOfArrayCallback(block.blocks, block =>\n\t\t\t\tthis.removeReasonsOfDependencyBlock(module, block)\n\t\t\t);\n\t\t}\n\n\t\tif (block.dependencies) {\n\t\t\titerationOfArrayCallback(block.dependencies, iteratorDependency);\n\t\t}\n\n\t\tif (block.variables) {\n\t\t\titerationBlockVariable(block.variables, iteratorDependency);\n\t\t}\n\t}\n\n\t/**\n\t * @param {Module} module module to patch tie\n\t * @param {Chunk} chunk chunk to patch tie\n\t * @returns {void}\n\t */\n\tpatchChunksAfterReasonRemoval(module, chunk) {\n\t\tif (!module.hasReasons()) {\n\t\t\tthis.removeReasonsOfDependencyBlock(module, module);\n\t\t}\n\t\tif (!module.hasReasonForChunk(chunk)) {\n\t\t\tif (module.removeChunk(chunk)) {\n\t\t\t\tthis.removeChunkFromDependencies(module, chunk);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @param {DependenciesBlock} block block tie for Chunk\n\t * @param {Chunk} chunk chunk to remove from dep\n\t * @returns {void}\n\t */\n\tremoveChunkFromDependencies(block, chunk) {\n\t\tconst iteratorDependency = d => {\n\t\t\tif (!d.module) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.patchChunksAfterReasonRemoval(d.module, chunk);\n\t\t};\n\n\t\tconst blocks = block.blocks;\n\t\tfor (let indexBlock = 0; indexBlock < blocks.length; indexBlock++) {\n\t\t\tconst asyncBlock = blocks[indexBlock];\n\t\t\t// Grab all chunks from the first Block's AsyncDepBlock\n\t\t\tconst chunks = asyncBlock.chunkGroup.chunks;\n\t\t\t// For each chunk in chunkGroup\n\t\t\tfor (let indexChunk = 0; indexChunk < chunks.length; indexChunk++) {\n\t\t\t\tconst iteratedChunk = chunks[indexChunk];\n\t\t\t\tasyncBlock.chunkGroup.removeChunk(iteratedChunk);\n\t\t\t\tasyncBlock.chunkGroup.removeParent(iteratedChunk);\n\t\t\t\t// Recurse\n\t\t\t\tthis.removeChunkFromDependencies(block, iteratedChunk);\n\t\t\t}\n\t\t}\n\n\t\tif (block.dependencies) {\n\t\t\titerationOfArrayCallback(block.dependencies, iteratorDependency);\n\t\t}\n\n\t\tif (block.variables) {\n\t\t\titerationBlockVariable(block.variables, iteratorDependency);\n\t\t}\n\t}\n\n\tapplyModuleIds() {\n\t\tconst unusedIds = [];\n\t\tlet nextFreeModuleId = 0;\n\t\tconst usedIds = new Set();\n\t\tif (this.usedModuleIds) {\n\t\t\tfor (const id of this.usedModuleIds) {\n\t\t\t\tusedIds.add(id);\n\t\t\t}\n\t\t}\n\n\t\tconst modules1 = this.modules;\n\t\tfor (let indexModule1 = 0; indexModule1 < modules1.length; indexModule1++) {\n\t\t\tconst module1 = modules1[indexModule1];\n\t\t\tif (module1.id !== null) {\n\t\t\t\tusedIds.add(module1.id);\n\t\t\t}\n\t\t}\n\n\t\tif (usedIds.size > 0) {\n\t\t\tlet usedIdMax = -1;\n\t\t\tfor (const usedIdKey of usedIds) {\n\t\t\t\tif (typeof usedIdKey !== \"number\") {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tusedIdMax = Math.max(usedIdMax, usedIdKey);\n\t\t\t}\n\n\t\t\tlet lengthFreeModules = (nextFreeModuleId = usedIdMax + 1);\n\n\t\t\twhile (lengthFreeModules--) {\n\t\t\t\tif (!usedIds.has(lengthFreeModules)) {\n\t\t\t\t\tunusedIds.push(lengthFreeModules);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst modules2 = this.modules;\n\t\tfor (let indexModule2 = 0; indexModule2 < modules2.length; indexModule2++) {\n\t\t\tconst module2 = modules2[indexModule2];\n\t\t\tif (module2.id === null) {\n\t\t\t\tif (unusedIds.length > 0) {\n\t\t\t\t\tmodule2.id = unusedIds.pop();\n\t\t\t\t} else {\n\t\t\t\t\tmodule2.id = nextFreeModuleId++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tapplyChunkIds() {\n\t\t/** @type {Set<number>} */\n\t\tconst usedIds = new Set();\n\n\t\t// Get used ids from usedChunkIds property (i. e. from records)\n\t\tif (this.usedChunkIds) {\n\t\t\tfor (const id of this.usedChunkIds) {\n\t\t\t\tif (typeof id !== \"number\") {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tusedIds.add(id);\n\t\t\t}\n\t\t}\n\n\t\t// Get used ids from existing chunks\n\t\tconst chunks = this.chunks;\n\t\tfor (let indexChunk = 0; indexChunk < chunks.length; indexChunk++) {\n\t\t\tconst chunk = chunks[indexChunk];\n\t\t\tconst usedIdValue = chunk.id;\n\n\t\t\tif (typeof usedIdValue !== \"number\") {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tusedIds.add(usedIdValue);\n\t\t}\n\n\t\t// Calculate maximum assigned chunk id\n\t\tlet nextFreeChunkId = -1;\n\t\tfor (const id of usedIds) {\n\t\t\tnextFreeChunkId = Math.max(nextFreeChunkId, id);\n\t\t}\n\t\tnextFreeChunkId++;\n\n\t\t// Determine free chunk ids from 0 to maximum\n\t\t/** @type {number[]} */\n\t\tconst unusedIds = [];\n\t\tif (nextFreeChunkId > 0) {\n\t\t\tlet index = nextFreeChunkId;\n\t\t\twhile (index--) {\n\t\t\t\tif (!usedIds.has(index)) {\n\t\t\t\t\tunusedIds.push(index);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Assign ids to chunk which has no id\n\t\tfor (let indexChunk = 0; indexChunk < chunks.length; indexChunk++) {\n\t\t\tconst chunk = chunks[indexChunk];\n\t\t\tif (chunk.id === null) {\n\t\t\t\tif (unusedIds.length > 0) {\n\t\t\t\t\tchunk.id = unusedIds.pop();\n\t\t\t\t} else {\n\t\t\t\t\tchunk.id = nextFreeChunkId++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!chunk.ids) {\n\t\t\t\tchunk.ids = [chunk.id];\n\t\t\t}\n\t\t}\n\t}\n\n\tsortItemsWithModuleIds() {\n\t\tthis.modules.sort(byIdOrIdentifier);\n\n\t\tconst modules = this.modules;\n\t\tfor (let indexModule = 0; indexModule < modules.length; indexModule++) {\n\t\t\tmodules[indexModule].sortItems(false);\n\t\t}\n\n\t\tconst chunks = this.chunks;\n\t\tfor (let indexChunk = 0; indexChunk < chunks.length; indexChunk++) {\n\t\t\tchunks[indexChunk].sortItems();\n\t\t}\n\n\t\tchunks.sort((a, b) => a.compareTo(b));\n\t}\n\n\tsortItemsWithChunkIds() {\n\t\tfor (const chunkGroup of this.chunkGroups) {\n\t\t\tchunkGroup.sortItems();\n\t\t}\n\n\t\tthis.chunks.sort(byId);\n\n\t\tfor (\n\t\t\tlet indexModule = 0;\n\t\t\tindexModule < this.modules.length;\n\t\t\tindexModule++\n\t\t) {\n\t\t\tthis.modules[indexModule].sortItems(true);\n\t\t}\n\n\t\tconst chunks = this.chunks;\n\t\tfor (let indexChunk = 0; indexChunk < chunks.length; indexChunk++) {\n\t\t\tchunks[indexChunk].sortItems();\n\t\t}\n\n\t\t/**\n\t\t * Used to sort errors and warnings in compilation. this.warnings, and\n\t\t * this.errors contribute to the compilation hash and therefore should be\n\t\t * updated whenever other references (having a chunk id) are sorted. This preserves the hash\n\t\t * integrity\n\t\t *\n\t\t * @param {WebpackError} a first WebpackError instance (including subclasses)\n\t\t * @param {WebpackError} b second WebpackError instance (including subclasses)\n\t\t * @returns {-1|0|1} sort order index\n\t\t */\n\t\tconst byMessage = (a, b) => {\n\t\t\tconst ma = `${a.message}`;\n\t\t\tconst mb = `${b.message}`;\n\t\t\tif (ma < mb) return -1;\n\t\t\tif (mb < ma) return 1;\n\t\t\treturn 0;\n\t\t};\n\n\t\tthis.errors.sort(byMessage);\n\t\tthis.warnings.sort(byMessage);\n\t\tthis.children.sort(byNameOrHash);\n\t}\n\n\tsummarizeDependencies() {\n\t\tthis.fileDependencies = new SortableSet(this.compilationDependencies);\n\t\tthis.contextDependencies = new SortableSet();\n\t\tthis.missingDependencies = new SortableSet();\n\n\t\tfor (\n\t\t\tlet indexChildren = 0;\n\t\t\tindexChildren < this.children.length;\n\t\t\tindexChildren++\n\t\t) {\n\t\t\tconst child = this.children[indexChildren];\n\n\t\t\taddAllToSet(this.fileDependencies, child.fileDependencies);\n\t\t\taddAllToSet(this.contextDependencies, child.contextDependencies);\n\t\t\taddAllToSet(this.missingDependencies, child.missingDependencies);\n\t\t}\n\n\t\tfor (\n\t\t\tlet indexModule = 0;\n\t\t\tindexModule < this.modules.length;\n\t\t\tindexModule++\n\t\t) {\n\t\t\tconst module = this.modules[indexModule];\n\n\t\t\tif (module.buildInfo.fileDependencies) {\n\t\t\t\taddAllToSet(this.fileDependencies, module.buildInfo.fileDependencies);\n\t\t\t}\n\t\t\tif (module.buildInfo.contextDependencies) {\n\t\t\t\taddAllToSet(\n\t\t\t\t\tthis.contextDependencies,\n\t\t\t\t\tmodule.buildInfo.contextDependencies\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tfor (const error of this.errors) {\n\t\t\tif (\n\t\t\t\ttypeof error.missing === \"object\" &&\n\t\t\t\terror.missing &&\n\t\t\t\terror.missing[Symbol.iterator]\n\t\t\t) {\n\t\t\t\taddAllToSet(this.missingDependencies, error.missing);\n\t\t\t}\n\t\t}\n\t\tthis.fileDependencies.sort();\n\t\tthis.contextDependencies.sort();\n\t\tthis.missingDependencies.sort();\n\t}\n\n\tcreateHash() {\n\t\tconst outputOptions = this.outputOptions;\n\t\tconst hashFunction = outputOptions.hashFunction;\n\t\tconst hashDigest = outputOptions.hashDigest;\n\t\tconst hashDigestLength = outputOptions.hashDigestLength;\n\t\tconst hash = createHash(hashFunction);\n\t\tif (outputOptions.hashSalt) {\n\t\t\thash.update(outputOptions.hashSalt);\n\t\t}\n\t\tthis.mainTemplate.updateHash(hash);\n\t\tthis.chunkTemplate.updateHash(hash);\n\t\tfor (const key of Object.keys(this.moduleTemplates).sort()) {\n\t\t\tthis.moduleTemplates[key].updateHash(hash);\n\t\t}\n\t\tfor (const child of this.children) {\n\t\t\thash.update(child.hash);\n\t\t}\n\t\tfor (const warning of this.warnings) {\n\t\t\thash.update(`${warning.message}`);\n\t\t}\n\t\tfor (const error of this.errors) {\n\t\t\thash.update(`${error.message}`);\n\t\t}\n\t\tconst modules = this.modules;\n\t\tfor (let i = 0; i < modules.length; i++) {\n\t\t\tconst module = modules[i];\n\t\t\tconst moduleHash = createHash(hashFunction);\n\t\t\tmodule.updateHash(moduleHash);\n\t\t\tmodule.hash = /** @type {string} */ (moduleHash.digest(hashDigest));\n\t\t\tmodule.renderedHash = module.hash.substr(0, hashDigestLength);\n\t\t}\n\t\t// clone needed as sort below is inplace mutation\n\t\tconst chunks = this.chunks.slice();\n\t\t/**\n\t\t * sort here will bring all \"falsy\" values to the beginning\n\t\t * this is needed as the \"hasRuntime()\" chunks are dependent on the\n\t\t * hashes of the non-runtime chunks.\n\t\t */\n\t\tchunks.sort((a, b) => {\n\t\t\tconst aEntry = a.hasRuntime();\n\t\t\tconst bEntry = b.hasRuntime();\n\t\t\tif (aEntry && !bEntry) return 1;\n\t\t\tif (!aEntry && bEntry) return -1;\n\t\t\treturn byId(a, b);\n\t\t});\n\t\tfor (let i = 0; i < chunks.length; i++) {\n\t\t\tconst chunk = chunks[i];\n\t\t\tconst chunkHash = createHash(hashFunction);\n\t\t\ttry {\n\t\t\t\tif (outputOptions.hashSalt) {\n\t\t\t\t\tchunkHash.update(outputOptions.hashSalt);\n\t\t\t\t}\n\t\t\t\tchunk.updateHash(chunkHash);\n\t\t\t\tconst template = chunk.hasRuntime()\n\t\t\t\t\t? this.mainTemplate\n\t\t\t\t\t: this.chunkTemplate;\n\t\t\t\ttemplate.updateHashForChunk(\n\t\t\t\t\tchunkHash,\n\t\t\t\t\tchunk,\n\t\t\t\t\tthis.moduleTemplates.javascript,\n\t\t\t\t\tthis.dependencyTemplates\n\t\t\t\t);\n\t\t\t\tthis.hooks.chunkHash.call(chunk, chunkHash);\n\t\t\t\tchunk.hash = /** @type {string} */ (chunkHash.digest(hashDigest));\n\t\t\t\thash.update(chunk.hash);\n\t\t\t\tchunk.renderedHash = chunk.hash.substr(0, hashDigestLength);\n\t\t\t\tthis.hooks.contentHash.call(chunk);\n\t\t\t} catch (err) {\n\t\t\t\tthis.errors.push(new ChunkRenderError(chunk, \"\", err));\n\t\t\t}\n\t\t}\n\t\tthis.fullHash = /** @type {string} */ (hash.digest(hashDigest));\n\t\tthis.hash = this.fullHash.substr(0, hashDigestLength);\n\t}\n\n\t/**\n\t * @param {string} update extra information\n\t * @returns {void}\n\t */\n\tmodifyHash(update) {\n\t\tconst outputOptions = this.outputOptions;\n\t\tconst hashFunction = outputOptions.hashFunction;\n\t\tconst hashDigest = outputOptions.hashDigest;\n\t\tconst hashDigestLength = outputOptions.hashDigestLength;\n\t\tconst hash = createHash(hashFunction);\n\t\thash.update(this.fullHash);\n\t\thash.update(update);\n\t\tthis.fullHash = /** @type {string} */ (hash.digest(hashDigest));\n\t\tthis.hash = this.fullHash.substr(0, hashDigestLength);\n\t}\n\n\t/**\n\t * @param {string} file file name\n\t * @param {Source} source asset source\n\t * @param {AssetInfo} assetInfo extra asset information\n\t * @returns {void}\n\t */\n\temitAsset(file, source, assetInfo = {}) {\n\t\tif (this.assets[file]) {\n\t\t\tif (!isSourceEqual(this.assets[file], source)) {\n\t\t\t\t// TODO webpack 5: make this an error instead\n\t\t\t\tthis.warnings.push(\n\t\t\t\t\tnew WebpackError(\n\t\t\t\t\t\t`Conflict: Multiple assets emit different content to the same filename ${file}`\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tthis.assets[file] = source;\n\t\t\t\tthis.assetsInfo.set(file, assetInfo);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst oldInfo = this.assetsInfo.get(file);\n\t\t\tthis.assetsInfo.set(file, Object.assign({}, oldInfo, assetInfo));\n\t\t\treturn;\n\t\t}\n\t\tthis.assets[file] = source;\n\t\tthis.assetsInfo.set(file, assetInfo);\n\t}\n\n\t/**\n\t * @param {string} file file name\n\t * @param {Source | function(Source): Source} newSourceOrFunction new asset source or function converting old to new\n\t * @param {AssetInfo | function(AssetInfo | undefined): AssetInfo} assetInfoUpdateOrFunction new asset info or function converting old to new\n\t */\n\tupdateAsset(\n\t\tfile,\n\t\tnewSourceOrFunction,\n\t\tassetInfoUpdateOrFunction = undefined\n\t) {\n\t\tif (!this.assets[file]) {\n\t\t\tthrow new Error(\n\t\t\t\t`Called Compilation.updateAsset for not existing filename ${file}`\n\t\t\t);\n\t\t}\n\t\tif (typeof newSourceOrFunction === \"function\") {\n\t\t\tthis.assets[file] = newSourceOrFunction(this.assets[file]);\n\t\t} else {\n\t\t\tthis.assets[file] = newSourceOrFunction;\n\t\t}\n\t\tif (assetInfoUpdateOrFunction !== undefined) {\n\t\t\tconst oldInfo = this.assetsInfo.get(file);\n\t\t\tif (typeof assetInfoUpdateOrFunction === \"function\") {\n\t\t\t\tthis.assetsInfo.set(file, assetInfoUpdateOrFunction(oldInfo || {}));\n\t\t\t} else {\n\t\t\t\tthis.assetsInfo.set(\n\t\t\t\t\tfile,\n\t\t\t\t\tObject.assign({}, oldInfo, assetInfoUpdateOrFunction)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetAssets() {\n\t\t/** @type {Asset[]} */\n\t\tconst array = [];\n\t\tfor (const assetName of Object.keys(this.assets)) {\n\t\t\tif (Object.prototype.hasOwnProperty.call(this.assets, assetName)) {\n\t\t\t\tarray.push({\n\t\t\t\t\tname: assetName,\n\t\t\t\t\tsource: this.assets[assetName],\n\t\t\t\t\tinfo: this.assetsInfo.get(assetName) || {}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn array;\n\t}\n\n\t/**\n\t * @param {string} name the name of the asset\n\t * @returns {Asset | undefined} the asset or undefined when not found\n\t */\n\tgetAsset(name) {\n\t\tif (!Object.prototype.hasOwnProperty.call(this.assets, name))\n\t\t\treturn undefined;\n\t\treturn {\n\t\t\tname,\n\t\t\tsource: this.assets[name],\n\t\t\tinfo: this.assetsInfo.get(name) || {}\n\t\t};\n\t}\n\n\tcreateModuleAssets() {\n\t\tfor (let i = 0; i < this.modules.length; i++) {\n\t\t\tconst module = this.modules[i];\n\t\t\tif (module.buildInfo.assets) {\n\t\t\t\tconst assetsInfo = module.buildInfo.assetsInfo;\n\t\t\t\tfor (const assetName of Object.keys(module.buildInfo.assets)) {\n\t\t\t\t\tconst fileName = this.getPath(assetName);\n\t\t\t\t\tthis.emitAsset(\n\t\t\t\t\t\tfileName,\n\t\t\t\t\t\tmodule.buildInfo.assets[assetName],\n\t\t\t\t\t\tassetsInfo ? assetsInfo.get(assetName) : undefined\n\t\t\t\t\t);\n\t\t\t\t\tthis.hooks.moduleAsset.call(module, fileName);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tcreateChunkAssets() {\n\t\tconst outputOptions = this.outputOptions;\n\t\tconst cachedSourceMap = new Map();\n\t\t/** @type {Map<string, {hash: string, source: Source, chunk: Chunk}>} */\n\t\tconst alreadyWrittenFiles = new Map();\n\t\tfor (let i = 0; i < this.chunks.length; i++) {\n\t\t\tconst chunk = this.chunks[i];\n\t\t\tchunk.files = [];\n\t\t\tlet source;\n\t\t\tlet file;\n\t\t\tlet filenameTemplate;\n\t\t\ttry {\n\t\t\t\tconst template = chunk.hasRuntime()\n\t\t\t\t\t? this.mainTemplate\n\t\t\t\t\t: this.chunkTemplate;\n\t\t\t\tconst manifest = template.getRenderManifest({\n\t\t\t\t\tchunk,\n\t\t\t\t\thash: this.hash,\n\t\t\t\t\tfullHash: this.fullHash,\n\t\t\t\t\toutputOptions,\n\t\t\t\t\tmoduleTemplates: this.moduleTemplates,\n\t\t\t\t\tdependencyTemplates: this.dependencyTemplates\n\t\t\t\t}); // [{ render(), filenameTemplate, pathOptions, identifier, hash }]\n\t\t\t\tfor (const fileManifest of manifest) {\n\t\t\t\t\tconst cacheName = fileManifest.identifier;\n\t\t\t\t\tconst usedHash = fileManifest.hash;\n\t\t\t\t\tfilenameTemplate = fileManifest.filenameTemplate;\n\t\t\t\t\tconst pathAndInfo = this.getPathWithInfo(\n\t\t\t\t\t\tfilenameTemplate,\n\t\t\t\t\t\tfileManifest.pathOptions\n\t\t\t\t\t);\n\t\t\t\t\tfile = pathAndInfo.path;\n\t\t\t\t\tconst assetInfo = pathAndInfo.info;\n\n\t\t\t\t\t// check if the same filename was already written by another chunk\n\t\t\t\t\tconst alreadyWritten = alreadyWrittenFiles.get(file);\n\t\t\t\t\tif (alreadyWritten !== undefined) {\n\t\t\t\t\t\tif (alreadyWritten.hash === usedHash) {\n\t\t\t\t\t\t\tif (this.cache) {\n\t\t\t\t\t\t\t\tthis.cache[cacheName] = {\n\t\t\t\t\t\t\t\t\thash: usedHash,\n\t\t\t\t\t\t\t\t\tsource: alreadyWritten.source\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tchunk.files.push(file);\n\t\t\t\t\t\t\tthis.hooks.chunkAsset.call(chunk, file);\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t`Conflict: Multiple chunks emit assets to the same filename ${file}` +\n\t\t\t\t\t\t\t\t\t` (chunks ${alreadyWritten.chunk.id} and ${chunk.id})`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.cache &&\n\t\t\t\t\t\tthis.cache[cacheName] &&\n\t\t\t\t\t\tthis.cache[cacheName].hash === usedHash\n\t\t\t\t\t) {\n\t\t\t\t\t\tsource = this.cache[cacheName].source;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsource = fileManifest.render();\n\t\t\t\t\t\t// Ensure that source is a cached source to avoid additional cost because of repeated access\n\t\t\t\t\t\tif (!(source instanceof CachedSource)) {\n\t\t\t\t\t\t\tconst cacheEntry = cachedSourceMap.get(source);\n\t\t\t\t\t\t\tif (cacheEntry) {\n\t\t\t\t\t\t\t\tsource = cacheEntry;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst cachedSource = new CachedSource(source);\n\t\t\t\t\t\t\t\tcachedSourceMap.set(source, cachedSource);\n\t\t\t\t\t\t\t\tsource = cachedSource;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.cache) {\n\t\t\t\t\t\t\tthis.cache[cacheName] = {\n\t\t\t\t\t\t\t\thash: usedHash,\n\t\t\t\t\t\t\t\tsource\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.emitAsset(file, source, assetInfo);\n\t\t\t\t\tchunk.files.push(file);\n\t\t\t\t\tthis.hooks.chunkAsset.call(chunk, file);\n\t\t\t\t\talreadyWrittenFiles.set(file, {\n\t\t\t\t\t\thash: usedHash,\n\t\t\t\t\t\tsource,\n\t\t\t\t\t\tchunk\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tthis.errors.push(\n\t\t\t\t\tnew ChunkRenderError(chunk, file || filenameTemplate, err)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} filename used to get asset path with hash\n\t * @param {TODO=} data // TODO: figure out this param type\n\t * @returns {string} interpolated path\n\t */\n\tgetPath(filename, data) {\n\t\tdata = data || {};\n\t\tdata.hash = data.hash || this.hash;\n\t\treturn this.mainTemplate.getAssetPath(filename, data);\n\t}\n\n\t/**\n\t * @param {string} filename used to get asset path with hash\n\t * @param {TODO=} data // TODO: figure out this param type\n\t * @returns {{ path: string, info: AssetInfo }} interpolated path and asset info\n\t */\n\tgetPathWithInfo(filename, data) {\n\t\tdata = data || {};\n\t\tdata.hash = data.hash || this.hash;\n\t\treturn this.mainTemplate.getAssetPathWithInfo(filename, data);\n\t}\n\n\t/**\n\t * This function allows you to run another instance of webpack inside of webpack however as\n\t * a child with different settings and configurations (if desired) applied. It copies all hooks, plugins\n\t * from parent (or top level compiler) and creates a child Compilation\n\t *\n\t * @param {string} name name of the child compiler\n\t * @param {TODO} outputOptions // Need to convert config schema to types for this\n\t * @param {Plugin[]} plugins webpack plugins that will be applied\n\t * @returns {Compiler} creates a child Compiler instance\n\t */\n\tcreateChildCompiler(name, outputOptions, plugins) {\n\t\tconst idx = this.childrenCounters[name] || 0;\n\t\tthis.childrenCounters[name] = idx + 1;\n\t\treturn this.compiler.createChildCompiler(\n\t\t\tthis,\n\t\t\tname,\n\t\t\tidx,\n\t\t\toutputOptions,\n\t\t\tplugins\n\t\t);\n\t}\n\n\tcheckConstraints() {\n\t\t/** @type {Set<number|string>} */\n\t\tconst usedIds = new Set();\n\n\t\tconst modules = this.modules;\n\t\tfor (let indexModule = 0; indexModule < modules.length; indexModule++) {\n\t\t\tconst moduleId = modules[indexModule].id;\n\t\t\tif (moduleId === null) continue;\n\t\t\tif (usedIds.has(moduleId)) {\n\t\t\t\tthrow new Error(`checkConstraints: duplicate module id ${moduleId}`);\n\t\t\t}\n\t\t\tusedIds.add(moduleId);\n\t\t}\n\n\t\tconst chunks = this.chunks;\n\t\tfor (let indexChunk = 0; indexChunk < chunks.length; indexChunk++) {\n\t\t\tconst chunk = chunks[indexChunk];\n\t\t\tif (chunks.indexOf(chunk) !== indexChunk) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`checkConstraints: duplicate chunk in compilation ${chunk.debugId}`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tfor (const chunkGroup of this.chunkGroups) {\n\t\t\tchunkGroup.checkConstraints();\n\t\t}\n\t}\n}\n\n// TODO remove in webpack 5\nCompilation.prototype.applyPlugins = util.deprecate(\n\t/**\n\t * @deprecated\n\t * @param {string} name Name\n\t * @param {any[]} args Other arguments\n\t * @returns {void}\n\t * @this {Compilation}\n\t */\n\tfunction(name, ...args) {\n\t\tthis.hooks[\n\t\t\tname.replace(/[- ]([a-z])/g, match => match[1].toUpperCase())\n\t\t].call(...args);\n\t},\n\t\"Compilation.applyPlugins is deprecated. Use new API on `.hooks` instead\"\n);\n\n// TODO remove in webpack 5\nObject.defineProperty(Compilation.prototype, \"moduleTemplate\", {\n\tconfigurable: false,\n\tget: util.deprecate(\n\t\t/**\n\t\t * @deprecated\n\t\t * @this {Compilation}\n\t\t * @returns {TODO} module template\n\t\t */\n\t\tfunction() {\n\t\t\treturn this.moduleTemplates.javascript;\n\t\t},\n\t\t\"Compilation.moduleTemplate: Use Compilation.moduleTemplates.javascript instead\"\n\t),\n\tset: util.deprecate(\n\t\t/**\n\t\t * @deprecated\n\t\t * @param {ModuleTemplate} value Template value\n\t\t * @this {Compilation}\n\t\t * @returns {void}\n\t\t */\n\t\tfunction(value) {\n\t\t\tthis.moduleTemplates.javascript = value;\n\t\t},\n\t\t\"Compilation.moduleTemplate: Use Compilation.moduleTemplates.javascript instead.\"\n\t)\n});\n\nmodule.exports = Compilation;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}